"use strict";var Toe=Object.defineProperty,Aoe=Object.defineProperties,Soe=Object.getOwnPropertyDescriptors,v2=Object.getOwnPropertySymbols,xoe=Object.prototype.hasOwnProperty,Moe=Object.prototype.propertyIsEnumerable,w2=(ce,gt,Yt)=>gt in ce?Toe(ce,gt,{enumerable:!0,configurable:!0,writable:!0,value:Yt}):ce[gt]=Yt,E2=(ce,gt)=>{for(var Yt in gt||(gt={}))xoe.call(gt,Yt)&&w2(ce,Yt,gt[Yt]);if(v2)for(var Yt of v2(gt))Moe.call(gt,Yt)&&w2(ce,Yt,gt[Yt]);return ce},b2=(ce,gt)=>Aoe(ce,Soe(gt));(self.webpackChunkAmbush_Rankings=self.webpackChunkAmbush_Rankings||[]).push([[179],{508:()=>{function ce(n){return"function"==typeof n}function gt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Yt=gt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){e=s instanceof Yt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{o0(s)}catch(o){e=null!=e?e:[],o instanceof Yt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yt(e)}}add(e){var t;if(e&&e!==this)if(this.closed)o0(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oo(t,e)}remove(e){const{_finalizers:t}=this;t&&oo(t,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const n=new In;return n.closed=!0,n})();const r0=In.EMPTY;function s0(n){return n instanceof In||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function o0(n){ce(n)?n():n.unsubscribe()}const Xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ol={setTimeout(n,e,...t){const{delegate:r}=Ol;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ol;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function a0(n){Ol.setTimeout(()=>{const{onUnhandledError:e}=Xi;if(!e)throw n;e(n)})}function u0(){}const I2=Pp("C",void 0,void 0);function Pp(n,e,t){return{kind:n,value:e,error:t}}let es=null;function Pl(n){if(Xi.useDeprecatedSynchronousErrorHandling){const e=!es;if(e&&(es={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=es;if(es=null,t)throw r}}else n()}class Fp extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,s0(e)&&e.add(this)):this.destination=M2}static create(e,t,r){return new Ya(e,t,r)}next(e){this.isStopped?Vp(function C2(n){return Pp("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Vp(function D2(n){return Pp("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vp(I2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A2=Function.prototype.bind;function Lp(n,e){return A2.call(n,e)}class S2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fl(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fl(r)}else Fl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fl(t)}}}class Ya extends Fp{constructor(e,t,r){let i;if(super(),ce(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Xi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lp(e.next,s),error:e.error&&Lp(e.error,s),complete:e.complete&&Lp(e.complete,s)}):i=e}this.destination=new S2(i)}}function Fl(n){Xi.useDeprecatedSynchronousErrorHandling?function T2(n){Xi.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=n)}(n):a0(n)}function Vp(n,e){const{onStoppedNotification:t}=Xi;t&&Ol.setTimeout(()=>t(n,e))}const M2={closed:!0,next:u0,error:function x2(n){throw n},complete:u0},Up="function"==typeof Symbol&&Symbol.observable||"@@observable";function ts(n){return n}function c0(...n){return l0(n)}function l0(n){return 0===n.length?ts:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function R2(n){return n&&n instanceof Fp||function k2(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}(n)&&s0(n)}(t)?t:new Ya(t,r,i);return Pl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=d0(r))((i,s)=>{const o=new Ya({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Up](){return this}pipe(...t){return l0(t)(this)}toPromise(t){return new(t=d0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function d0(n){var e;return null!==(e=null!=n?n:Xi.Promise)&&void 0!==e?e:Promise}const N2=gt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vr=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new h0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new N2}next(t){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?r0:(this.currentObservers=null,s.push(t),new In(()=>{this.currentObservers=null,oo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Re;return t.source=this,t}}return n.create=(e,t)=>new h0(e,t),n})();class h0 extends Vr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:r0}}function f0(n){return ce(null==n?void 0:n.lift)}function At(n){return e=>{if(f0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,e,t,r,i){return new O2(n,e,t,r,i)}class O2 extends Fp{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(n,e){return At((t,r)=>{let i=0;t.subscribe(mt(r,s=>{r.next(n.call(e,s,i++))}))})}function g0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ns(n){return this instanceof ns?(this.v=n,this):new ns(n)}function L2(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ns?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function V2(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function y0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const _0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function v0(n){return ce(null==n?void 0:n.then)}function w0(n){return ce(n[Up])}function E0(n){return Symbol.asyncIterator&&ce(null==n?void 0:n[Symbol.asyncIterator])}function b0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const I0=function B2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function D0(n){return ce(null==n?void 0:n[I0])}function C0(n){return L2(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ns(t.read());if(i)return yield ns(void 0);yield yield ns(r)}}finally{t.releaseLock()}})}function T0(n){return ce(null==n?void 0:n.getReader)}function Yn(n){if(n instanceof Re)return n;if(null!=n){if(w0(n))return function j2(n){return new Re(e=>{const t=n[Up]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(_0(n))return function $2(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(v0(n))return function H2(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a0)})}(n);if(E0(n))return A0(n);if(D0(n))return function G2(n){return new Re(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(T0(n))return function q2(n){return A0(C0(n))}(n)}throw b0(n)}function A0(n){return new Re(e=>{(function z2(n,e){var t,r,i,s;return function P2(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=V2(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ur(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function yt(n,e,t=1/0){return ce(e)?yt((r,i)=>ye((s,o)=>e(r,s,i,o))(Yn(n(r,i))),t):("number"==typeof e&&(t=e),At((r,i)=>function W2(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Yn(t(m,l++)).subscribe(mt(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const E=u.shift();o?Ur(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return n.subscribe(mt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Za(n=1/0){return yt(ts,n)}const Br=new Re(n=>n.complete());function jp(n){return n[n.length-1]}function S0(n){return ce(jp(n))?n.pop():void 0}function Ja(n){return function Q2(n){return n&&ce(n.schedule)}(jp(n))?n.pop():void 0}function Ll(n,e=0){return At((t,r)=>{t.subscribe(mt(r,i=>Ur(r,n,()=>r.next(i),e),()=>Ur(r,n,()=>r.complete(),e),i=>Ur(r,n,()=>r.error(i),e)))})}function Vl(n,e=0){return At((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function x0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{Ur(t,e,()=>{const r=n[Symbol.asyncIterator]();Ur(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function St(n,e){return e?function nB(n,e){if(null!=n){if(w0(n))return function Z2(n,e){return Yn(n).pipe(Vl(e),Ll(e))}(n,e);if(_0(n))return function X2(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(v0(n))return function J2(n,e){return Yn(n).pipe(Vl(e),Ll(e))}(n,e);if(E0(n))return x0(n,e);if(D0(n))return function eB(n,e){return new Re(t=>{let r;return Ur(t,e,()=>{r=n[I0](),Ur(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ce(null==r?void 0:r.return)&&r.return()})}(n,e);if(T0(n))return function tB(n,e){return x0(C0(n),e)}(n,e)}throw b0(n)}(n,e):Yn(n)}function $p(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ya({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("Could not find renamed property on target object.")}function Hp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Gp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const sB=De({__forward_ref__:De});function Te(n){return n.__forward_ref__=Te,n.toString=function(){return _e(this())},n}function J(n){return M0(n)?n():n}function M0(n){return"function"==typeof n&&n.hasOwnProperty(sB)&&n.__forward_ref__===Te}class he extends Error{constructor(e,t){super(function qp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Q(n){return"string"==typeof n?n:null==n?"":String(n)}function Zt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Q(n)}function Ul(n,e){const t=e?` in ${e}`:"";throw new he(-201,`No provider for ${Zt(n)} found${t}`)}function Cn(n,e){null==n&&function Me(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function zp(n){return k0(n,Bl)||k0(n,N0)}function k0(n,e){return n.hasOwnProperty(e)?n[e]:null}function R0(n){return n&&(n.hasOwnProperty(Wp)||n.hasOwnProperty(hB))?n[Wp]:null}const Bl=De({\u0275prov:De}),Wp=De({\u0275inj:De}),N0=De({ngInjectableDef:De}),hB=De({ngInjectorDef:De});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Kp;function _i(n){const e=Kp;return Kp=n,e}function O0(n,e,t){const r=zp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&z.Optional?null:void 0!==e?e:void Ul(_e(n),"Injector")}function vi(n){return{toString:n}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),fr=(()=>{return(n=fr||(fr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fr;var n})();const pB="undefined"!=typeof globalThis&&globalThis,gB="undefined"!=typeof window&&window,mB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we=pB||"undefined"!=typeof global&&global||gB||mB,ao={},Ce=[],jl=De({\u0275cmp:De}),Qp=De({\u0275dir:De}),Yp=De({\u0275pipe:De}),P0=De({\u0275mod:De}),$r=De({\u0275fac:De}),Xa=De({__NG_ELEMENT_ID__:De});let yB=0;function rs(n){return vi(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ce,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,id:"c",styles:n.styles||Ce,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=yB++,r.inputs=U0(n.inputs,t),r.outputs=U0(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(F0):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(L0):null,r})}function F0(n){return Vt(n)||function wi(n){return n[Qp]||null}(n)}function L0(n){return function is(n){return n[Yp]||null}(n)}const V0={};function Tn(n){return vi(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ce,declarations:n.declarations||Ce,imports:n.imports||Ce,exports:n.exports||Ce,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(V0[n.id]=n.type),e})}function U0(n,e){if(null==n)return ao;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const j=rs;function Vt(n){return n[jl]||null}function Fn(n,e){const t=n[P0]||null;if(!t&&!0===e)throw new Error(`Type ${_e(n)} does not have '\u0275mod' property.`);return t}const X=11;function pr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xn(n){return Array.isArray(n)&&!0===n[1]}function Xp(n){return 0!=(8&n.flags)}function ql(n){return 2==(2&n.flags)}function zl(n){return 1==(1&n.flags)}function er(n){return null!==n.template}function IB(n){return 0!=(512&n[2])}function us(n,e){return n.hasOwnProperty($r)?n[$r]:null}class TB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return j0}function j0(n){return n.type.prototype.ngOnChanges&&(n.setInput=SB),AB}function AB(){const n=H0(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ao)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SB(n,e,t,r){const i=H0(n)||function xB(n,e){return n[$0]=e}(n,{previous:ao,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new TB(u&&u.currentValue,e,o===ao),n[r]=e}Vn.ngInherit=!0;const $0="__ngSimpleChanges__";function H0(n){return n[$0]||null}let ig;function Ue(n){return!!n.listen}const G0={createRenderer:(n,e)=>function sg(){return void 0!==ig?ig:"undefined"!=typeof document?document:void 0}()};function Xe(n){for(;Array.isArray(n);)n=n[0];return n}function Wl(n,e){return Xe(e[n])}function Bn(n,e){return Xe(e[n.index])}function og(n,e){return n.data[e]}function Sn(n,e){const t=e[n];return pr(t)?t:t[0]}function ag(n){return 128==(128&n[2])}function Ei(n,e){return null==e?null:n[e]}function z0(n){n[18]=0}function ug(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const q={lFrame:eT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function W0(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function fe(){return q.lFrame.tView}function Kl(n){return q.lFrame.contextLView=n,n[8]}function st(){let n=K0();for(;null!==n&&64===n.type;)n=n.parent;return n}function K0(){return q.lFrame.currentTNode}function gr(n,e){const t=q.lFrame;t.currentTNode=n,t.isParent=e}function cg(){return q.lFrame.isParent}function Ql(){return q.isInCheckNoChangesMode}function Yl(n){q.isInCheckNoChangesMode=n}function po(){return q.lFrame.bindingIndex++}function Gr(n){const e=q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zB(n,e){const t=q.lFrame;t.bindingIndex=t.bindingRootIndex=n,dg(e)}function dg(n){q.lFrame.currentDirectiveIndex=n}function fg(n){q.lFrame.currentQueryIndex=n}function KB(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function J0(n,e,t){if(t&z.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&z.Host||(i=KB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=q.lFrame=X0();return r.currentTNode=e,r.lView=n,!0}function Zl(n){const e=X0(),t=n[1];q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function X0(){const n=q.lFrame,e=null===n?null:n.child;return null===e?eT(n):e}function eT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function tT(){const n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const nT=tT;function Jl(){const n=tT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xt(){return q.lFrame.selectedIndex}function bi(n){q.lFrame.selectedIndex=n}function Be(){const n=q.lFrame;return og(n.tView,n.selectedIndex)}function Xl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function ed(n,e,t){rT(n,e,3,t)}function td(n,e,t,r){(3&n[2])===t&&rT(n,e,t,r)}function pg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function rT(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(rj(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function rj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class iu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function nd(n,e,t){const r=Ue(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];mg(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function iT(n){return 3===n||4===n||6===n}function mg(n){return 64===n.charCodeAt(0)}function rd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||sT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function sT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function oT(n){return-1!==n}function go(n){return 32767&n}function mo(n,e){let t=function uj(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let yg=!0;function id(n){const e=yg;return yg=n,e}let cj=0;function ou(n,e){const t=vg(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,_g(r.data,n),_g(e,null),_g(r.blueprint,null));const i=sd(n,e),s=n.injectorIndex;if(oT(i)){const o=go(i),a=mo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function _g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function sd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function od(n,e,t){!function lj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xa)&&(r=t[Xa]),null==r&&(r=t[Xa]=cj++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function cT(n,e,t){if(t&z.Optional)return n;Ul(e,"NodeInjector")}function lT(n,e,t,r){if(t&z.Optional&&void 0===r&&(r=null),0==(t&(z.Self|z.Host))){const i=n[9],s=_i(void 0);try{return i?i.get(e,r,t&z.Optional):O0(e,r,t&z.Optional)}finally{_i(s)}}return cT(r,e,t)}function dT(n,e,t,r=z.Default,i){if(null!==n){const s=function pj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Xa)?n[Xa]:void 0;return"number"==typeof e?e>=0?255&e:hj:e}(t);if("function"==typeof s){if(!J0(e,n,r))return r&z.Host?cT(i,t,r):lT(e,t,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;Ul(t)}finally{nT()}}else if("number"==typeof s){let o=null,a=vg(n,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?sd(n,e):e[a+8],-1!==u&&pT(r,!1)?(o=e[1],a=go(u),e=mo(u,e)):a=-1);-1!==a;){const l=e[1];if(fT(s,a,l.data)){const d=fj(a,e,t,o,r,c);if(d!==hT)return d}u=e[a+8],-1!==u&&pT(r,e[1].data[a+8]===c)&&fT(s,a,e)?(o=l,a=go(u),e=mo(u,e)):a=-1}}}return lT(e,t,r,i)}const hT={};function hj(){return new yo(st(),I())}function fj(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=function ad(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&er(f)&&f.type===t)return u}return null}(a,o,t,null==r?ql(a)&&yg:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?au(e,o,l,a):hT}function au(n,e,t,r){let i=n[t];const s=e.data;if(function ij(n){return n instanceof iu}(i)){const o=i;o.resolving&&function oB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new he(-200,`Circular dependency in DI detected for ${n}${t}`)}(Zt(s[t]));const a=id(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?_i(o.injectImpl):null;J0(n,r,z.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function nj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=j0(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&_i(u),id(a),o.resolving=!1,nT()}}return i}function fT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function pT(n,e){return!(n&z.Self||n&z.Host&&e)}class yo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return dT(this._tNode,this._lView,e,r,t)}}function wg(n){return M0(n)?()=>{const e=wg(J(n));return e&&e()}:us(n)}function uu(n){return function dj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(iT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(st(),n)}const vo="__parameters__";function Eo(n,e,t){return vi(()=>{const r=function Eg(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(vo)?u[vo]:Object.defineProperty(u,vo,{value:[]})[vo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ee{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const mj=new ee("AnalyzeForEntryComponents");function mr(n,e){n.forEach(t=>Array.isArray(t)?mr(t,e):e(t))}function mT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ud(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xn(n,e,t){let r=bo(n,e);return r>=0?n[1|r]=t:(r=~r,function vj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ig(n,e){const t=bo(n,e);if(t>=0)return n[1|t]}function bo(n,e){return function vT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const hu={},Cg="__NG_DI_FLAG__",ld="ngTempTokenPath",Tj=/\n/gm,ET="__source",Sj=De({provide:String,useValue:De});let fu;function bT(n){const e=fu;return fu=n,e}function xj(n,e=z.Default){if(void 0===fu)throw new he(203,"");return null===fu?O0(n,void 0,e):fu.get(n,e&z.Optional?null:void 0,e)}function F(n,e=z.Default){return(function fB(){return Kp}()||xj)(J(n),e)}const Mj=F;function Tg(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new he(900,"");let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=kj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function pu(n,e){return n[Cg]=e,n.prototype[Cg]=e,n}function kj(n){return n[Cg]}const dd=pu(Eo("Inject",n=>({token:n})),-1),at=pu(Eo("Optional"),8),gu=pu(Eo("SkipSelf"),4);class kT{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Di(n){return n instanceof kT?n.changingThisBreaksApplicationSecurity:n}const Xj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,e$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var et=(()=>((et=et||{})[et.NONE=0]="NONE",et[et.HTML=1]="HTML",et[et.STYLE=2]="STYLE",et[et.SCRIPT=3]="SCRIPT",et[et.URL=4]="URL",et[et.RESOURCE_URL=5]="RESOURCE_URL",et))();function vu(n){const e=function wu(){const n=I();return n&&n[12]}();return e?e.sanitize(et.URL,n)||"":function yu(n,e){const t=function Qj(n){return n instanceof kT&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Di(n):function gd(n){return(n=String(n)).match(Xj)||n.match(e$)?n:"unsafe:"+n}(Q(n))}const jT="__ngContext__";function jt(n,e){n[jT]=e}function Pg(n){const e=function Eu(n){return n[jT]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Lg(n){return n.ngOriginalError}function I$(n,...e){n.error(...e)}class bu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function b$(n){return n&&n.ngErrorLogger||I$}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Lg(e);for(;t&&Lg(t);)t=Lg(t);return t||null}}const N$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(we))();function _r(n){return n instanceof Function?n():n}var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();function Ug(n,e){return undefined(n,e)}function Iu(n){const e=n[3];return Xn(e)?e[3]:e}function Bg(n){return YT(n[13])}function jg(n){return YT(n[4])}function YT(n){for(;null!==n&&!Xn(n);)n=n[4];return n}function To(n,e,t,r,i){if(null!=r){let s,o=!1;Xn(r)?s=r:pr(r)&&(o=!0,r=r[0]);const a=Xe(r);0===n&&null!==t?null==i?nA(e,t,a):cs(e,t,a,i||null,!0):1===n&&null!==t?cs(e,t,a,i||null,!0):2===n?function cA(n,e,t){const r=yd(n,e);r&&function W$(n,e,t,r){Ue(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Y$(n,e,t,r,i){const s=t[7];s!==Xe(t)&&To(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Du(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Hg(n,e,t){if(Ue(n))return n.createElement(e,t);{const r=null!==t?function NB(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function JT(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ug(i,-1)),t.splice(r,1)}function Gg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&JT(i,r),e>0&&(n[t-1][4]=r[4]);const s=ud(n,10+e);!function U$(n,e){Du(n,e,e[X],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function XT(n,e){if(!(256&e[2])){const t=e[X];Ue(t)&&t.destroyNode&&Du(n,e,t,3,null,null),function $$(n){let e=n[13];if(!e)return qg(n[1],n);for(;e;){let t=null;if(pr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)pr(e)&&qg(e[1],e),e=e[3];null===e&&(e=n),pr(e)&&qg(e[1],e),t=e&&e[4]}e=t}}(e)}}function qg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function z$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof iu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function q$(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Xe(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ue(e[X])&&e[X].destroy();const t=e[17];if(null!==t&&Xn(e[3])){t!==e[3]&&JT(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function eA(n,e,t){return function tA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===fr.None||i===fr.Emulated)return null}return Bn(r,t)}(n,e.parent,t)}function cs(n,e,t,r,i){Ue(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function nA(n,e,t){Ue(n)?n.appendChild(e,t):e.appendChild(t)}function rA(n,e,t,r,i){null!==r?cs(n,e,t,r,i):nA(n,e,t)}function yd(n,e){return Ue(n)?n.parentNode(e):e.parentNode}let oA=function sA(n,e,t){return 40&n.type?Bn(n,t):null};function _d(n,e,t,r){const i=eA(n,r,e),s=e[X],a=function iA(n,e,t){return oA(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)rA(s,i,t[u],a,!1);else rA(s,i,t,a,!1)}function vd(n,e){if(null!==e){const t=e.type;if(3&t)return Bn(e,n);if(4&t)return Wg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return vd(n,r);{const i=n[e.index];return Xn(i)?Wg(-1,i):Xe(i)}}if(32&t)return Ug(e,n)()||Xe(n[e.index]);{const r=uA(n,e);return null!==r?Array.isArray(r)?r[0]:vd(Iu(n[16]),r):vd(n,e.next)}}return null}function uA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Wg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return vd(r,i)}return e[7]}function Kg(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&jt(Xe(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Kg(n,e,t.child,r,i,s,!1),To(e,n,i,a,s);else if(32&u){const c=Ug(t,r);let l;for(;l=c();)To(e,n,i,l,s);To(e,n,i,a,s)}else 16&u?lA(n,e,r,t,i,s):To(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Du(n,e,t,r,i,s){Kg(t,r,n.firstChild,e,i,s,!1)}function lA(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)To(e,n,i,u[c],s);else Kg(n,e,u,o[3],i,s,!0)}function dA(n,e,t){Ue(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Qg(n,e,t){Ue(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function hA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const fA="ng-template";function J$(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==hA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function pA(n){return 4===n.type&&n.value!==fA}function X$(n,e,t){return e===(4!==n.type||t?n.value:fA)}function eH(n,e,t){let r=4;const i=n.attrs||[],s=function rH(n){for(let e=0;e<n.length;e++)if(iT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!X$(n,u,t)||""===u&&1===e.length){if(tr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!J$(n.attrs,c,t)){if(tr(r))return!1;o=!0}continue}const d=tH(8&r?"class":u,i,pA(n),t);if(-1===d){if(tr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==hA(f,c,0)||2&r&&c!==h){if(tr(r))return!1;o=!0}}}}else{if(!o&&!tr(r)&&!tr(u))return!1;if(o&&tr(u))continue;o=!1,r=u|1&r}}return tr(r)||o}function tr(n){return 0==(1&n)}function tH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function iH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function gA(n,e,t=!1){for(let r=0;r<e.length;r++)if(eH(n,e[r],t))return!0;return!1}function mA(n,e){return n?":not("+e.trim()+")":e}function oH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!tr(o)&&(e+=mA(s,i),i=""),r=o,s=s||!tr(r);t++}return""!==i&&(e+=mA(s,i)),e}const Y={};function ae(n){yA(fe(),I(),Xt()+n,Ql())}function yA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&ed(e,s,t)}else{const s=n.preOrderHooks;null!==s&&td(e,s,0,t)}bi(t)}function wd(n,e){return n<<17|e<<2}function nr(n){return n>>17&32767}function Yg(n){return 2|n}function qr(n){return(131068&n)>>2}function Zg(n,e){return-131069&n|e<<2}function Jg(n){return 1|n}function SA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];fg(i),o.contentQueries(2,e[s],s)}}}function Cu(n,e,t,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,z0(l),l[3]=l[15]=n,l[8]=t,l[10]=o||n&&n[10],l[X]=a||n&&n[X],l[12]=u||n&&n[12]||null,l[9]=c||n&&n[9]||null,l[6]=s,l[16]=2==e.type?n[16]:l,l}function Ao(n,e,t,r,i){let s=n.data[e];if(null===s)s=function am(n,e,t,r,i){const s=K0(),o=cg(),u=n.data[e]=function DH(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function qB(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ru(){const n=q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function So(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Tu(n,e,t){Zl(e);try{const r=n.viewQuery;null!==r&&mm(1,r,t);const i=n.template;null!==i&&xA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&SA(n,e),n.staticViewQueries&&mm(2,n.viewQuery,t);const s=n.components;null!==s&&function EH(n,e){for(let t=0;t<e.length;t++)$H(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Jl()}}function xo(n,e,t,r){const i=e[2];if(256==(256&i))return;Zl(e);const s=Ql();try{z0(e),function Q0(n){return q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&xA(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&ed(e,c,null)}else{const c=n.preOrderHooks;null!==c&&td(e,c,0,null),pg(e,0)}if(function BH(n){for(let e=Bg(n);null!==e;e=jg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&ug(s,1),i[2]|=1024}}}(e),function UH(n){for(let e=Bg(n);null!==e;e=jg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ag(r)&&xo(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&SA(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&ed(e,c)}else{const c=n.contentHooks;null!==c&&td(e,c,1),pg(e,1)}!function vH(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)bi(~i);else{const s=i,o=t[++r],a=t[++r];zB(o,s),a(2,e[s])}}}finally{bi(-1)}}(n,e);const a=n.components;null!==a&&function wH(n,e){for(let t=0;t<e.length;t++)jH(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&mm(2,u,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&ed(e,c)}else{const c=n.viewHooks;null!==c&&td(e,c,2),pg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ug(e[3],-1))}finally{Jl()}}function bH(n,e,t,r){const i=e[10],s=!Ql(),o=function q0(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Tu(n,e,r),xo(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function xA(n,e,t,r,i){const s=Xt(),o=2&r;try{bi(-1),o&&e.length>20&&yA(n,e,20,Ql()),t(r,i)}finally{bi(s)}}function um(n,e,t){!W0()||(function kH(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||ou(t,e),jt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=er(u);c&&FH(e,t,u);const l=au(e,n,a,t);jt(l,e),null!==o&&LH(0,a-i,l,u,0,o),c&&(Sn(t.index,e)[8]=l)}}(n,e,t,Bn(t,e)),128==(128&t.flags)&&function RH(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function WB(){return q.lFrame.currentDirectiveIndex}();try{bi(o);for(let u=r;u<i;u++){const c=n.data[u],l=e[u];dg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&VA(c,l)}}finally{bi(-1),dg(a)}}(n,e,t))}function cm(n,e,t=Bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function kA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Id(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Id(n,e,t,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function IH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Y);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function PA(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function kn(n,e,t,r,i,s,o,a){const u=Bn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(KA(n,t,l,r,i),ql(e)&&function AH(n,e){const t=Sn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function TH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Ue(s)?s.setProperty(u,r,i):mg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function lm(n,e,t,r){let i=!1;if(W0()){const s=function NH(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];gA(t,o.selectors,!1)&&(i||(i=[]),od(ou(t,e),n,o.type),er(o)?(UA(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,BA(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=So(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=rd(t.mergedAttrs,d.hostAttrs),jA(n,t,e,c,d),PH(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}!function CH(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||pA(e)?null:VH(d,s);o.push(h),a=PA(d,c,a),u=PA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function OH(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new he(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=rd(t.mergedAttrs,t.attrs),i}function LA(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function MH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function VA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function UA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function PH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;er(e)&&(t[""]=n)}}function BA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function jA(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=us(i.type)),o=new iu(s,er(i),null);n.blueprint[r]=o,t[r]=o,LA(n,e,0,r,So(n,t,i.hostVars,Y),i)}function FH(n,e,t){const r=Bn(e,n),i=kA(t),s=n[10],o=Dd(n,Cu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function LH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function VH(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function $A(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function jH(n,e){const t=Sn(e,n);if(ag(t)){const r=t[1];80&t[2]?xo(r,t,r.template,t[8]):t[5]>0&&hm(t)}}function hm(n){for(let r=Bg(n);null!==r;r=jg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];xo(o,s,o.template,s[8])}else s[5]>0&&hm(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Sn(t[r],n);ag(i)&&i[5]>0&&hm(i)}}function $H(n,e){const t=Sn(e,n),r=t[1];(function HH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Tu(r,t,t[8])}function Dd(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fm(n){for(;n;){n[2]|=64;const e=Iu(n);if(IB(n)&&!e)return n;n=e}return null}function gm(n,e,t){const r=e[10];r.begin&&r.begin();try{xo(n,e,n.template,t)}catch(i){throw WA(e,i),i}finally{r.end&&r.end()}}function HA(n){!function pm(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Pg(t),i=r[1];bH(i,r,i.template,t)}}(n[8])}function mm(n,e,t){fg(0),e(n,t)}const WH=(()=>Promise.resolve(null))();function GA(n){return n[7]||(n[7]=[])}function qA(n){return n.cleanup||(n.cleanup=[])}function WA(n,e){const t=n[9],r=t?t.get(bu,null):null;r&&r.handleError(e)}function KA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function zr(n,e,t){const r=Wl(e,n);!function ZT(n,e,t){Ue(n)?n.setValue(e,t):e.textContent=t}(n[X],r,t)}function Cd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Gp(i,a):2==s&&(r=Gp(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const ym=new ee("INJECTOR",-1);class QA{get(e,t=hu){if(t===hu){const r=new Error(`NullInjectorError: No provider for ${_e(e)}!`);throw r.name="NullInjectorError",r}return t}}const _m=new ee("Set Injector scope."),Au={},YH={};let vm;function YA(){return void 0===vm&&(vm=new QA),vm}function ZA(n,e=null,t=null,r){const i=JA(n,e,t,r);return i._resolveInjectorDefTypes(),i}function JA(n,e=null,t=null,r){return new ZH(n,t,e||YA(),r)}class ZH{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&mr(t,a=>this.processProvider(a,e,t)),mr([e],a=>this.processInjectorType(a,[],s)),this.records.set(ym,Mo(void 0,this));const o=this.records.get(_m);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:_e(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=hu,r=z.Default){this.assertNotDestroyed();const i=bT(this),s=_i(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function sG(n){return"function"==typeof n||"object"==typeof n&&n instanceof ee}(e)&&zp(e);a=u&&this.injectableDefInScope(u)?Mo(wm(e),Au):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?YA():this.parent).get(e,t=r&z.Optional&&t===hu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ld]=o[ld]||[]).unshift(_e(e)),i)throw o;return function Rj(n,e,t,r){const i=n[ld];throw e[ET]&&i.unshift(e[ET]),n.message=function Nj(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=_e(e);if(Array.isArray(e))i=e.map(_e).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_e(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Tj,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ld]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{_i(s),bT(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(_e(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processInjectorType(e,t,r){if(!(e=J(e)))return!1;let i=R0(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=R0(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{mr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];mr(f,p=>this.processProvider(p,h,f||Ce))}}this.injectorDefTypes.add(o);const u=us(o)||(()=>new o);this.records.set(o,Mo(u,Au));const c=i.providers;if(null!=c&&!a){const l=e;mr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=ko(e=J(e))?e:J(e&&e.provide);const s=function XH(n,e,t){return eS(n)?Mo(void 0,n.useValue):Mo(XA(n),Au)}(e);if(ko(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Mo(void 0,Au,!0),o.factory=()=>Tg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Au&&(t.value=YH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function iG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function wm(n){const e=zp(n),t=null!==e?e.factory:us(n);if(null!==t)return t;if(n instanceof ee)throw new he(204,!1);if(n instanceof Function)return function JH(n){const e=n.length;if(e>0)throw function du(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new he(204,!1);const t=function lB(n){const e=n&&(n[Bl]||n[N0]);if(e){const t=function dB(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new he(204,!1)}function XA(n,e,t){let r;if(ko(n)){const i=J(n);return us(i)||wm(i)}if(eS(n))r=()=>J(n.useValue);else if(function tG(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Tg(n.deps||[]));else if(function eG(n){return!(!n||!n.useExisting)}(n))r=()=>F(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function rG(n){return!!n.deps}(n))return us(i)||wm(i);r=()=>new i(...Tg(n.deps))}return r}function Mo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eS(n){return null!==n&&"object"==typeof n&&Sj in n}function ko(n){return"function"==typeof n}let vt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return ZA({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return ZA({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=hu,n.NULL=new QA,n.\u0275prov=re({token:n,providedIn:"any",factory:()=>F(ym)}),n.__NG_ELEMENT_ID__=-1,n})();function fG(n,e){Xl(Pg(n)[1],st())}function ve(n){let e=function hS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new he(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Im(n.inputs),o.declaredInputs=Im(n.declaredInputs),o.outputs=Im(n.outputs);const a=i.hostBindings;a&&yG(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&gG(n,u),c&&mG(n,c),Hp(n.inputs,i.inputs),Hp(n.declaredInputs,i.declaredInputs),Hp(n.outputs,i.outputs),er(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ve&&(t=!1)}}e=Object.getPrototypeOf(e)}!function pG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rd(i.hostAttrs,t=rd(t,i.hostAttrs))}}(r)}function Im(n){return n===ao?{}:n===Ce?[]:n}function gG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function mG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function yG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Td=null;function Ro(){if(!Td){const n=we.Symbol;if(n&&n.iterator)Td=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Td=r)}}}return Td}function Su(n){return!!function Dm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ro()in n)}function $t(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Oo(n,e,t,r){return $t(n,po(),t)?e+Q(t)+r:Y}function Cm(n,e,t,r,i,s,o,a){const u=I(),c=fe(),l=n+20,d=c.firstCreatePass?function DG(n,e,t,r,i,s,o,a,u){const c=e.consts,l=Ao(e,n,4,o||null,Ei(c,a));lm(e,t,l,Ei(c,u)),Xl(e,l);const d=l.tViews=Id(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];gr(d,!1);const h=u[X].createComment("");_d(c,u,h,d),jt(h,u),Dd(u,u[l]=$A(h,u,h,d)),zl(d)&&um(c,u,d),null!=o&&cm(u,d,a)}function b(n,e=z.Default){const t=I();return null===t?F(n,e):dT(st(),t,J(n),e)}function Mm(){throw new Error("invalid")}function tn(n,e,t){const r=I();return $t(r,po(),e)&&kn(fe(),Be(),r,n,e,r[X],t,!1),tn}function km(n,e,t,r,i){const o=i?"class":"style";KA(n,t,e.inputs[o],o,r)}function G(n,e,t,r){const i=I(),s=fe(),o=20+n,a=i[X],u=i[o]=Hg(a,e,function tj(){return q.lFrame.currentNamespace}()),c=s.firstCreatePass?function zG(n,e,t,r,i,s,o){const a=e.consts,c=Ao(e,n,2,i,Ei(a,s));return lm(e,t,c,Ei(a,o)),null!==c.attrs&&Cd(c,c.attrs,!1),null!==c.mergedAttrs&&Cd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];gr(c,!0);const l=c.mergedAttrs;null!==l&&nd(a,u,l);const d=c.classes;null!==d&&Qg(a,u,d);const h=c.styles;return null!==h&&dA(a,u,h),64!=(64&c.flags)&&_d(s,i,u,c),0===function UB(){return q.lFrame.elementDepthCount}()&&jt(u,i),function BB(){q.lFrame.elementDepthCount++}(),zl(c)&&(um(s,i,c),function MA(n,e,t){if(Xp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&cm(i,c),G}function $(){let n=st();cg()?function lg(){q.lFrame.isParent=!1}():(n=n.parent,gr(n,!1));const e=n;!function jB(){q.lFrame.elementDepthCount--}();const t=fe();return t.firstCreatePass&&(Xl(t,n),Xp(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function oj(n){return 0!=(16&n.flags)}(e)&&km(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function aj(n){return 0!=(32&n.flags)}(e)&&km(t,e,I(),e.stylesWithoutHost,!1),$}function Ee(n,e,t,r){return G(n,e,t,r),$(),Ee}function Mu(n){return!!n&&"function"==typeof n.then}const Om=function OS(n){return!!n&&"function"==typeof n.subscribe};function ut(n,e,t,r){const i=I(),s=fe(),o=st();return function FS(n,e,t,r,i,s,o,a){const u=zl(r),l=n.firstCreatePass&&qA(n),d=e[8],h=GA(e);let f=!0;if(3&r.type||a){const y=Bn(r,e),E=a?a(y):y,_=h.length,C=a?R=>a(Xe(R[r.index])):r.index;if(Ue(t)){let R=null;if(!a&&u&&(R=function KG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=Pm(r,e,d,s,!1);const N=t.listen(E,i,s);h.push(s,N),l&&l.push(i,C,_,_+1)}}else s=Pm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),l&&l.push(i,C,_,o)}else s=Pm(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const y=m.length;if(y)for(let E=0;E<y;E+=2){const V=e[m[E]][m[E+1]].subscribe(s),Ie=h.length;h.push(s,V),l&&l.push(i,r.index,Ie,-(Ie+1))}}}(s,i,i[X],o,n,e,!!t,r),ut}function LS(n,e,t,r){try{return!1!==t(r)}catch(i){return WA(n,i),!1}}function Pm(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Sn(n.index,e):e;0==(32&e[2])&&fm(a);let u=LS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=LS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ho(n=1){return function QB(n){return(q.lFrame.contextLView=function YB(n,e){for(;n>0;)e=e[15],n--;return e}(n,q.lFrame.contextLView))[8]}(n)}function xd(n,e,t){return Fm(n,"",e,"",t),xd}function Fm(n,e,t,r,i){const s=I(),o=Oo(s,e,t,r);return o!==Y&&kn(fe(),Be(),s,n,o,s[X],i,!1),Fm}function zS(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?nr(s):qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];eq(n[a],e)&&(u=!0,n[a+1]=r?Jg(l):Yg(l)),a=r?nr(l):qr(l)}u&&(n[t+1]=r?Yg(s):Jg(s))}function eq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&bo(n,e)>=0}const ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WS(n){return n.substring(ct.key,ct.keyEnd)}function tq(n){return n.substring(ct.value,ct.valueEnd)}function KS(n,e){const t=ct.textEnd;return t===e?-1:(e=ct.keyEnd=function iq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ct.key=e,t),Go(n,e,t))}function QS(n,e){const t=ct.textEnd;let r=ct.key=Go(n,e,t);return t===r?-1:(r=ct.keyEnd=function sq(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=ZS(n,r,t),r=ct.value=Go(n,r,t),r=ct.valueEnd=function oq(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const u=n.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=JS(n,u,o,t):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=JS(n,41,o,t):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(n,r,t),ZS(n,r,t))}function YS(n){ct.key=0,ct.keyEnd=0,ct.value=0,ct.valueEnd=0,ct.textEnd=n.length}function Go(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ZS(n,e,t,r){return(e=Go(n,e,t))<t&&e++,e}function JS(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function Md(n,e){return function ir(n,e,t,r){const i=I(),s=fe(),o=Gr(2);s.firstUpdatePass&&tx(s,n,o,r),e!==Y&&$t(i,o,e)&&rx(s,s.data[Xt()],i,i[X],n,i[o+1]=function gq(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=_e(Di(n)))),n}(e,t),r,o)}(n,e,null,!0),Md}function aq(n,e){for(let t=function rq(n){return YS(n),QS(n,Go(n,0,ct.textEnd))}(e);t>=0;t=QS(e,t))nx(n,WS(e),tq(e))}function Ir(n,e){for(let t=function nq(n){return YS(n),KS(n,Go(n,0,ct.textEnd))}(e);t>=0;t=KS(e,t))xn(n,WS(e),!0)}function sr(n,e,t,r){const i=fe(),s=Gr(2);i.firstUpdatePass&&tx(i,null,s,r);const o=I();if(t!==Y&&$t(o,s,t)){const a=i.data[Xt()];if(sx(a,r)&&!ex(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Gp(u,t||"")),km(i,a,o,t,r)}else!function pq(n,e,t,r,i,s,o,a){i===Y&&(i=Ce);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&rx(n,e,t,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[X],o[s+1],o[s+1]=function fq(n,e,t){if(null==t||""===t)return Ce;const r=[],i=Di(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function ex(n,e){return e>=n.expandoStartIndex}function tx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Xt()],o=ex(n,t);sx(s,r)&&null===e&&!o&&(e=!1),e=function cq(n,e,t,r){const i=function hg(n){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ku(t=Lm(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Lm(i,n,e,t,r),null===s){let u=function lq(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==qr(r))return n[nr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Lm(null,n,e,u[1],r),u=ku(u,e.attrs,r),function dq(n,e,t,r){n[nr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function hq(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ku(r,n[s].hostAttrs,t);return ku(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function JG(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=nr(o),u=qr(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||bo(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=nr(n[a+1]);n[r+1]=wd(h,a),0!==h&&(n[h+1]=Zg(n[h+1],r)),n[a+1]=function cH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=wd(a,0),0!==a&&(n[a+1]=Zg(n[a+1],r)),a=r;else n[r+1]=wd(u,0),0===a?a=r:n[u+1]=Zg(n[u+1],r),u=r;c&&(n[r+1]=Yg(n[r+1])),zS(n,l,r,!0),zS(n,l,r,!1),function XG(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&bo(s,e)>=0&&(t[r+1]=Jg(t[r+1]))}(e,l,n,r,s),o=wd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Lm(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ku(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ku(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xn(n,o,!!t||e[++s]))}return void 0===n?null:n}function nx(n,e,t){xn(n,e,Di(t))}function rx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];kd(function wA(n){return 1==(1&n)}(c)?ix(u,e,t,i,qr(c),o):void 0)||(kd(s)||function vA(n){return 2==(2&n)}(c)&&(s=ix(u,null,t,i,a,o)),function Z$(n,e,t,r,i){const s=Ue(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Mn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Mn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Wl(Xt(),t),i,s))}function ix(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===Y&&(h=d?Ce:void 0);let f=d?Ig(h,r):l===r?h:void 0;if(c&&!kd(f)&&(f=Ig(u,r)),kd(f)&&(a=f,o))return a;const p=n[i+1];i=o?nr(p):qr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ig(u,r))}return a}function kd(n){return void 0!==n}function sx(n,e){return 0!=(n.flags&(e?16:32))}function ie(n,e=""){const t=I(),r=fe(),i=n+20,s=r.firstCreatePass?Ao(r,i,1,e,null):r.data[i],o=t[i]=function $g(n,e){return Ue(n)?n.createText(e):n.createTextNode(e)}(t[X],e);_d(r,t,o,s),gr(s,!1)}function Wr(n){return Kr("",n,""),Wr}function Kr(n,e,t){const r=I(),i=Oo(r,n,e,t);return i!==Y&&zr(r,Xt(),i),Kr}function Ai(n,e,t){sr(xn,Ir,Oo(I(),n,e,t),!0)}function px(n,e,t){!function br(n){sr(nx,aq,n,!1)}(Oo(I(),n,e,t))}const Rd="en-US";let Sx=Rd;function Bm(n,e,t,r,i){if(n=J(n),Array.isArray(n))for(let s=0;s<n.length;s++)Bm(n[s],e,t,r,i);else{const s=fe(),o=I();let a=ko(n)?n:J(n.provide),u=XA(n);const c=st(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ko(n)||!n.multi){const f=new iu(u,i,b),p=$m(a,e,i?l:l+h,d);-1===p?(od(ou(c,o),s,a),jm(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=$m(a,e,l+h,d),p=$m(a,e,l,l+h),m=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!m){od(ou(c,o),s,a);const E=function R3(n,e,t,r,i){const s=new iu(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,Jx(s,i,r&&!t),s}(i?k3:M3,t.length,i,r,u);!i&&y&&(t[p].providerFactory=E),jm(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(E),o.push(E)}else jm(s,n,f>-1?f:p,Jx(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function jm(n,e,t,r){const i=ko(e),s=function nG(n){return!!n.useClass}(e);if(i||s){const u=(s?J(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function Jx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $m(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function M3(n,e,t,r){return Hm(this.multi,[])}function k3(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=au(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Hm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Hm(i,s);return s}function Hm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Oe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function x3(n,e,t){const r=fe();if(r.firstCreatePass){const i=er(n);Bm(t,r.data,r.blueprint,i,!0),Bm(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Xx{}class P3{resolveComponentFactory(e){throw function O3(n){const e=Error(`No component factory found for ${_e(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Fu=(()=>{class n{}return n.NULL=new P3,n})();function F3(){return Wo(st(),I())}function Wo(n,e){return new pn(Bn(n,e))}let pn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=F3,n})();class tM{}let Dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function U3(){const n=I(),t=Sn(st().index,n);return function V3(n){return n[X]}(pr(t)?t:n)}(),n})(),B3=(()=>{class n{}return n.\u0275prov=re({token:n,providedIn:"root",factory:()=>null}),n})();class Ko{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nM=new Ko("13.2.7"),Gm={};function Ld(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Xe(s)),Xn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Ld(u[1],u,c,r)}const o=t.type;if(8&o)Ld(n,e,t.child,r);else if(32&o){const a=Ug(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=uA(e,t);if(Array.isArray(a))r.push(...a);else{const u=Iu(e[16]);Ld(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Lu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ld(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Xn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Gg(e,r),ud(t,r))}this._attachedToViewContainer=!1}XT(this._lView[1],this._lView)}onDestroy(e){!function OA(n,e,t,r){const i=GA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&qA(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function qH(n,e,t){Yl(!0);try{gm(n,e,t)}finally{Yl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new he(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function j$(n,e){Du(n,e,e[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,"");this._appRef=e}}class j3 extends Lu{constructor(e){super(e),this._view=e}detectChanges(){HA(this._view)}checkNoChanges(){!function zH(n){Yl(!0);try{HA(n)}finally{Yl(!1)}}(this._view)}get context(){return null}}class rM extends Fu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Vt(e);return new qm(t,this.ngModule)}}function iM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class qm extends Xx{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function aH(n){return n.map(oH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return iM(this.componentDef.inputs)}get outputs(){return iM(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function H3(n,e){return{get:(t,r,i)=>{const s=n.get(t,Gm,i);return s!==Gm||r===Gm?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(tM,G0),a=s.get(B3,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function NA(n,e,t){if(Ue(n))return n.selectRootElement(e,t===fr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Hg(o.createRenderer(null,this.componentDef),c,function $3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function dS(n,e){return{components:[],scheduler:n||N$,clean:WH,playerHandler:e||null,flags:0}}(),f=Id(0,null,null,1,0,null,null,null,null,null),p=Cu(null,f,h,d,null,null,o,u,a,s);let m,y;Zl(p);try{const E=function cS(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Ao(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Cd(u,c,!0),null!==n&&(nd(i,n,c),null!==u.classes&&Qg(i,n,u.classes),null!==u.styles&&dA(i,n,u.styles)));const l=r.createRenderer(n,e),d=Cu(t,kA(e),null,e.onPush?64:16,t[20],u,r,l,s||null,null);return o.firstCreatePass&&(od(ou(u,t),o,e.type),UA(o,u),BA(u,t.length,1)),Dd(t,d),t[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)nd(u,l,["ng-version",nM.full]);else{const{attrs:_,classes:C}=function uH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!tr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&nd(u,l,_),C&&C.length>0&&Qg(u,l,C.join(" "))}if(y=og(f,20),void 0!==t){const _=y.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const R=t[C];_.push(null!=R?Array.from(R):null)}}m=function lS(n,e,t,r,i){const s=t[1],o=function xH(n,e,t){const r=st();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),jA(n,r,e,So(n,e,1,null),t));const i=au(e,n,r.directiveStart,r);jt(i,e);const s=Bn(r,e);return s&&jt(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=st();e.contentQueries(1,o,u.directiveStart)}const a=st();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(bi(a.index),LA(t[1],a,0,a.directiveStart,a.directiveEnd,e),VA(e,o)),o}(E,this.componentDef,p,h,[fG]),Tu(f,p,null)}finally{Jl()}return new q3(this.componentType,m,Wo(y,p),p,y)}}class q3 extends class N3{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new j3(i),this.componentType=e}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Qr{}class sM{}const Qo=new Map;class uM extends Qr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rM(this);const r=Fn(e);this._bootstrapComponents=_r(r.bootstrap),this._r3Injector=JA(e,t,[{provide:Qr,useValue:this},{provide:Fu,useValue:this.componentFactoryResolver}],_e(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=vt.THROW_IF_NOT_FOUND,r=z.Default){return e===vt||e===Qr||e===ym?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zm extends sM{constructor(e){super(),this.moduleType=e,null!==Fn(e)&&function W3(n){const e=new Set;!function t(r){const i=Fn(r,!0),s=i.id;null!==s&&(function oM(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${_e(e)} vs ${_e(e.name)}`)}(s,Qo.get(s),r),Qo.set(s,r));const o=_r(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new uM(this.moduleType,e)}}function Vd(n,e,t){const r=function Jt(){const n=q.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=I();return i[r]===Y?function wr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function xu(n,e){return n[e]}(i,r)}function Wm(n){return e=>{setTimeout(n,void 0,e)}}const $e=class lz extends Vr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Wm(u),a&&(a=Wm(a)),c&&(c=Wm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof In&&e.add(l),l}};Symbol;let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=pz,n})();const hz=Yr,fz=class extends hz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Cu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Tu(t,r,e),new Lu(r)}};function pz(){return function Ud(n,e){return 4&n.type?new fz(e,n,Wo(n,e)):null}(st(),I())}let or=(()=>{class n{}return n.__NG_ELEMENT_ID__=gz,n})();function gz(){return function mM(n,e){let t;const r=e[n.index];if(Xn(r))t=r;else{let i;if(8&n.type)i=Xe(r);else{const s=e[X];i=s.createComment("");const o=Bn(n,e);cs(s,yd(s,o),i,function K$(n,e){return Ue(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=$A(r,e,i,n),Dd(e,t)}return new pM(t,n,e)}(st(),I())}const mz=or,pM=class extends mz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const e=sd(this._hostTNode,this._hostLView);if(oT(e)){const t=mo(e,this._hostLView),r=go(e);return new yo(t[1].data[r+8],t)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=gM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function lu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new qm(Vt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Qr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function VB(n){return Xn(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new pM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function H$(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],mT(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function G$(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Wg(s,o),u=r[X],c=yd(u,o[7]);return null!==c&&function B$(n,e,t,r,i,s){r[0]=i,r[6]=e,Du(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),mT(Qm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=gM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Gg(this._lContainer,t);r&&(ud(Qm(this._lContainer),t),XT(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Gg(this._lContainer,t);return r&&null!=ud(Qm(this._lContainer),t)?new Lu(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function gM(n){return n[8]}function Qm(n){return n[8]||(n[8]=[])}function $d(...n){}const cy=new ee("Application Initializer");let ly=(()=>{class n{constructor(t){this.appInits=t,this.resolve=$d,this.reject=$d,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Mu(s))t.push(s);else if(Om(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(F(cy,8))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ju=new ee("AppId",{providedIn:"root",factory:function VM(){return`${dy()}${dy()}${dy()}`}});function dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UM=new ee("Platform Initializer"),$u=new ee("Platform ID"),BM=new ee("appBootstrapListener");let jM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();const Si=new ee("LocaleId",{providedIn:"root",factory:()=>Mj(Si,z.Optional|z.SkipSelf)||function Hz(){return"undefined"!=typeof $localize&&$localize.locale||Rd}()});class qz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let $M=(()=>{class n{compileModuleSync(t){return new zm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=_r(Fn(t).declarations).reduce((o,a)=>{const u=Vt(a);return u&&o.push(new qm(u)),o},[]);return new qz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wz=(()=>Promise.resolve(0))();function hy(n){"undefined"==typeof Zone?Wz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Kz(){let n=we.requestAnimationFrame,e=we.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Zz(n){const e=()=>{!function Yz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(we,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,py(n),n.isCheckStableRunning=!0,fy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),py(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return HM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),GM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return HM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),GM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,py(n),fy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Qz,$d,$d);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Qz={};function fy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function py(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function HM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GM(n){n._nesting--,fy(n)}class Jz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let gy=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),hy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(F(Ke))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),qM=(()=>{class n{constructor(){this._applications=new Map,my.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return my.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();class Xz{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let ar,my=new Xz;const zM=new ee("AllowMultipleToken");class WM{constructor(e,t){this.name=e,this.token=t}}function KM(n,e,t=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=QM();if(!o||o.injector.get(zM,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:_m,useValue:"platform"});!function rW(n){if(ar&&!ar.destroyed&&!ar.injector.get(zM,!1))throw new he(400,"");ar=n.get(YM);const e=n.get(UM,null);e&&e.forEach(t=>t())}(vt.create({providers:a,name:r}))}return function iW(n){const e=QM();if(!e)throw new he(401,"");return e}()}}function QM(){return ar&&!ar.destroyed?ar:null}let YM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function sW(n,e){let t;return t="noop"===n?new Jz:("zone.js"===n?void 0:n)||new Ke({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ke,useValue:a}];return a.run(()=>{const c=vt.create({providers:u,parent:this.injector,name:t.moduleType.name}),l=t.create(c),d=l.injector.get(bu,null);if(!d)throw new he(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{_y(this._modules,l),h.unsubscribe()})}),function oW(n,e,t){try{const r=t();return Mu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(ly);return h.runInitializers(),h.donePromise.then(()=>(function Vq(n){Cn(n,"Expected localeId to be defined"),"string"==typeof n&&(Sx=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Si,Rd)||Rd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,r=[]){const i=ZM({},r);return function tW(n,e,t){const r=new zm(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(yy);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new he(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(F(vt))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();function ZM(n,e){return Array.isArray(e)?e.reduce(ZM,n):Object.assign(Object.assign({},n),e)}let yy=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Re(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Re(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),hy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function rB(...n){const e=Ja(n),t=function Y2(n,e){return"number"==typeof jp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Yn(r[0]):Za(t)(St(r,e)):Br}(a,u.pipe(function iB(n={}){const{connector:e=(()=>new Vr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return At((m,y)=>{c++,!d&&!l&&h();const E=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=$p(p,i))}),E.subscribe(y),!o&&c>0&&(o=new Ya({next:_=>E.next(_),error:_=>{d=!0,h(),a=$p(f,t,_),E.error(_)},complete:()=>{l=!0,h(),a=$p(f,r),E.complete()}}),Yn(m).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new he(405,"");let i;i=t instanceof Xx?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function nW(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Qr),a=i.create(vt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(gy,null),l=c&&a.injector.get(qM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),_y(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new he(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;_y(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(BM,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(F(Ke),F(vt),F(bu),F(Fu),F(ly))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _y(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let XM=!0,Hd=(()=>{class n{}return n.__NG_ELEMENT_ID__=cW,n})();function cW(n){return function lW(n,e,t){if(ql(n)&&!t){const r=Sn(n.index,e);return new Lu(r,r)}return 47&n.type?new Lu(e[16],e):null}(st(),I(),16==(16&n))}class ik{constructor(){}supports(e){return Su(e)}create(e){return new mW(e)}}const gW=(n,e)=>e;class mW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ok(r,i,s)?t:r,a=ok(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Su(e))throw new he(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function IG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ro()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new yW(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new sk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _W{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class sk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new _W,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ok(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function uk(){return new zd([new ik])}let zd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||uk()),deps:[[n,new gu,new at]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new he(901,"")}}return n.\u0275prov=re({token:n,providedIn:"root",factory:uk}),n})();const IW=KM(null,"core",[{provide:$u,useValue:"unknown"},{provide:YM,deps:[vt]},{provide:qM,deps:[]},{provide:jM,deps:[]}]);let DW=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(F(yy))},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({}),n})(),Wd=null;function Cr(){return Wd}const Hn=new ee("DocumentToken");let fs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:function(){return function SW(){return F(lk)}()},providedIn:"platform"}),n})();const xW=new ee("Location Initialized");let lk=(()=>{class n extends fs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(t){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){dk()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){dk()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(F(Hn))},n.\u0275prov=re({token:n,factory:function(){return function MW(){return new lk(F(Hn))}()},providedIn:"platform"}),n})();function dk(){return!!window.history.pushState}function Iy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function hk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Zr(n){return n&&"?"!==n[0]?"?"+n:n}let Zo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:function(){return function kW(n){const e=F(Hn).location;return new fk(F(fs),e&&e.origin||"")}()},providedIn:"root"}),n})();const Dy=new ee("appBaseHref");let fk=(()=>{class n extends Zo{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Iy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Zr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Zr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(F(fs),F(Dy,8))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),RW=(()=>{class n extends Zo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Iy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(F(fs),F(Dy,8))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),Cy=(()=>{class n{constructor(t,r){this._subject=new $e,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=hk(pk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Zr(r))}normalize(t){return n.stripTrailingSlash(function OW(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,pk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zr(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Zr,n.joinWithSlash=Iy,n.stripTrailingSlash=hk,n.\u0275fac=function(t){return new(t||n)(F(Zo),F(fs))},n.\u0275prov=re({token:n,factory:function(){return function NW(){return new Cy(F(Zo),F(fs))}()},providedIn:"root"}),n})();function pk(n){return n.replace(/\/index.html$/,"")}class w4{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Py=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new w4(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Ik(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ik(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(or),b(Yr),b(zd))},n.\u0275dir=j({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ik(n,e){n.context.$implicit=e.item}let Q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({}),n})();let X4=(()=>{class n{}return n.\u0275prov=re({token:n,providedIn:"root",factory:()=>new e8(F(Hn),window)}),n})();class e8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function t8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Sk(this.window.history)||Sk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Sk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class By extends class r8 extends class AW{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function TW(n){Wd||(Wd=n)}(new By)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function i8(){return zu=zu||document.querySelector("base"),zu?zu.getAttribute("href"):null}();return null==t?null:function s8(n){rh=rh||document.createElement("a"),rh.setAttribute("href",n);const e=rh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function y4(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let rh,zu=null;const xk=new ee("TRANSITION_ID"),a8=[{provide:cy,useFactory:function o8(n,e,t){return()=>{t.get(ly).donePromise.then(()=>{const r=Cr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[xk,Hn,vt],multi:!0}];class jy{static init(){!function eW(n){my=n}(new jy)}addToWindow(e){we.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Cr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let u8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();const ih=new ee("EventManagerPlugins");let sh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(F(ih),F(Ke))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();class Mk{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Cr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let kk=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),Wu=(()=>{class n extends kk{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Rk),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Rk))}}return n.\u0275fac=function(t){return new(t||n)(F(Hn))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();function Rk(n){Cr().remove(n)}const $y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hy=/%COMP%/g;function oh(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?oh(n,i,t):(i=i.replace(Hy,n),t.push(i))}return t}function Pk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gy=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case fr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new p8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case fr.ShadowDom:return new g8(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=oh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(F(sh),F(Wu),F(ju))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();class qy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($y[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=$y[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$y[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(t,r,i&Mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pk(r)):this.eventManager.addEventListener(e,t,Pk(r))}}class p8 extends qy{constructor(e,t,r,i){super(e),this.component=r;const s=oh(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function d8(n){return"_ngcontent-%COMP%".replace(Hy,n)}(i+"-"+r.id),this.hostAttr=function h8(n){return"_nghost-%COMP%".replace(Hy,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class g8 extends qy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=oh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let m8=(()=>{class n extends Mk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(F(Hn))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();const Lk=["alt","control","meta","shift"],_8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},v8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let w8=(()=>{class n extends Mk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Lk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function E8(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Vk.hasOwnProperty(e)&&(e=Vk[e]))}return _8[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Lk.forEach(s=>{s!=i&&v8[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(F(Hn))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();const C8=KM(IW,"browser",[{provide:$u,useValue:"browser"},{provide:UM,useValue:function b8(){By.makeCurrent(),jy.init()},multi:!0},{provide:Hn,useFactory:function D8(){return function OB(n){ig=n}(document),document},deps:[]}]),T8=[{provide:_m,useValue:"root"},{provide:bu,useFactory:function I8(){return new bu},deps:[]},{provide:ih,useClass:m8,multi:!0,deps:[Hn,Ke,$u]},{provide:ih,useClass:w8,multi:!0,deps:[Hn]},{provide:Gy,useClass:Gy,deps:[sh,Wu,ju]},{provide:tM,useExisting:Gy},{provide:kk,useExisting:Wu},{provide:Wu,useClass:Wu,deps:[Hn]},{provide:gy,useClass:gy,deps:[Ke]},{provide:sh,useClass:sh,deps:[ih,Ke]},{provide:class n8{},useClass:u8,deps:[]}];let A8=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ju,useValue:t.appId},{provide:xk,useExisting:ju},a8]}}}return n.\u0275fac=function(t){return new(t||n)(F(n,12))},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({providers:T8,imports:[Q4,DW]}),n})();function ne(...n){return St(n,Ja(n))}"undefined"!=typeof window&&window;class lr extends Vr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:V8}=Array,{getPrototypeOf:U8,prototype:B8,keys:j8}=Object;function jk(n){if(1===n.length){const e=n[0];if(V8(e))return{args:e,keys:null};if(function $8(n){return n&&"object"==typeof n&&U8(n)===B8}(e)){const t=j8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:H8}=Array;function $k(n){return ye(e=>function G8(n,e){return H8(e)?n(...e):n(e)}(n,e))}function Hk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gk(n,e,t){n?Ur(t,n,e):e()}function ah(n,e){const t=ce(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}const uh=gt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Wy(...n){return function W8(){return Za(1)}()(St(n,Ja(n)))}function qk(n){return new Re(e=>{Yn(n()).subscribe(e)})}function zk(){return At((n,e)=>{let t=null;n._refCount++;const r=mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class K8 extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,f0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const t=this.getSubject();e.add(this.source.subscribe(mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return zk()(this)}}function ps(n,e){return At((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(mt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Yn(n(u,l)).subscribe(i=mt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ch(n){return n<=0?()=>Br:At((e,t)=>{let r=0;e.subscribe(mt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Y8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(mt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Wk(n,e){return At(Y8(n,e,arguments.length>=2,!0))}function Jo(n,e){return At((t,r)=>{let i=0;t.subscribe(mt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Mi(n){return At((e,t)=>{let s,r=null,i=!1;r=e.subscribe(mt(t,void 0,void 0,o=>{s=Yn(n(o,Mi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ku(n,e){return ce(e)?yt(n,e,1):yt(n,1)}function Ky(n){return n<=0?()=>Br:At((e,t)=>{let r=[];e.subscribe(mt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kk(n=Z8){return At((e,t)=>{let r=!1;e.subscribe(mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Z8(){return new uh}function Qk(n){return At((e,t)=>{let r=!1;e.subscribe(mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jo((i,s)=>n(i,s,r)):ts,ch(1),t?Qk(e):Kk(()=>new uh))}function mn(n,e,t){const r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?At((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(mt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ts}class Xr{constructor(e,t){this.id=e,this.url=t}}class Qy extends Xr{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qu extends Xr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yk extends Xr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class e6 extends Xr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t6 extends Xr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n6 extends Xr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r6 extends Xr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i6 extends Xr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s6 extends Xr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zk{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jk{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class o6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xk{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class l6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ea(n){return new l6(n)}const e1="ngNavigationCancelingError";function Yy(n){const e=Error("NavigationCancelingError: "+n);return e[e1]=!0,e}function h6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Tr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!t1(n[i],e[i]))return!1;return!0}function t1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function n1(n){return Array.prototype.concat.apply([],n)}function r1(n){return n.length>0?n[n.length-1]:null}function xt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ar(n){return Om(n)?n:Mu(n)?St(Promise.resolve(n)):ne(n)}const g6={exact:function o1(n,e,t){if(!ms(n.segments,e.segments)||!lh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!o1(n.children[r],e.children[r],t))return!1;return!0},subset:a1},i1={exact:function m6(n,e){return Tr(n,e)},subset:function y6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>t1(n[t],e[t]))},ignored:()=>!0};function s1(n,e,t){return g6[t.paths](n.root,e.root,t.matrixParams)&&i1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function a1(n,e,t){return u1(n,e,e.segments,t)}function u1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ms(i,t)||e.hasChildren()||!lh(i,t,r))}if(n.segments.length===t.length){if(!ms(n.segments,t)||!lh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!a1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ms(n.segments,i)&&lh(n.segments,i,r)&&n.children[oe])&&u1(n.children[oe],e,s,r)}}function lh(n,e,t){return e.every((r,i)=>i1[t](n[i].parameters,r.parameters))}class gs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ea(this.queryParams)),this._queryParamMap}toString(){return w6.serialize(this)}}class le{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}}class Yu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ea(this.parameters)),this._parameterMap}toString(){return f1(this)}}function ms(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class c1{}class l1{parse(e){const t=new x6(e);return new gs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zu(e.root,!0)}`,r=function I6(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${hh(t)}=${hh(i)}`).join("&"):`${hh(t)}=${hh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function E6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const w6=new l1;function dh(n){return n.segments.map(e=>f1(e)).join("/")}function Zu(n,e){if(!n.hasChildren())return dh(n);if(e){const t=n.children[oe]?Zu(n.children[oe],!1):"",r=[];return xt(n.children,(i,s)=>{s!==oe&&r.push(`${s}:${Zu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function v6(n,e){let t=[];return xt(n.children,(r,i)=>{i===oe&&(t=t.concat(e(r,i)))}),xt(n.children,(r,i)=>{i!==oe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===oe?[Zu(n.children[oe],!1)]:[`${i}:${Zu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[oe]?`${dh(n)}/${t[0]}`:`${dh(n)}/(${t.join("//")})`}}function d1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hh(n){return d1(n).replace(/%3B/gi,";")}function Zy(n){return d1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(n){return decodeURIComponent(n)}function h1(n){return fh(n.replace(/\+/g,"%20"))}function f1(n){return`${Zy(n.path)}${function b6(n){return Object.keys(n).map(e=>`;${Zy(e)}=${Zy(n[e])}`).join("")}(n.parameters)}`}const D6=/^[^\/()?;=#]+/;function ph(n){const e=n.match(D6);return e?e[0]:""}const C6=/^[^=?&#]+/,A6=/^[^&#]+/;class x6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new le(e,t)),r}parseSegment(){const e=ph(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yu(fh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ph(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ph(this.remaining);i&&(r=i,this.capture(r))}e[fh(t)]=fh(r)}parseQueryParam(e){const t=function T6(n){const e=n.match(C6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function S6(n){const e=n.match(A6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=h1(t),s=h1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ph(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[oe]:new le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class p1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Jy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Jy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xy(e,this._root).map(t=>t.value)}}function Jy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Jy(n,t);if(r)return r}return null}function Xy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Xy(n,t);if(r.length)return r.unshift(e),r}return[]}class ei{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ta(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class g1 extends p1{constructor(e,t){super(e),this.snapshot=t,e_(this,e)}toString(){return this.snapshot.toString()}}function m1(n,e){const t=function M6(n,e){const o=new gh([],{},{},"",{},oe,e,null,n.root,-1,{});return new _1("",new ei(o,[]))}(n,e),r=new lr([new Yu("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new na(r,i,o,a,s,oe,e,t.root);return u.snapshot=t.root,new g1(new ei(u,[]),t)}class na{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>ea(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>ea(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function y1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function k6(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class gh{constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ea(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ea(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _1 extends p1{constructor(e,t){super(t),this.url=e,e_(this,t)}toString(){return v1(this._root)}}function e_(n,e){e.value._routerState=n,e.children.forEach(t=>e_(n,t))}function v1(n){const e=n.children.length>0?` { ${n.children.map(v1).join(", ")} } `:"";return`${n.value}${e}`}function t_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Tr(e.params,t.params)||n.params.next(t.params),function f6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Tr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function n_(n,e){const t=Tr(n.params,e.params)&&function _6(n,e){return ms(n,e)&&n.every((t,r)=>Tr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||n_(n.parent,e.parent))}function Ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function N6(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ju(n,r,i);return Ju(n,r)})}(n,e,t);return new ei(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ju(n,a)),o}}const r=function O6(n){return new na(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ju(n,s));return new ei(r,i)}}function mh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xu(n){return"object"==typeof n&&null!=n&&n.outlets}function r_(n,e,t,r,i){let s={};if(r&&xt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new gs(t,s,i);const o=w1(n,e,t);return new gs(o,s,i)}function w1(n,e,t){const r={};return xt(n.children,(i,s)=>{r[s]=i===e?t:w1(i,e,t)}),new le(n.segments,r)}class E1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Xu);if(i&&i!==r1(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class i_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function b1(n,e,t){if(n||(n=new le([],{})),0===n.segments.length&&n.hasChildren())return yh(n,e,t);const r=function B6(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Xu(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!D1(u,c,o))return s;r+=2}else{if(!D1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new le(n.segments.slice(0,r.pathIndex),{});return s.children[oe]=new le(n.segments.slice(r.pathIndex),n.children),yh(s,0,i)}return r.match&&0===i.length?new le(n.segments,{}):r.match&&!n.hasChildren()?s_(n,e,t):r.match?yh(n,0,i):s_(n,e,t)}function yh(n,e,t){if(0===t.length)return new le(n.segments,{});{const r=function U6(n){return Xu(n[0])?n[0].outlets:{[oe]:n}}(t),i={};return xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=b1(n.children[o],e,s))}),xt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(n.segments,i)}}function s_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Xu(s)){const u=j6(s.outlets);return new le(r,u)}if(0===i&&mh(t[0])){r.push(new Yu(n.segments[e].path,I1(t[0]))),i++;continue}const o=Xu(s)?s.outlets[oe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&mh(a)?(r.push(new Yu(o,I1(a))),i+=2):(r.push(new Yu(o,{})),i++)}return new le(r,{})}function j6(n){const e={};return xt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=s_(new le([],{}),0,t))}),e}function I1(n){const e={};return xt(n,(t,r)=>e[r]=`${t}`),e}function D1(n,e,t){return n==t.path&&Tr(e,t.parameters)}class H6{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),t_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ta(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ta(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ta(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ta(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new c6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new a6(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(t_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),t_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function G6(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class o_{constructor(e,t){this.routes=e,this.module=t}}function ki(n){return"function"==typeof n}function ys(n){return n instanceof gs}const ec=Symbol("INITIAL_VALUE");function tc(){return ps(n=>function q8(...n){const e=Ja(n),t=S0(n),{args:r,keys:i}=jk(n);if(0===r.length)return St([],e);const s=new Re(function z8(n,e,t=ts){return r=>{Gk(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Gk(e,()=>{const c=St(n[u],e);let l=!1;c.subscribe(mt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Hk(i,o):ts));return t?s.pipe($k(t)):s}(n.map(e=>e.pipe(ch(1),function Q8(...n){const e=Ja(n);return At((t,r)=>{(e?Wy(n,t,e):Wy(n,t)).subscribe(r)})}(ec)))).pipe(Wk((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==ec?i:(s===ec&&(r=!0),r||!1!==s&&o!==t.length-1&&!ys(s)?i:s),e)},ec),Jo(e=>e!==ec),ye(e=>ys(e)?e:!0===e),ch(1)))}class Y6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nc,this.attachRef=null}}class nc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Y6,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let a_=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=s||oe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Z6(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(nc),b(or),b(Fu),uu("name"),b(Hd))},n.\u0275dir=j({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Z6{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===na?this.route:e===nc?this.childContexts:this.parent.get(e,t)}}let C1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rs({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Ee(0,"router-outlet")},directives:[a_],encapsulation:2}),n})();function T1(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];J6(r,X6(e,r))}}function J6(n,e){n.children&&T1(n.children,e)}function X6(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function u_(n){const e=n.children&&n.children.map(u_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=C1),t}function zn(n){return n.outlet||oe}function A1(n,e){const t=n.filter(r=>zn(r)===e);return t.push(...n.filter(r=>zn(r)!==e)),t}const S1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _h(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},S1):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||h6)(t,n,e);if(!s)return Object.assign({},S1);const o={};xt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function vh(n,e,t,r,i="corrected"){if(t.length>0&&function nK(n,e,t){return t.some(r=>wh(n,e,r)&&zn(r)!==oe)}(n,t,r)){const o=new le(e,function tK(n,e,t,r){const i={};i[oe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&zn(s)!==oe){const o=new le([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[zn(s)]=o}return i}(n,e,r,new le(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function rK(n,e,t){return t.some(r=>wh(n,e,r))}(n,t,r)){const o=new le(n.segments,function eK(n,e,t,r,i,s){const o={};for(const a of r)if(wh(n,t,a)&&!i[zn(a)]){const u=new le([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[zn(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new le(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function wh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function x1(n,e,t,r){return!!(zn(n)===r||r!==oe&&wh(e,t,n))&&("**"===n.path||_h(e,n,t).matched)}function M1(n,e,t){return 0===e.length&&!n.children[t]}class Eh{constructor(e){this.segmentGroup=e||null}}class k1{constructor(e){this.urlTree=e}}function rc(n){return ah(new Eh(n))}function R1(n){return ah(new k1(n))}class aK{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Qr)}apply(){const e=vh(this.urlTree.root,[],[],this.config).segmentGroup,t=new le(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,oe).pipe(ye(s=>this.createUrlTree(c_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mi(s=>{if(s instanceof k1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Eh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe(ye(i=>this.createUrlTree(c_(i),e.queryParams,e.fragment))).pipe(Mi(i=>{throw i instanceof Eh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new le([],{[oe]:e}):e;return new gs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ye(s=>new le([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return St(i).pipe(Ku(s=>{const o=r.children[s],a=A1(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(u=>({segment:u,outlet:s})))}),Wk((s,o)=>(s[o.outlet]=o.segment,s),{}),function J8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jo((i,s)=>n(i,s,r)):ts,Ky(1),t?Qk(e):Kk(()=>new uh))}())}expandSegment(e,t,r,i,s,o){return St(r).pipe(Ku(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Mi(c=>{if(c instanceof Eh)return ne(null);throw c}))),Xo(a=>!!a),Mi((a,u)=>{if(a instanceof uh||"EmptyError"===a.name)return M1(t,i,s)?ne(new le([],{})):rc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return x1(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):rc(t):rc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?R1(s):this.lineralizeSegments(r,s).pipe(yt(o=>{const a=new le(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_h(t,i,s);if(!a)return rc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?R1(d):this.lineralizeSegments(i,d).pipe(yt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ne(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(d=>(r._loadedConfig=d,new le(i,{})))):ne(new le(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=_h(t,r,i);return o?this.getChildConfig(e,r,i).pipe(yt(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=vh(t,a,u,h),m=new le(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ye(C=>new le(a,C)));if(0===h.length&&0===p.length)return ne(new le(a,{}));const y=zn(r)===s;return this.expandSegment(d,m,h,p,y?oe:s,!0).pipe(ye(_=>new le(a.concat(_.segments),_.children)))})):rc(t)}getChildConfig(e,t,r){return t.children?ne(new o_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ne(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(yt(i=>i?this.configLoader.load(e.injector,t).pipe(ye(s=>(t._loadedConfig=s,s))):function sK(n){return ah(Yy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ne(new o_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ne(i.map(o=>{const a=e.get(o);let u;if(function z6(n){return n&&ki(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!ki(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return Ar(u)})).pipe(tc(),mn(o=>{if(!ys(o))return;const a=Yy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o)):ne(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[oe])return ah(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[oe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new gs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return xt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function c_(n){const e={};for(const r of Object.keys(n.children)){const s=c_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function uK(n){if(1===n.numberOfChildren&&n.children[oe]){const e=n.children[oe];return new le(n.segments.concat(e.segments),e.children)}return n}(new le(n.segments,e))}class N1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function lK(n,e,t){const r=n._root;return ic(r,e?e._root:null,t,[r.value])}function Ih(n,e,t){const r=function hK(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ic(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ta(e);return n.children.forEach(o=>{(function fK(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function pK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ms(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(n.url,e.url)||!Tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(n,e)||!Tr(n.queryParams,e.queryParams);default:return!n_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new N1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ic(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bh(a.outlet.component,o))}else o&&sc(e,a,i),i.canActivateChecks.push(new N1(r)),ic(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),xt(s,(o,a)=>sc(o,t.getContext(a),i)),i}function sc(n,e,t){const r=ta(n),i=n.value;xt(r,(s,o)=>{sc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new bh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class IK{}function O1(n){return new Re(e=>e.error(n))}class CK{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=vh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,oe);if(null===t)return null;const r=new gh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ei(r,t),s=new _1(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=y1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=A1(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=P1(r);return function TK(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return M1(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!x1(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?r1(r).parameters:{};s=new gh(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,V1(e),zn(e),e.component,e,F1(t),L1(t)+r.length,U1(e))}else{const f=_h(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new gh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,V1(e),zn(e),e.component,e,F1(t),L1(t)+o.length,U1(e))}const u=function AK(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=vh(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new ei(s,f)]}if(0===u.length&&0===l.length)return[new ei(s,[])];const d=zn(e)===i,h=this.processSegment(u,c,l,d?oe:i);return null===h?null:[new ei(s,h)]}}function SK(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function P1(n){const e=[],t=new Set;for(const r of n){if(!SK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=P1(r.children);e.push(new ei(r.value,i))}return e.filter(r=>!t.has(r))}function F1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function L1(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function V1(n){return n.data||{}}function U1(n){return n.resolve||{}}function B1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function l_(n){return ps(e=>{const t=n(e);return t?St(t).pipe(ye(()=>e)):ne(e)})}class FK extends class PK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const d_=new ee("ROUTES");class j1{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new o_(n1(o.injector.get(d_,void 0,z.Self|z.Optional)).map(u_),o)}),Mi(s=>{throw t._loader$=void 0,s}));return t._loader$=new K8(i,()=>new Vr).pipe(zk()),t._loader$}loadModuleFactory(e){return Ar(e()).pipe(yt(t=>t instanceof sM?ne(t):St(this.compiler.compileModuleAsync(t))))}}class VK{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function UK(n){throw n}function BK(n,e,t){return e.parse("/")}function $1(n,e){return ne(null)}const jK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$K={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ht=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vr,this.errorHandler=UK,this.malformedUriErrorHandler=BK,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$1,afterPreactivation:$1},this.urlHandlingStrategy=new VK,this.routeReuseStrategy=new FK,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Qr),this.console=o.get(jM);const d=o.get(Ke);this.isNgZoneEnabled=d instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function p6(){return new gs(new le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new j1(o,a,h=>this.triggerEvent(new Zk(h)),h=>this.triggerEvent(new Jk(h))),this.routerState=m1(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Jo(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ps(i=>{let s=!1,o=!1;return ne(i).pipe(mn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ps(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return H1(a.source)&&(this.browserUrlTree=a.extractedUrl),ne(a).pipe(ps(d=>{const h=this.transitions.getValue();return r.next(new Qy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Br:Promise.resolve(d)}),function cK(n,e,t,r){return ps(i=>function oK(n,e,t,r,i){return new aK(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ye(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),mn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function xK(n,e,t,r,i){return yt(s=>function DK(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new CK(n,e,t,r,i,s).recognize();return null===o?O1(new IK):ne(o)}catch(o){return O1(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(ye(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),mn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new t6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=a,E=new Qy(h,this.serializeUrl(f),p,m);r.next(E);const _=m1(f,this.rootComponentType).snapshot;return ne(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Br}),l_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),mn(a=>{const u=new n6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ye(a=>Object.assign(Object.assign({},a),{guards:lK(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function gK(n,e){return yt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ne(Object.assign(Object.assign({},t),{guardsResult:!0})):function mK(n,e,t,r){return St(n).pipe(yt(i=>function bK(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const u=Ih(a,e,i);let c;if(function Q6(n){return n&&ki(n.canDeactivate)}(u))c=Ar(u.canDeactivate(n,e,t,r));else{if(!ki(u))throw new Error("Invalid CanDeactivate guard");c=Ar(u(n,e,t,r))}return c.pipe(Xo())})).pipe(tc()):ne(!0)}(i.component,i.route,t,e,r)),Xo(i=>!0!==i,!0))}(o,r,i,n).pipe(yt(a=>a&&function q6(n){return"boolean"==typeof n}(a)?function yK(n,e,t,r){return St(e).pipe(Ku(i=>Wy(function vK(n,e){return null!==n&&e&&e(new o6(n)),ne(!0)}(i.route.parent,r),function _K(n,e){return null!==n&&e&&e(new u6(n)),ne(!0)}(i.route,r),function EK(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function dK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qk(()=>ne(o.guards.map(u=>{const c=Ih(u,o.node,t);let l;if(function K6(n){return n&&ki(n.canActivateChild)}(c))l=Ar(c.canActivateChild(r,n));else{if(!ki(c))throw new Error("Invalid CanActivateChild guard");l=Ar(c(r,n))}return l.pipe(Xo())})).pipe(tc())));return ne(s).pipe(tc())}(n,i.path,t),function wK(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(s=>qk(()=>{const o=Ih(s,e,t);let a;if(function W6(n){return n&&ki(n.canActivate)}(o))a=Ar(o.canActivate(e,n));else{if(!ki(o))throw new Error("Invalid CanActivate guard");a=Ar(o(e,n))}return a.pipe(Xo())}));return ne(i).pipe(tc())}(n,i.route,t))),Xo(i=>!0!==i,!0))}(r,s,n,e):ne(a)),ye(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),mn(a=>{if(ys(a.guardsResult)){const c=Yy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new r6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Jo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),l_(a=>{if(a.guards.canActivateChecks.length)return ne(a).pipe(mn(u=>{const c=new i6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),ps(u=>{let c=!1;return ne(u).pipe(function MK(n,e){return yt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let s=0;return St(i).pipe(Ku(o=>function kK(n,e,t,r){return function RK(n,e,t,r){const i=B1(n);if(0===i.length)return ne({});const s={};return St(i).pipe(yt(o=>function NK(n,e,t,r){const i=Ih(n,e,r);return Ar(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(mn(a=>{s[o]=a}))),Ky(1),yt(()=>B1(s).length===i.length?ne(s):Br))}(n._resolve,n,e,r).pipe(ye(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),y1(n,t).resolve),null)))}(o.route,r,n,e)),mn(()=>s++),Ky(1),yt(o=>s===i.length?ne(t):Br))})}(this.paramsInheritanceStrategy,this.ngModule.injector),mn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),mn(u=>{const c=new s6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),l_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ye(a=>{const u=function R6(n,e,t){const r=Ju(n,e._root,t?t._root:void 0);return new g1(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),mn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ye(r=>(new H6(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),mn({next(){s=!0},complete(){s=!0}}),function X8(n){return At((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Mi(a=>{if(o=!0,function d6(n){return n&&n[e1]}(a)){const u=ys(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new Yk(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||H1(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new e6(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Br}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){T1(t),this.config=t.map(u_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function P6(n,e,t,r,i){if(0===t.length)return r_(e.root,e.root,e.root,r,i);const s=function F6(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new E1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return xt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new E1(t,e,r)}(t);if(s.toRoot())return r_(e.root,e.root,new le([],{}),r,i);const o=function L6(n,e,t){if(n.isAbsolute)return new i_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new i_(s,s===e.root,0)}const r=mh(n.commands[0])?0:1;return function V6(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new i_(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?yh(o.segmentGroup,o.index,s.commands):b1(o.segmentGroup,o.index,s.commands);return r_(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,t,d,null!=l?l:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ys(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},jK):!1===r?Object.assign({},$K):r,ys(t))return s1(this.currentUrlTree,t,i);const s=this.parseUrl(t);return s1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,l=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Yk(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Mm()},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();function H1(n){return"imperative"!==n}let oc=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Vr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ra(this.skipLocationChange),replaceUrl:ra(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ra(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Ht),b(na),uu("tabindex"),b(Dr),b(pn))},n.\u0275dir=j({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&ut("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vn]}),n})();function ra(n){return""===n||!!n}class G1{}class q1{preload(e,t){return ne(null)}}let z1=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new j1(i,r,u=>t.triggerEvent(new Zk(u)),u=>t.triggerEvent(new Jk(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jo(t=>t instanceof Qu),Ku(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return St(i).pipe(Za(),ye(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ne(r._loadedConfig):this.loader.load(t.injector,r)).pipe(yt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(F(Ht),F($M),F(vt),F(G1))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),f_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xk&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Xk(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Mm()},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();const _s=new ee("ROUTER_CONFIGURATION"),W1=new ee("ROUTER_FORROOT_GUARD"),WK=[Cy,{provide:c1,useClass:l1},{provide:Ht,useFactory:function JK(n,e,t,r,i,s,o={},a,u){const c=new Ht(null,n,e,t,r,i,n1(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function XK(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[c1,nc,Cy,vt,$M,d_,_s,[class LK{},new at],[class OK{},new at]]},nc,{provide:na,useFactory:function e7(n){return n.routerState.root},deps:[Ht]},z1,q1,class zK{preload(e,t){return t().pipe(Mi(()=>ne(null)))}},{provide:_s,useValue:{enableTracing:!1}}];function KK(){return new WM("Router",Ht)}let K1=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[WK,Q1(t),{provide:W1,useFactory:ZK,deps:[[Ht,new at,new gu]]},{provide:_s,useValue:r||{}},{provide:Zo,useFactory:YK,deps:[fs,[new dd(Dy),new at],_s]},{provide:f_,useFactory:QK,deps:[Ht,X4,_s]},{provide:G1,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:q1},{provide:WM,multi:!0,useFactory:KK},[p_,{provide:cy,multi:!0,useFactory:t7,deps:[p_]},{provide:Y1,useFactory:n7,deps:[p_]},{provide:BM,multi:!0,useExisting:Y1}]]}}static forChild(t){return{ngModule:n,providers:[Q1(t)]}}}return n.\u0275fac=function(t){return new(t||n)(F(W1,8),F(Ht,8))},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({}),n})();function QK(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new f_(n,e,t)}function YK(n,e,t={}){return t.useHash?new RW(n,e):new fk(n,e)}function ZK(n){return"guarded"}function Q1(n){return[{provide:mj,multi:!0,useValue:n},{provide:d_,multi:!0,useValue:n}]}let p_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vr}appInitializer(){return this.injector.get(xW,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Ht),o=this.injector.get(_s);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ne(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(_s),i=this.injector.get(z1),s=this.injector.get(f_),o=this.injector.get(Ht),a=this.injector.get(yy);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(F(vt))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();function t7(n){return n.appInitializer.bind(n)}function n7(n){return n.bootstrapListener.bind(n)}const Y1=new ee("Router Initializer");function Z1(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){Z1(s,r,i,o,a,"next",u)}function a(u){Z1(s,r,i,o,a,"throw",u)}o(void 0)})}}const J1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(J1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Dh=function(n){return function(n){const e=J1(n);return m_.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Ch=function(n){try{return m_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y_(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function vs(){return"object"==typeof indexedDB}function ac(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function __(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const v_=()=>{try{return function f7(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&Ch(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},eR=n=>{var e,t;return null===(t=null===(e=v_())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},tR=n=>{var e;return null===(e=v_())||void 0===e?void 0:e[`_${n}`]};class Th{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}class Wn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}}class Sr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function E7(n,e){return n.replace(b7,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Wn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const b7=/\{\$([^}]+)}/g;function Sh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(rR(s)&&rR(o)){if(!Sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rR(n){return null!==n&&"object"==typeof n}function xh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function cc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class C7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function T7(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=w_),void 0===i.error&&(i.error=w_),void 0===i.complete&&(i.complete=w_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w_(){}function b_(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Gt(n){return n&&n._delegate?n._delegate:n}class qt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class R7{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Th;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function O7(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ws?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class P7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const I_=[];var pe=(()=>{return(n=pe||(pe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",pe;var n})();const iR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},F7=pe.INFO,L7={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},V7=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=L7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ia{constructor(e){this.name=e,this._logLevel=F7,this._logHandler=V7,this._userLogHandler=null,I_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}let sR,oR;const aR=new WeakMap,D_=new WeakMap,uR=new WeakMap,C_=new WeakMap,T_=new WeakMap;let A_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return D_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||uR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function z7(n){return"function"==typeof n?function q7(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j7(){return oR||(oR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(S_(this),e),ti(aR.get(this))}:function(...e){return ti(n.apply(S_(this),e))}:function(e,...t){const r=n.call(S_(this),e,...t);return uR.set(r,e.sort?e.sort():[e]),ti(r)}}(n):(n instanceof IDBTransaction&&function H7(n){if(D_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});D_.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function B7(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,A_):n)}function ti(n){if(n instanceof IDBRequest)return function $7(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ti(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&aR.set(t,n)}).catch(()=>{}),T_.set(e,n),e}(n);if(C_.has(n))return C_.get(n);const e=z7(n);return e!==n&&(C_.set(n,e),T_.set(e,n)),e}const S_=n=>T_.get(n);function Mh(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ti(o.result),u.oldVersion,u.newVersion,ti(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function x_(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ti(t).then(()=>{})}const W7=["get","getKey","getAll","getAllKeys","count"],K7=["put","add","delete","clear"],M_=new Map;function cR(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(M_.get(e))return M_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=K7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!W7.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return M_.set(e,s),s}!function G7(n){A_=n(A_)}(n=>b2(E2({},n),{get:(e,t,r)=>cR(e,t)||n.get(e,t,r),has:(e,t)=>!!cR(e,t)||n.has(e,t)}));class Q7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Y7(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const k_="@firebase/app",Es=new ia("@firebase/app"),kh="[DEFAULT]",b5={[k_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bs=new Map,Rh=new Map;function I5(n,e){try{n.container.addComponent(e)}catch(t){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sn(n){const e=n.name;if(Rh.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Rh.set(e,n);for(const t of bs.values())I5(t,n);return!0}function sa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ni=new Sr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class C5{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}const oa="9.14.0";function dR(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ni.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=v_())||void 0===n?void 0:n.config})()),!t)throw ni.create("no-options");const s=bs.get(i);if(s){if(Sh(t,s.options)&&Sh(r,s.config))return s;throw ni.create("duplicate-app",{appName:i})}const o=new P7(i);for(const u of Rh.values())o.addComponent(u);const a=new C5(t,r,o);return bs.set(i,a),a}function R_(n=kh){const e=bs.get(n);if(!e&&n===kh)return dR();if(!e)throw ni.create("no-app",{appName:n});return e}function hR(){return Array.from(bs.values())}function He(n,e,t){var r;let i=null!==(r=b5[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Es.warn(a.join(" "))}sn(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lc="firebase-heartbeat-store";let O_=null;function fR(){return O_||(O_=Mh("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lc)}}).catch(n=>{throw ni.create("idb-open",{originalErrorMessage:n.message})})),O_}function P_(){return(P_=g(function*(n){var e;try{return(yield fR()).transaction(lc).objectStore(lc).get(gR(n))}catch(t){if(t instanceof Wn)Es.warn(t.message);else{const r=ni.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});Es.warn(r.message)}}})).apply(this,arguments)}function pR(n,e){return F_.apply(this,arguments)}function F_(){return(F_=g(function*(n,e){var t;try{const i=(yield fR()).transaction(lc,"readwrite");return yield i.objectStore(lc).put(e,gR(n)),i.done}catch(r){if(r instanceof Wn)Es.warn(r.message);else{const i=ni.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});Es.warn(i.message)}}})).apply(this,arguments)}function gR(n){return`${n.name}!${n.options.appId}`}class k5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new N5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=mR(),{heartbeatsToSend:r,unsentEntries:i}=function R5(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),yR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Dh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function mR(){return(new Date).toISOString().substring(0,10)}class N5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!vs()&&ac().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function S5(n){return P_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return pR(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return pR(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function yR(n){return Dh(JSON.stringify({version:2,heartbeats:n})).length}!function O5(n){sn(new qt("platform-logger",e=>new Q7(e),"PRIVATE")),sn(new qt("heartbeat",e=>new k5(e),"PRIVATE")),He(k_,"0.8.4",n),He(k_,"0.8.4","esm2017"),He("fire-js","")}(""),He("firebase","9.14.0","app");const _R="@firebase/installations",L_="0.5.16",wR=`w:${L_}`,ER="FIS_v2",ri=new Sr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bR(n){return n instanceof Wn&&n.code.includes("request-failed")}function V_({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function IR(n){return{token:n.token,requestStatus:2,expiresIn:$5(n.expiresIn),creationTime:Date.now()}}function U_(n,e){return B_.apply(this,arguments)}function B_(){return(B_=g(function*(n,e){const r=(yield e.json()).error;return ri.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function DR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function CR(n,{refreshToken:e}){const t=DR(n);return t.append("Authorization",function H5(n){return`${ER} ${n}`}(e)),t}function j_(n){return $_.apply(this,arguments)}function $_(){return($_=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function $5(n){return Number(n.replace("s","000"))}function G5(n,e){return H_.apply(this,arguments)}function H_(){return(H_=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=V_(n),i=DR(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:ER,appId:n.appId,sdkVersion:wR})},u=yield j_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:IR(c.authToken)}}throw yield U_("Create Installation",u)})).apply(this,arguments)}function TR(n){return new Promise(e=>{setTimeout(e,n)})}const z5=/^[cdef][\w-]{21}$/;function W5(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function K5(n){return function q5(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return z5.test(t)?t:""}catch(n){return""}}function aa(n){return`${n.appName}!${n.appId}`}const ua=new Map;function AR(n,e){const t=aa(n);SR(t,e),function Z5(n,e){const t=function xR(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=n=>{SR(n.data.key,n.data.fid)}),Is}();t&&t.postMessage({key:n,fid:e}),function MR(){0===ua.size&&Is&&(Is.close(),Is=null)}()}(t,e)}function SR(n,e){const t=ua.get(n);if(t)for(const r of t)r(e)}let Is=null;const Ds="firebase-installations-store";let q_=null;function z_(){return q_||(q_=Mh("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ds)}})),q_}function Nh(n,e){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(n,e){const t=aa(n),i=(yield z_()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&AR(n,e.fid),e})).apply(this,arguments)}function K_(n){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(n){const e=aa(n),r=(yield z_()).transaction(Ds,"readwrite");yield r.objectStore(Ds).delete(e),yield r.done})).apply(this,arguments)}function dc(n,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(n,e){const t=aa(n),i=(yield z_()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&AR(n,a.fid),a})).apply(this,arguments)}function Z_(n){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(n){let e;const t=yield dc(n.appConfig,r=>{const i=e9(r),s=t9(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function e9(n){return RR(n||{fid:W5(),registrationStatus:0})}function t9(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ri.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function n9(n,e){return X_.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:r9(n)}:{installationEntry:e}}function X_(){return(X_=g(function*(n,e){try{const t=yield G5(n,e);return Nh(n.appConfig,t)}catch(t){throw bR(t)&&409===t.customData.serverCode?yield K_(n.appConfig):yield Nh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function r9(n){return ev.apply(this,arguments)}function ev(){return(ev=g(function*(n){let e=yield kR(n.appConfig);for(;1===e.registrationStatus;)yield TR(100),e=yield kR(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Z_(n);return r||t}return e})).apply(this,arguments)}function kR(n){return dc(n,e=>{if(!e)throw ri.create("installation-not-found");return RR(e)})}function RR(n){return function i9(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function s9(n,e){return tv.apply(this,arguments)}function tv(){return(tv=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=o9(n,t),i=CR(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:wR,appId:n.appId}})},u=yield j_(()=>fetch(r,a));if(u.ok)return IR(yield u.json());throw yield U_("Generate Auth Token",u)})).apply(this,arguments)}function o9(n,{fid:e}){return`${V_(n)}/${e}/authTokens:generate`}function nv(n){return rv.apply(this,arguments)}function rv(){return(rv=g(function*(n,e=!1){let t;const r=yield dc(n.appConfig,s=>{if(!OR(s))throw ri.create("not-registered");const o=s.authToken;if(!e&&c9(o))return s;if(1===o.requestStatus)return t=a9(n,e),s;{if(!navigator.onLine)throw ri.create("app-offline");const a=d9(s);return t=u9(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function a9(n,e){return iv.apply(this,arguments)}function iv(){return(iv=g(function*(n,e){let t=yield NR(n.appConfig);for(;1===t.authToken.requestStatus;)yield TR(100),t=yield NR(n.appConfig);const r=t.authToken;return 0===r.requestStatus?nv(n,e):r})).apply(this,arguments)}function NR(n){return dc(n,e=>{if(!OR(e))throw ri.create("not-registered");return function h9(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function u9(n,e){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(n,e){try{const t=yield s9(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Nh(n.appConfig,r),t}catch(t){if(!bR(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Nh(n.appConfig,r)}else yield K_(n.appConfig);throw t}})).apply(this,arguments)}function OR(n){return void 0!==n&&2===n.registrationStatus}function c9(n){return 2===n.requestStatus&&!function l9(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function d9(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ov(){return(ov=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Z_(e);return r?r.catch(console.error):nv(e).catch(console.error),t.fid})).apply(this,arguments)}function av(){return(av=g(function*(n,e=!1){const t=n;return yield g9(t),(yield nv(t,e)).token})).apply(this,arguments)}function g9(n){return uv.apply(this,arguments)}function uv(){return(uv=g(function*(n){const{registrationPromise:e}=yield Z_(n);e&&(yield e)})).apply(this,arguments)}function dv(n){return ri.create("missing-app-config-values",{valueName:n})}const PR="installations",w9=n=>{const e=n.getProvider("app").getImmediate(),t=function _9(n){if(!n||!n.options)throw dv("App Configuration");if(!n.name)throw dv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:sa(e,"heartbeat"),_delete:()=>Promise.resolve()}},E9=n=>{const t=sa(n.getProvider("app").getImmediate(),PR).getImmediate();return{getId:()=>function f9(n){return ov.apply(this,arguments)}(t),getToken:i=>function p9(n){return av.apply(this,arguments)}(t,i)}};(function b9(){sn(new qt(PR,w9,"PUBLIC")),sn(new qt("installations-internal",E9,"PRIVATE"))})(),He(_R,L_),He(_R,L_,"esm2017");const hv="@firebase/remote-config",yn=new Sr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class N9{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function O9(n=navigator){return n.languages&&n.languages[0]||n.language}class P9{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:O9()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((R,N)=>{e.signal.addEventListener(()=>{const V=new Error("The operation was aborted.");V.name="AbortError",N(V)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(R){let N="fetch-client-network";throw"AbortError"===(null===(r=R)||void 0===r?void 0:r.name)&&(N="fetch-timeout"),yn.create(N,{originalErrorMessage:null===(i=R)||void 0===i?void 0:i.message})}let y=m.status;const E=m.headers.get("ETag")||void 0;let _,C;if(200===m.status){let R;try{R=yield m.json()}catch(N){throw yn.create("fetch-client-parse",{originalErrorMessage:null===(s=N)||void 0===s?void 0:s.message})}_=R.entries,C=R.state}if("INSTANCE_STATE_UNSPECIFIED"===C?y=500:"NO_CHANGE"===C?y=304:("NO_TEMPLATE"===C||"EMPTY_CONFIG"===C)&&(_={}),304!==y&&200!==y)throw yn.create("fetch-status",{httpStatus:y});return{status:y,eTag:E,config:_}})()}}class V9{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function F9(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function L9(n){if(!(n instanceof Wn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+b_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class j9{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ph(n,e){var t;const r=n.target.error||void 0;return yn.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Cs="app_namespace_store";class q9{constructor(e,t,r,i=function G9(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Ph(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(r){e(yn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Cs],"readonly").objectStore(Cs),c=t.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(Ph(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(yn.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([Cs],"readwrite").objectStore(Cs),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:t});d.onerror=h=>{o(Ph(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(yn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Cs],"readwrite").objectStore(Cs),c=t.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(Ph(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(yn.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class z9{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function K9(){return yv.apply(this,arguments)}function yv(){return(yv=g(function*(){if(!vs())return!1;try{return yield ac()}catch(n){return!1}})).apply(this,arguments)}!function W9(){sn(new qt("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw yn.create("registration-window");if(!vs())throw yn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw yn.create("registration-project-id");if(!o)throw yn.create("registration-api-key");if(!a)throw yn.create("registration-app-id");const u=new q9(a,r.name,t=t||"firebase"),c=new z9(u),l=new ia(hv);l.logLevel=pe.ERROR;const d=new P9(i,oa,t,s,o,a),h=new V9(d,u),f=new N9(h,u,c,l),p=new j9(r,f,c,u,l);return function M9(n){const e=Gt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),He(hv,"0.3.15"),He(hv,"0.3.15","esm2017")}();const Q9="/firebase-messaging-sw.js",Y9="/firebase-cloud-messaging-push-scope",UR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",BR="google.c.a.c_id",J9="google.c.a.c_l",X9="google.c.a.ts",eQ="google.c.a.e";var ca=(()=>{return(n=ca||(ca={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ca;var n})();function ii(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tQ(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const _v="fcm_token_details_db",jR="fcm_token_object_Store";function rQ(n){return vv.apply(this,arguments)}function vv(){return vv=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(_v))return null;let e=null;return(yield Mh(_v,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(jR))return;const c=a.objectStore(jR),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ii(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ii(d.auth),p256dh:ii(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ii(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ii(d.auth),p256dh:ii(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ii(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield x_(_v),yield x_("fcm_vapid_details_db"),yield x_("undefined"),iQ(e)?e:null;var r}),vv.apply(this,arguments)}function iQ(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ts="firebase-messaging-store";let wv=null;function Ev(){return wv||(wv=Mh("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ts)}})),wv}function $R(n){return bv.apply(this,arguments)}function bv(){return(bv=g(function*(n){const e=Tv(n),r=yield(yield Ev()).transaction(Ts).objectStore(Ts).get(e);if(r)return r;{const i=yield rQ(n.appConfig.senderId);if(i)return yield Iv(n,i),i}})).apply(this,arguments)}function Iv(n,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=g(function*(n,e){const t=Tv(n),i=(yield Ev()).transaction(Ts,"readwrite");return yield i.objectStore(Ts).put(e,t),yield i.done,e})).apply(this,arguments)}function aQ(n){return Cv.apply(this,arguments)}function Cv(){return(Cv=g(function*(n){const e=Tv(n),r=(yield Ev()).transaction(Ts,"readwrite");yield r.objectStore(Ts).delete(e),yield r.done})).apply(this,arguments)}function Tv({appConfig:n}){return n.appId}const Mt=new Sr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cQ(n,e){return Av.apply(this,arguments)}function Av(){return(Av=g(function*(n,e){var t;const r=yield kv(n),i=GR(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Mv(n.appConfig),s)).json()}catch(a){throw Mt.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Mt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Mt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function lQ(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=g(function*(n,e){var t;const r=yield kv(n),i=GR(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Mv(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw Mt.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Mt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Mt.create("token-update-no-token");return o.token})).apply(this,arguments)}function HR(n,e){return xv.apply(this,arguments)}function xv(){return(xv=g(function*(n,e){var t;const i={method:"DELETE",headers:yield kv(n)};try{const o=yield(yield fetch(`${Mv(n.appConfig)}/${e}`,i)).json();if(o.error)throw Mt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Mt.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function Mv({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function kv(n){return Rv.apply(this,arguments)}function Rv(){return(Rv=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function GR({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==UR&&(i.web.applicationPubKey=r),i}const dQ=6048e5;function hQ(n){return Nv.apply(this,arguments)}function Nv(){return(Nv=g(function*(n){const e=yield pQ(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ii(e.getKey("auth")),p256dh:ii(e.getKey("p256dh"))},r=yield $R(n.firebaseDependencies);if(r){if(gQ(r.subscriptionOptions,t))return Date.now()>=r.createTime+dQ?fQ(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield HR(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zR(n.firebaseDependencies,t)}return zR(n.firebaseDependencies,t)})).apply(this,arguments)}function qR(n){return Ov.apply(this,arguments)}function Ov(){return(Ov=g(function*(n){const e=yield $R(n.firebaseDependencies);e&&(yield HR(n.firebaseDependencies,e.token),yield aQ(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function fQ(n,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*(n,e){try{const t=yield lQ(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Iv(n.firebaseDependencies,r),t}catch(t){throw yield qR(n),t}})).apply(this,arguments)}function zR(n,e){return Fv.apply(this,arguments)}function Fv(){return(Fv=g(function*(n,e){const r={token:yield cQ(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Iv(n,r),r.token})).apply(this,arguments)}function pQ(n,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tQ(e)})})).apply(this,arguments)}function gQ(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function WR(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function mQ(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function yQ(n,e){!e.data||(n.data=e.data)}(e,n),function _Q(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function vQ(n){return"object"==typeof n&&!!n&&BR in n}function KR(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Vv(n){return Mt.create("missing-app-config-values",{valueName:n})}KR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),KR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class EQ{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function wQ(n){if(!n||!n.options)throw Vv("App Configuration Object");if(!n.name)throw Vv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Vv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function QR(n){return Uv.apply(this,arguments)}function Uv(){return(Uv=g(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Q9,{scope:Y9}),n.swRegistration.update().catch(()=>{})}catch(t){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function bQ(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=g(function*(n,e){if(!e&&!n.swRegistration&&(yield QR(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function IQ(n,e){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=UR)})).apply(this,arguments)}function $v(){return($v=g(function*(n,e){if(!navigator)throw Mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mt.create("permission-blocked");return yield IQ(n,null==e?void 0:e.vapidKey),yield bQ(n,null==e?void 0:e.serviceWorkerRegistration),hQ(n)})).apply(this,arguments)}function DQ(n,e,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=g(function*(n,e,t){const r=CQ(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[BR],message_name:t[J9],message_time:t[X9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function CQ(n){switch(n){case ca.NOTIFICATION_CLICKED:return"notification_open";case ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gv(){return(Gv=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ca.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(WR(t)):n.onMessageHandler.next(WR(t)));const r=t.data;vQ(r)&&"1"===r[eQ]&&(yield DQ(n,t.messageType,r))})).apply(this,arguments)}const ZR="@firebase/messaging",AQ=n=>{const e=new EQ(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function TQ(n,e){return Gv.apply(this,arguments)}(e,t)),e},SQ=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function YR(n,e){return $v.apply(this,arguments)}(e,r)}};function XR(){return qv.apply(this,arguments)}function qv(){return(qv=g(function*(){try{yield ac()}catch(n){return!1}return"undefined"!=typeof window&&vs()&&__()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xQ(){sn(new qt("messaging",AQ,"PUBLIC")),sn(new qt("messaging-internal",SQ,"PRIVATE")),He(ZR,"0.11.0"),He(ZR,"0.11.0","esm2017")}();const Fh="analytics",RQ="firebase_id",PQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",eN="https://www.googletagmanager.com/gtag/js",kt=new ia("@firebase/analytics");function tN(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function FQ(n,e){const t=document.createElement("script");t.src=`${eN}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function VQ(n,e,t,r,i,s){return Kv.apply(this,arguments)}function Kv(){return(Kv=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield tN(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){kt.error(a)}n("config",i,s)})).apply(this,arguments)}function UQ(n,e,t,r,i){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield tN(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){kt.error(s)}})).apply(this,arguments)}function $Q(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(eN)&&t.src.includes(n))return t;return null}const Rn=new Sr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),nN=new class zQ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function WQ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function KQ(n){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:WQ(r)},s=PQ.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function QQ(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(n,e=nN,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new JQ;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),rN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function rN(n,e,t){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=nN){var s,o;const{appId:a,measurementId:u}=n;try{yield YQ(r,e)}catch(c){if(u)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield KQ(n);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!ZQ(l)){if(i.deleteThrottleMetadata(a),u)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=null==l?void 0:l.customData)||void 0===o?void 0:o.httpStatus)?b_(t,i.intervalMillis,30):b_(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),kt.debug(`Calling attemptFetch again in ${d} millis`),rN(n,h,r,i)}})).apply(this,arguments)}function YQ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ZQ(n){if(!(n instanceof Wn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class JQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Xv,sw;function ew(){return(ew=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function iN(n){sw=n}function sN(n){Xv=n}function iY(){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(){var n;if(!vs())return kt.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ac()}catch(e){return kt.warn(Rn.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function aw(){return(aw=g(function*(n,e,t,r,i,s,o){var a;const u=QQ(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>kt.error(f)),e.push(u);const c=iY().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);$Q(s)||FQ(s,l.measurementId),sw&&(i("consent","default",sw),iN(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[RQ]=d),i("config",l.measurementId,h),Xv&&(i("set",Xv),sN(void 0)),l.measurementId})).apply(this,arguments)}class oY{constructor(e){this.app=e}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},oN=[];const aN={};let cN,oi,Lh="dataLayer",uw=!1;function uY(n,e,t){!function aY(){const n=[];if(y_()&&n.push("This is a browser extension environment."),__()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Rn.create("invalid-analytics-context",{errorInfo:e});kt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Rn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Rn.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=si[r])throw Rn.create("already-exists",{id:r});if(!uw){!function LQ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Lh);const{wrappedGtag:s,gtagCore:o}=function jQ(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function BQ(n,e,t,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield UQ(n,e,t,a,u):"config"===o?yield VQ(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(c){kt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(si,oN,aN,Lh,"gtag");oi=s,cN=o,uw=!0}return si[r]=function sY(n,e,t,r,i,s,o){return aw.apply(this,arguments)}(n,oN,aN,e,cN,Lh,t),new oY(n)}function lY(){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(){if(y_()||!__()||!vs())return!1;try{return yield ac()}catch(n){return!1}})).apply(this,arguments)}const lN="@firebase/analytics";!function hY(){sn(new qt(Fh,(e,{options:t})=>uY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),sn(new qt("analytics-internal",function n(e){try{const t=e.getProvider(Fh).getImmediate();return{logEvent:(r,i,s)=>function dY(n,e,t,r){n=Gt(n),function XQ(n,e,t,r,i){return ew.apply(this,arguments)}(oi,si[n.app.options.appId],e,t,r).catch(i=>kt.error(i))}(t,r,i,s)}}catch(t){throw Rn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),He(lN,"0.8.4"),He(lN,"0.8.4","esm2017")}();class fY extends In{constructor(e,t){super()}schedule(e,t=0){return this}}const Vh={setInterval(n,e,...t){const{delegate:r}=Vh;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Vh;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class hN extends fY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Vh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Vh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const fN={now:()=>(fN.delegate||Date).now(),delegate:void 0};class hc{constructor(e,t=hc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}hc.now=fN.now;class pN extends hc{constructor(e,t=hc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const mY=new class gY extends pN{}(class pY extends hN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),yY=new pN(hN),Uh=new Ko("7.4.1"),lw="__angularfire_symbol__analyticsIsSupportedValue",dw="__angularfire_symbol__analyticsIsSupported",hw="__angularfire_symbol__remoteConfigIsSupportedValue",fw="__angularfire_symbol__remoteConfigIsSupported",pw="__angularfire_symbol__messagingIsSupportedValue",gw="__angularfire_symbol__messagingIsSupported";function yw(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[dw]||(globalThis[dw]=lY().then(n=>globalThis[lw]=n).catch(()=>globalThis[lw]=!1)),globalThis[gw]||(globalThis[gw]=XR().then(n=>globalThis[pw]=n).catch(()=>globalThis[pw]=!1)),globalThis[fw]||(globalThis[fw]=K9().then(n=>globalThis[hw]=n).catch(()=>globalThis[hw]=!1));const _w=(n,e)=>{const t=e?[e]:hR(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function la(){}class gN{constructor(e,t=mY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class _Y{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)),t.pipe(mn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vw=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new gN(Zone.current)),this.insideAngular=t.run(()=>new gN(Zone.current,yY)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(F(Ke))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function As(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function vY(n){return As().ngZone.runOutsideAngular(()=>n())}function Ss(n){return As().ngZone.run(()=>n())}function wY(n){return As(),function EY(n){return function(t){return(t=t.lift(new _Y(n.ngZone))).pipe(Vl(n.outsideAngular),Ll(n.insideAngular))}}(As())(n)}const bY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ss(()=>n.apply(void 0,r))},Kn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)))),r[s]=bY(r[s],t));const i=vY(()=>n.apply(this,r));if(!e){if(i instanceof Re){const s=As();return i.pipe(Vl(s.outsideAngular),Ll(s.insideAngular))}return Ss(()=>i)}return i instanceof Re?i.pipe(wY):i instanceof Promise?Ss(()=>new Promise((s,o)=>i.then(a=>Ss(()=>s(a)),a=>Ss(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ss(()=>i)};class da{constructor(e){return e}}class ww{constructor(){return hR()}}const Ew=new ee("angularfire2._apps"),DY={provide:da,useFactory:function IY(n){return n&&1===n.length?n[0]:new da(R_())},deps:[[new at,Ew]]},CY={provide:ww,deps:[[new at,Ew]]};function TY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new da(r)}}let AY=(()=>{class n{constructor(t){He("angularfire",Uh.full,"core"),He("angularfire",Uh.full,"app"),He("angular",nM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(F($u))},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({providers:[DY,CY]}),n})();function SY(n,...e){return{ngModule:AY,providers:[{provide:Ew,useFactory:TY(n),multi:!0,deps:[Ke,vt,vw,...e]}]}}const xY=Kn(dR,!0),bw=new Map,mN={activated:!1,tokenObservers:[]},MY={initialized:!1,enabled:!1};function Rt(n){return bw.get(n)||Object.assign({},mN)}function Bh(){return MY}class FY{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Th,yield function LY(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Th,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const on=new Sr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _N(n){if(!Rt(n).activated)throw on.create("use-before-activation",{appName:n.name})}function Cw(n,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=g(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(n,a)}catch(f){throw on.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw on.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw on.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function jY(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const fc="firebase-app-check-store";let Hh=null;function wN(){return Hh||(Hh=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(on.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(fc,{keyPath:"compositeKey"})}}catch(r){e(on.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Hh)}function Aw(){return(Aw=g(function*(n,e){const r=(yield wN()).transaction(fc,"readwrite"),s=r.objectStore(fc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(on.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const pc=new ia("@firebase/app-check");function Mw(n,e){return vs()?function qY(n,e){return function EN(n,e){return Aw.apply(this,arguments)}(function IN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DN(){return Bh().enabled}function CN(){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(){const n=Bh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ZY={error:"UNKNOWN_ERROR"};function JY(n){return m_.encodeString(JSON.stringify(n),!1)}function Gh(n){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(n,e=!1){const t=n.app;_N(t);const r=Rt(t);let s,i=r.token;if(i&&!ha(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ha(u)?i=u:yield Mw(t,void 0))}if(!e&&i&&ha(i))return{token:i.token};let a,o=!1;if(DN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Cw(jY(t,yield CN()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield Mw(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Rt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?pc.warn(u.message):pc.error(u),s=u}return i?s?a=ha(i)?{token:i.token,internalError:s}:SN(s):(a={token:i.token},r.token=i,yield Mw(t,i)):a=SN(s),o&&AN(t,a),a})).apply(this,arguments)}function Pw(n,e){const t=Rt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function TN(n){const{app:e}=n,t=Rt(e);let r=t.tokenRefresher;r||(r=function XY(n){const{app:e}=n;return new FY(g(function*(){let r;if(r=Rt(e).token?yield Gh(n,!0):yield Gh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Rt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function AN(n,e){const t=Rt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ha(n){return n.expireTimeMillis-Date.now()>0}function SN(n){return{token:JY(ZY),error:n}}class eZ{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rt(this.app);for(const t of e)Pw(this.app,t.next);return Promise.resolve()}}const FN="app-check-internal";!function pZ(){sn(new qt("app-check",n=>function tZ(n,e){return new eZ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(FN).initialize()})),sn(new qt(FN,n=>function nZ(n){return{getToken:e=>Gh(n,e),addTokenListener:e=>function Ow(n,e,t,r){const{app:i}=n,s=Rt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ha(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),TN(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TN(n))}(n,"INTERNAL",e),removeTokenListener:e=>Pw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),He("@firebase/app-check","0.5.17")}();class Uw{constructor(){return _w("app-check")}}"undefined"!=typeof window&&window;const vZ=function VN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},UN=new Sr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),BN=new ia("@firebase/auth");function zh(n,...e){BN.logLevel<=pe.ERROR&&BN.error(`Auth (${oa}): ${n}`,...e)}function _n(n,...e){throw jw(n,...e)}function xr(n,...e){return jw(n,...e)}function jN(n,e,t){const r=Object.assign(Object.assign({},vZ()),{[e]:t});return new Sr("auth","Firebase",r).create(e,{appName:n.name})}function jw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UN.create(n,...e)}function A(n,e,...t){if(!n)throw jw(e,...t)}function Mr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zh(e),new Error(e)}function Ri(n,e){n||Mr(e)}const $N=new Map;function ai(n){Ri(n instanceof Function,"Expected a class definition");let e=$N.get(n);return e?(Ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$N.set(n,e),e)}function gc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function HN(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=function c7(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}()||function d7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function bZ(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $w(){return"http:"===HN()||"https:"===HN()}()||y_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hw(n,e){Ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class GN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},CZ=new mc(3e4,6e4);function dt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Et(n,e,t,r){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(n,e,t,r,i={}){return qN(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xh(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),GN.fetch()(zN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function qN(n,e,t){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},DZ),e);try{const i=new TZ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw yc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw yc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw yc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw yc(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jN(n,l,c);_n(n,l)}}catch(i){if(i instanceof Wn)throw i;_n(n,"network-request-failed")}})).apply(this,arguments)}function ui(n,e,t,r){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(n,e,t,r,i={}){const s=yield Et(n,e,t,r,i);return"mfaPendingCredential"in s&&_n(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function zN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Hw(n.config,i):`${n.config.apiScheme}://${i}`}class TZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),CZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xr(n,e,r);return i.customData._tokenResponse=t,i}function Ww(){return(Ww=g(function*(n,e){return Et(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function xZ(n,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(n,e){return Et(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function _c(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Yw(){return(Yw=g(function*(n,e=!1){const t=Gt(n),r=yield t.getIdToken(e),i=Wh(r);A(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_c(Zw(i.auth_time)),issuedAtTime:_c(Zw(i.iat)),expirationTime:_c(Zw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Zw(n){return 1e3*Number(n)}function Wh(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ch(r);return s?JSON.parse(s):(zh("Failed to decode base64 JWT payload"),null)}catch(s){return zh("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ci(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Wn&&RZ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function RZ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class NZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class WN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vc(n){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ci(n,xZ(t,{idToken:r}));A(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?FZ(s.providerUserInfo):[],a=PZ(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new WN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})).apply(this,arguments)}function eE(){return(eE=g(function*(n){const e=Gt(n);yield vc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function PZ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FZ(n){return n.map(e=>{var{providerId:t}=e,r=g0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tE(){return(tE=g(function*(n,e){const t=yield qN(n,{},g(function*(){const r=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=zN(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function kZ(n){const e=Wh(n);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function LZ(n,e){return tE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new wc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wc,this.toJSON())}_performRefresh(){return Mr("not implemented")}}function Ni(n,e){A("string"==typeof n||void 0===n,"internal-error",{appName:e})}class xs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield ci(t,t.stsTokenManager.getToken(t.auth,e));return A(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function MZ(n){return Yw.apply(this,arguments)}(this,e)}reload(){return function OZ(n){return eE.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield vc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield ci(e,function AZ(n,e){return Ww.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:R,isAnonymous:N,providerData:V,stsTokenManager:Ie}=t;A(C&&Ie,e,"internal-error");const hr=wc.fromJSON(this.name,Ie);A("string"==typeof C,e,"internal-error"),Ni(d,e.name),Ni(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof N,e,"internal-error"),Ni(f,e.name),Ni(p,e.name),Ni(m,e.name),Ni(y,e.name),Ni(E,e.name),Ni(_,e.name);const so=new xs({uid:C,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:hr,createdAt:E,lastLoginAt:_});return V&&Array.isArray(V)&&(so.providerData=V.map(Nl=>Object.assign({},Nl))),y&&(so._redirectEventId=y),so}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new wc;i.updateFromServerResponse(t);const s=new xs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vc(s),s})()}}const KN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Kh(n,e,t){return`firebase:${n}:${e}:${t}`}class pa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kh("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?xs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new pa(ai(KN),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ai(KN);const o=Kh(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=xs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new pa(s,e,r)):new pa(s,e,r)})()}}function QN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eO(e))return"Blackberry";if(tO(e))return"Webos";if(nE(e))return"Safari";if((e.includes("chrome/")||ZN(e))&&!e.includes("edge/"))return"Chrome";if(XN(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function YN(n=wt()){return/firefox\//i.test(n)}function nE(n=wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZN(n=wt()){return/crios\//i.test(n)}function JN(n=wt()){return/iemobile/i.test(n)}function XN(n=wt()){return/android/i.test(n)}function eO(n=wt()){return/blackberry/i.test(n)}function tO(n=wt()){return/webos/i.test(n)}function Qh(n=wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nO(n=wt()){return Qh(n)||XN(n)||tO(n)||eO(n)||/windows phone/i.test(n)||JN(n)}function rO(n,e=[]){let t;switch(n){case"Browser":t=QN(wt());break;case"Worker":t=`${QN(wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oa}/${r}`}class jZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class $Z{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iO(this),this.idTokenSubscription=new iO(this),this.beforeStateQueue=new jZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield pa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){var r;try{yield vc(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function IZ(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Gt(e):null;return r&&A(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(ai(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&ai(e)||t._popupRedirectResolver;A(r,t,"argument-error"),t.redirectPersistenceManager=yield pa.create(t,[ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function vn(n){return Gt(n)}class iO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function D7(n,e){const t=new C7(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class aO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,t){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}function iE(){return(iE=g(function*(n,e){return Et(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function oE(){return(oE=g(function*(n,e){return ui(n,"POST","/v1/accounts:signInWithPassword",dt(n,e))})).apply(this,arguments)}function hE(){return(hE=g(function*(n,e){return ui(n,"POST","/v1/accounts:signInWithEmailLink",dt(n,e))})).apply(this,arguments)}function fE(){return(fE=g(function*(n,e){return ui(n,"POST","/v1/accounts:signInWithEmailLink",dt(n,e))})).apply(this,arguments)}class Ec extends aO{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ec(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function WZ(n,e){return oE.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function JZ(n,e){return hE.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:_n(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function cO(n,e){return iE.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function XZ(n,e){return fE.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:_n(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function li(n,e){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(n,e){return ui(n,"POST","/v1/accounts:signInWithIdp",dt(n,e))})).apply(this,arguments)}class Dc{constructor(e){var t,r,i,s,o,a;const u=uc(cc(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function oJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function aJ(n){const e=uc(cc(n)).link,t=e?uc(cc(e)).deep_link_id:null,r=uc(cc(n)).deep_link_id;return(r?uc(cc(r)).link:null)||r||t||e||n}(e);try{return new Dc(t)}catch(r){return null}}}let lO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ec._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Dc.parseLink(r);return A(i,"argument-error"),Ec._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uJ extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function dO(n,e){return wE.apply(this,arguments)}function wE(){return(wE=g(function*(n,e){return ui(n,"POST","/v1/accounts:signUp",dt(n,e))})).apply(this,arguments)}class Qn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield xs._fromIdTokenResponse(e,r,i),o=hO(r);return new Qn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=hO(r);return new Qn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function hO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Jh extends Wn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Jh(e,t,r,i)}}function fO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Jh._fromErrorAndOperation(n,s,e,r):s})}function IE(n,e){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(n,e,t=!1){const r=yield ci(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Qn._forOperation(n,"link",r)})).apply(this,arguments)}function TE(){return(TE=g(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield ci(n,fO(i,s,e,n),t);A(o.idToken,i,"internal-error");const a=Wh(o.idToken);A(a,i,"internal-error");const{sub:u}=a;return A(n.uid===u,i,"user-mismatch"),Qn._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&_n(i,"user-mismatch"),o}})).apply(this,arguments)}function mO(n,e){return AE.apply(this,arguments)}function AE(){return(AE=g(function*(n,e,t=!1){const r="signIn",i=yield fO(n,r,e),s=yield Qn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function xE(){return(xE=g(function*(n,e){return mO(vn(n),e)})).apply(this,arguments)}function gJ(n,e,t){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(n,e,t){const r=vn(n),i=yield dO(r,{returnSecureToken:!0,email:e,password:t}),s=yield Qn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function mJ(n,e,t){return function SE(n,e){return xE.apply(this,arguments)}(Gt(n),lO.credential(e,t))}function _O(n,e,t,r){return Gt(n).onIdTokenChanged(e,t,r)}function CJ(n){return Gt(n).signOut()}const tf="__sak";class vO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RJ=(()=>{class n extends vO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xJ(){const n=wt();return nE(n)||Qh(n)}()&&function BZ(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=nO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function UZ(){return function h7(){const n=wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),wO=(()=>{class n extends vO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let OJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function NJ(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function nb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class PJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=nb("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ht(){return window}function rb(){return void 0!==ht().WorkerGlobalScope&&"function"==typeof ht().importScripts}function ib(){return(ib=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const EO="firebaseLocalStorageDb",nf="firebaseLocalStorage",bO="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(n,e){return n.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function sb(){const n=indexedDB.open(EO,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(nf,{keyPath:bO})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(nf)?e(r):(r.close(),yield function jJ(){const n=indexedDB.deleteDatabase(EO);return new Tc(n).toPromise()}(),e(yield sb()))}))})}function IO(n,e,t){return ob.apply(this,arguments)}function ob(){return(ob=g(function*(n,e,t){const r=rf(n,!0).put({[bO]:e,value:t});return new Tc(r).toPromise()})).apply(this,arguments)}function ab(){return(ab=g(function*(n,e){const t=rf(n,!1).get(e),r=yield new Tc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function DO(n,e){const t=rf(n,!0).delete(e);return new Tc(t).toPromise()}const qJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield sb()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return rb()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=OJ._getInstance(function UJ(){return rb()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function LJ(){return ib.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new PJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function VJ(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield sb();return yield IO(t,tf,"1"),yield DO(t,tf),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>IO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function $J(n,e){return ab.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>DO(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=rf(o,!1).getAll();return new Tc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function TO(n){return`__${n}${Math.floor(1e6*Math.random())}`}function ks(n,e){return e?ai(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}TO("rcb"),new mc(3e4,6e4);class yb extends aO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return li(e,this._buildIdpRequest())}_linkToIdToken(e,t){return li(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return li(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uX(n){return mO(n.auth,new yb(n),n.bypassAuthState)}function cX(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),function gO(n,e){return TE.apply(this,arguments)}(t,new yb(n),n.bypassAuthState)}function lX(n){return _b.apply(this,arguments)}function _b(){return(_b=g(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),IE(t,new yb(n),n.bypassAuthState)})).apply(this,arguments)}new mc(2e3,1e4);const Ac=new Map;class fX extends class dX{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uX;case"linkViaPopup":case"linkViaRedirect":return lX;case"reauthViaPopup":case"reauthViaRedirect":return cX;default:_n(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Ac.get(t.auth._key());if(!r){try{const s=(yield function pX(n,e){return Ib.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ac.set(t.auth._key(),r)}return t.bypassAuthState||Ac.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Ib(){return(Ib=g(function*(n,e){const t=xO(e),r=SO(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function gX(n,e){Ac.set(n._key(),e)}function SO(n){return ai(n._redirectPersistence)}function xO(n){return Kh("pendingRedirect",n.config.apiKey,n.name)}function MO(n,e){return Mb.apply(this,arguments)}function Mb(){return(Mb=g(function*(n,e,t=!1){const r=vn(n),i=ks(r,e),o=yield new fX(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class wX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function EX(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!NO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(xr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(RO(e))}saveEventToCache(e){this.cachedEventUids.add(RO(e)),this.lastProcessedEventTime=Date.now()}}function RO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function NO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function bX(n){return Rb.apply(this,arguments)}function Rb(){return(Rb=g(function*(n,e={}){return Et(n,"GET","/v1/projects",e)})).apply(this,arguments)}const IX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DX=/^https?/;function Nb(){return(Nb=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield bX(n);for(const t of e)try{if(TX(t))return}catch(r){}_n(n,"unauthorized-domain")})).apply(this,arguments)}function TX(n){const e=gc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!DX.test(t))return!1;if(IX.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const AX=new mc(3e4,6e4);function OO(){const n=ht().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let af=null;function xX(n){return af=af||function SX(n){return new Promise((e,t)=>{var r,i,s;function o(){OO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OO(),t(xr(n,"network-request-failed"))},timeout:AX.get()})}if(null===(i=null===(r=ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ht().gapi)||void 0===s?void 0:s.load)){const a=TO("iframefcb");return ht()[a]=()=>{gapi.load?o():t(xr(n,"network-request-failed"))},function CO(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=xr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function QJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw af=null,e})}(n),af}const MX=new mc(5e3,15e3),NX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PX(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:oa},i=OX.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${xh(r).slice(1)}`}function Ob(){return Ob=g(function*(n){const e=yield xX(n),t=ht().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:PX(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NX,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=xr(n,"network-request-failed"),u=ht().setTimeout(()=>{o(a)},MX.get());function c(){ht().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Ob.apply(this,arguments)}const LX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class PO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function FO(n,e,t,r,i,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:oa,eventId:i};if(e instanceof Oi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function I7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof uJ){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function zX({config:n}){return n.emulator?Hw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${xh(a).slice(1)}`}const Pb="webStorageSupport",KX=class WX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wO,this._completeRedirectFn=MO,this._overrideRedirectResult=gX}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;Ri(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=FO(e,t,r,gc(),i);return function $X(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},LX),{width:r.toString(),height:i.toString(),top:s,left:o}),c=wt().toLowerCase();t&&(a=ZN(c)?"_blank":t),YN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function VZ(n=wt()){var e;return Qh(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function HX(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new PO(null);const d=window.open(e||"",a,l);A(d,n,"popup-blocked");try{d.focus()}catch(h){}return new PO(d)}(e,a,nb())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function FJ(n){ht().location.href=n}(FO(e,t,r,gc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function FX(n){return Ob.apply(this,arguments)}(e),i=new wX(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pb,{type:Pb},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[Pb];void 0!==o&&t(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function CX(n){return Nb.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nO()||nE()||Qh()}};var VO="@firebase/auth",UO="0.20.11";class QX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const XX=tR("authIdTokenMaxAge")||300;let BO=null;const eee=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>XX)return;const s=null==r?void 0:r.token;BO!==s&&(BO=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function tee(n=R_()){const e=sa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function wZ(n,e){const t=sa(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Sh(t.getOptions(),null!=e?e:{}))return i;_n(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:KX,persistence:[qJ,RJ,wO]}),r=tR("authTokenSyncURL");if(r){const s=eee(r);(function DJ(n,e,t){Gt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),_O(t,o=>s(o))}const i=eR("auth");return i&&function HZ(n,e,t){const r=vn(n);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==t?void 0:t.disableWarnings),s=sO(e),{host:o,port:a}=function GZ(n){const e=sO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:oO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:oO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function qZ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function jO(n){return new Re(function(e){return{unsubscribe:_O(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function ZX(n){sn(new qt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rO(n)},l=new $Z(a,u,c);return function EZ(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ai);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sn(new qt("auth-internal",e=>{const t=vn(e.getProvider("auth").getImmediate());return new QX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(VO,UO,function YX(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),He(VO,UO,"esm2017")}("Browser");class Sc{constructor(e){return e}}class HO{constructor(){return _w("auth")}}const Fb=new ee("angularfire2.auth-instances");function ree(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Sc(r)}}const iee={provide:HO,deps:[[new at,Fb]]},see={provide:Sc,useFactory:function nee(n,e){const t=yw("auth",n,e);return t&&new Sc(t)},deps:[[new at,Fb],da]};let oee=(()=>{class n{constructor(){He("angularfire",Uh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({providers:[see,iee]}),n})();function aee(n,...e){return{ngModule:oee,providers:[{provide:Fb,useFactory:ree(n),multi:!0,deps:[Ke,vt,vw,ww,[new at,Uw],...e]}]}}const uee=Kn(jO,!0),cee=Kn(gJ,!0),lee=Kn(tee,!0),dee=Kn(mJ,!0),hee=Kn(CJ,!0);var P,fee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},di={},Lb=Lb||{},W=fee||self;function uf(){}function cf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vb="closure_uid_"+(1e9*Math.random()>>>0),gee=0;function mee(n,e,t){return n.call.apply(n.bind,arguments)}function yee(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function zt(n,e,t){return(zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mee:yee).apply(null,arguments)}function lf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Nt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Pi(){this.s=this.s,this.o=this.o}Pi.prototype.s=!1,Pi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function pee(n){Object.prototype.hasOwnProperty.call(n,Vb)&&n[Vb]||(n[Vb]=++gee)}(this)},Pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ub(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(cf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Wt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var vee=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{W.addEventListener("test",uf,e),W.removeEventListener("test",uf,e)}catch(t){}return n}();function df(n){return/^[\s\xa0]*$/.test(n)}var zO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Bb(n,e){return n<e?-1:n>e?1:0}function hf(){var n=W.navigator;return n&&(n=n.userAgent)?n:""}function kr(n){return-1!=hf().indexOf(n)}function jb(n){return jb[" "](n),n}jb[" "]=uf;var ff,n,Eee=kr("Opera"),ga=kr("Trident")||kr("MSIE"),WO=kr("Edge"),$b=WO||ga,KO=kr("Gecko")&&!(-1!=hf().toLowerCase().indexOf("webkit")&&!kr("Edge"))&&!(kr("Trident")||kr("MSIE"))&&!kr("Edge"),bee=-1!=hf().toLowerCase().indexOf("webkit")&&!kr("Edge");function QO(){var n=W.document;return n?n.documentMode:void 0}e:{var Hb="",Gb=(n=hf(),KO?/rv:([^\);]+)(\)|;)/.exec(n):WO?/Edge\/([\d\.]+)/.exec(n):ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bee?/WebKit\/(\S+)/.exec(n):Eee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gb&&(Hb=Gb?Gb[1]:""),ga){var qb=QO();if(null!=qb&&qb>parseFloat(Hb)){ff=String(qb);break e}}ff=Hb}var Iee={};var Cee=W.document&&ga&&(QO()||parseInt(ff,10))||void 0;function Mc(n,e){if(Wt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KO){e:{try{jb(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mc.X.h.call(this)}}Nt(Mc,Wt);var Tee={2:"touch",3:"pen",4:"mouse"};Mc.prototype.h=function(){Mc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kc="closure_listenable_"+(1e6*Math.random()|0),Aee=0;function See(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Aee,this.ba=this.ea=!1}function pf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Wb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ZO(n){const e={};for(const t in n)e[t]=n[t];return e}const JO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<JO.length;s++)t=JO[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function gf(n){this.src=n,this.g={},this.h=0}function Kb(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=GO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qb(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}gf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Qb(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new See(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var Yb="closure_lm_"+(1e6*Math.random()|0),Zb={};function eP(n,e,t,r,i){if(r&&r.once)return nP(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eP(n,e[s],t,r,i);return null}return t=tI(t),n&&n[kc]?n.N(e,t,xc(r)?!!r.capture:!!r,i):tP(n,e,t,!1,r,i)}function tP(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=xc(i)?!!i.capture:!!i,a=Xb(n);if(a||(n[Yb]=a=new gf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function xee(){const e=Mee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)vee||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(iP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function nP(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nP(n,e[s],t,r,i);return null}return t=tI(t),n&&n[kc]?n.O(e,t,xc(r)?!!r.capture:!!r,i):tP(n,e,t,!0,r,i)}function rP(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rP(n,e[s],t,r,i);else r=xc(r)?!!r.capture:!!r,t=tI(t),n&&n[kc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qb(s=n.g[e],t,r,i))&&(pf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Xb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qb(e,t,r,i)),(t=-1<n?e[n]:null)&&Jb(t))}function Jb(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[kc])Kb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(iP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Xb(e))?(Kb(t,n),0==t.h&&(t.src=null,e[Yb]=null)):pf(n)}}}function iP(n){return n in Zb?Zb[n]:Zb[n]="on"+n}function Mee(n,e){if(n.ba)n=!0;else{e=new Mc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Jb(n),n=t.call(r,e)}return n}function Xb(n){return(n=n[Yb])instanceof gf?n:null}var eI="__closure_events_fn_"+(1e9*Math.random()>>>0);function tI(n){return"function"==typeof n?n:(n[eI]||(n[eI]=function(e){return n.handleEvent(e)}),n[eI])}function bt(){Pi.call(this),this.i=new gf(this),this.P=this,this.I=null}function Ot(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Wt(e,n);else if(e instanceof Wt)e.target=e.target||n;else{var i=e;XO(e=new Wt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=mf(o,r,!0,e)&&i}if(i=mf(o=e.g=n,r,!0,e)&&i,i=mf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=mf(o=e.g=t[s],r,!1,e)&&i}function mf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&Kb(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nt(bt,Pi),bt.prototype[kc]=!0,bt.prototype.removeEventListener=function(n,e,t,r){rP(this,n,e,t,r)},bt.prototype.M=function(){if(bt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)pf(t[r]);delete n.g[e],n.h--}}this.I=null},bt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},bt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var nI=W.JSON.stringify;function kee(){var n=aP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var rI,sP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Nee,n=>n.reset());class Nee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oee(n){W.setTimeout(()=>{throw n},0)}function oP(n,e){rI||function Pee(){var n=W.Promise.resolve(void 0);rI=function(){n.then(Fee)}}(),iI||(rI(),iI=!0),aP.add(n,e)}var iI=!1,aP=new class Ree{constructor(){this.h=this.g=null}add(e,t){const r=sP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Fee(){for(var n;n=kee();){try{n.h.call(n.g)}catch(t){Oee(t)}var e=sP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}iI=!1}function yf(n,e){bt.call(this),this.h=n||1,this.g=e||W,this.j=zt(this.lb,this),this.l=Date.now()}function sI(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function oI(n,e,t){if("function"==typeof n)t&&(n=zt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zt(n.handleEvent,n)}return 2147483647<Number(e)?-1:W.setTimeout(n,e||0)}function uP(n){n.g=oI(()=>{n.g=null,n.i&&(n.i=!1,uP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Nt(yf,bt),(P=yf.prototype).ca=!1,P.R=null,P.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ot(this,"tick"),this.ca&&(sI(this),this.start()))}},P.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){yf.X.M.call(this),sI(this),delete this.g};class Lee extends Pi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uP(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rc(n){Pi.call(this),this.h=n,this.g={}}Nt(Rc,Pi);var cP=[];function lP(n,e,t,r){Array.isArray(t)||(t&&(cP[0]=t.toString()),t=cP);for(var i=0;i<t.length;i++){var s=eP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function dP(n){Wb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jb(e)},n),n.g={}}function _f(){this.g=!0}function ma(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nI(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Rc.prototype.M=function(){Rc.X.M.call(this),dP(this)},Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_f.prototype.Aa=function(){this.g=!1},_f.prototype.info=function(){};var Rs={},hP=null;function vf(){return hP=hP||new bt}function fP(n){Wt.call(this,Rs.Pa,n)}function Nc(n){const e=vf();Ot(e,new fP(e))}function pP(n,e){Wt.call(this,Rs.STAT_EVENT,n),this.stat=e}function an(n){const e=vf();Ot(e,new pP(e,n))}function gP(n,e){Wt.call(this,Rs.Qa,n),this.size=e}function Oc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){n()},e)}Rs.Pa="serverreachability",Nt(fP,Wt),Rs.STAT_EVENT="statevent",Nt(pP,Wt),Rs.Qa="timingevent",Nt(gP,Wt);var wf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function aI(){}function _P(){}aI.prototype.h=null;var lI,Pc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function uI(){Wt.call(this,"d")}function cI(){Wt.call(this,"c")}function Ef(){}function Fc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Rc(this),this.O=$ee,this.T=new yf(n=$b?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vP}function vP(){this.i=null,this.g="",this.h=!1}Nt(uI,Wt),Nt(cI,Wt),Nt(Ef,aI),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},lI=new Ef;var $ee=45e3,dI={},bf={};function hI(n,e,t){n.K=1,n.v=Tf(hi(e)),n.s=t,n.P=!0,wP(n,null)}function wP(n,e){n.F=Date.now(),Lc(n),n.A=hi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),MP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new vP,n.g=eF(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Lee(zt(n.La,n,n.g),n.N)),lP(n.S,n.g,"readystatechange",n.ib),e=n.H?ZO(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Nc(),function Vee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function EP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function bP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Hee(n,t),i==bf){4==e&&(n.o=4,an(14),r=!1),ma(n.j,n.m,null,"[Incomplete Response]");break}if(i==dI){n.o=4,an(15),ma(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ma(n.j,n.m,i,null),fI(n,i)}EP(n)&&i!=bf&&i!=dI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,an(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),EI(e),e.K=!0,an(11))):(ma(n.j,n.m,t,"[Invalid Chunked Response]"),Ns(n),Vc(n))}function Hee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bf:(t=Number(e.substring(t,r)),isNaN(t)?dI:(r+=1)+t>e.length?bf:(e=e.substr(r,t),n.C=r+t,e))}function Lc(n){n.V=Date.now()+n.O,IP(n,n.O)}function IP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Oc(zt(n.gb,n),e)}function If(n){n.B&&(W.clearTimeout(n.B),n.B=null)}function Vc(n){0==n.l.G||n.I||YP(n.l,n)}function Ns(n){If(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,sI(n.T),dP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function fI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pI(t.h,n)))if(!n.J&&pI(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Oc(zt(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Rf(t),Mf(t)}wI(t),an(18)}if(1>=NP(t.h)&&t.ja){try{t.ja()}catch(c){}t.ja=void 0}}else Ps(t,11)}else if((n.J||t.g==n)&&Rf(t),!df(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const l=c[3];null!=l&&(t.ma=l,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Pe(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=XP(r,r.H?r.ka:null,r.V),o.J){OP(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(If(a),Lc(a)),r.g=o}else KP(r);0<t.i.length&&kf(t)}else"stop"!=c[0]&&"close"!=c[0]||Ps(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ps(t,7):vI(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Nc()}catch(c){}}function DP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qee(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(cf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Gee(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(P=Fc.prototype).setTimeout=function(n){this.O=n},P.ib=function(n){n=n.target;const e=this.L;e&&3==fi(n)?e.l():this.La(n)},P.La=function(n){try{if(n==this.g)e:{const l=fi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||$b||this.g&&(this.h.h||this.g.fa()||$P(this.g)))){this.I||4!=l||7==e||Nc(),If(this);var t=this.g.aa();this.Y=t;t:if(EP(this)){var r=$P(this.g);n="";var i=r.length,s=4==fi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ns(this),Vc(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function Uee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!df(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,an(12),Ns(this),Vc(this);break e}ma(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fI(this,t)}this.P?(bP(this,l,o),$b&&this.i&&3==l&&(lP(this.S,this.T,"tick",this.hb),this.T.start())):(ma(this.j,this.m,o,null),fI(this,o)),4==l&&Ns(this),this.i&&!this.I&&(4==l?YP(this.l,this):(this.i=!1,Lc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),Ns(this),Vc(this)}}}catch(l){}},P.hb=function(){if(this.g){var n=fi(this.g),e=this.g.fa();this.C<e.length&&(If(this),bP(this,n,e),this.i&&4!=n&&Lc(this))}},P.cancel=function(){this.I=!0,Ns(this)},P.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Bee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nc(),an(17)),Ns(this),this.o=2,Vc(this)):IP(this,this.V-n)};var CP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Os){this.h=void 0!==e?e:n.h,Df(this,n.j),this.s=n.s,this.g=n.g,Cf(this,n.m),this.l=n.l,e=n.i;var t=new jc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),TP(this,t),this.o=n.o}else n&&(t=String(n).match(CP))?(this.h=!!e,Df(this,t[1]||"",!0),this.s=Uc(t[2]||""),this.g=Uc(t[3]||"",!0),Cf(this,t[4]),this.l=Uc(t[5]||"",!0),TP(this,t[6]||"",!0),this.o=Uc(t[7]||"")):(this.h=!!e,this.i=new jc(null,this.h))}function hi(n){return new Os(n)}function Df(n,e,t){n.j=t?Uc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function TP(n,e,t){e instanceof jc?(n.i=e,function Jee(n,e){e&&!n.j&&(Fi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(SP(this,r),MP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Bc(e,Yee)),n.i=new jc(e,n.h))}function Pe(n,e,t){n.i.set(e,t)}function Tf(n){return Pe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Uc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Os.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bc(e,AP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bc(e,AP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bc(t,"/"==t.charAt(0)?Qee:Kee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bc(t,Zee)),n.join("")};var AP=/[#\/\?@]/g,Kee=/[#\?:]/g,Qee=/[#\?]/g,Yee=/[#\?@]/g,Zee=/#/g;function jc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fi(n){n.g||(n.g=new Map,n.h=0,n.i&&function zee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function SP(n,e){Fi(n),e=ya(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xP(n,e){return Fi(n),e=ya(n,e),n.g.has(e)}function MP(n,e,t){SP(n,e),0<t.length&&(n.i=null,n.g.set(ya(n,e),Ub(t)),n.h+=t.length)}function ya(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kP(n){this.l=n||ete,n=W.PerformanceNavigationTiming?0<(n=W.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(W.g&&W.g.Ga&&W.g.Ga()&&W.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=jc.prototype).add=function(n,e){Fi(this),this.i=null,n=ya(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},P.forEach=function(n,e){Fi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},P.oa=function(){Fi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},P.W=function(n){Fi(this);let e=[];if("string"==typeof n)xP(this,n)&&(e=e.concat(this.g.get(ya(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},P.set=function(n,e){return Fi(this),this.i=null,xP(this,n=ya(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},P.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var ete=10;function RP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function NP(n){return n.h?1:n.g?n.g.size:0}function pI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gI(n,e){n.g?n.g.add(e):n.h=e}function OP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function PP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ub(n.i)}function mI(){}function tte(){this.g=new mI}function nte(n,e,t){const r=t||"";try{DP(n,function(i,s){let o=i;xc(i)&&(o=nI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Af(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function $c(n){this.l=n.ac||null,this.j=n.jb||!1}function Sf(n,e){bt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kP.prototype.cancel=function(){if(this.i=PP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mI.prototype.stringify=function(n){return W.JSON.stringify(n,void 0)},mI.prototype.parse=function(n){return W.JSON.parse(n,void 0)},Nt($c,aI),$c.prototype.g=function(){return new Sf(this.l,this.j)},$c.prototype.i=function(n){return function(){return n}}({}),Nt(Sf,bt);var yI=0;function FP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Hc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gc(n)}function Gc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(P=Sf.prototype).open=function(n,e){if(this.readyState!=yI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gc(this)},P.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||W).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hc(this)),this.readyState=yI},P.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==W.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},P.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Hc(this):Gc(this),3==this.readyState&&FP(this)}},P.Va=function(n){this.g&&(this.response=this.responseText=n,Hc(this))},P.Ua=function(n){this.g&&(this.response=n,Hc(this))},P.ga=function(){this.g&&Hc(this)},P.setRequestHeader=function(n,e){this.v.append(n,e)},P.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ite=W.JSON.parse;function Ge(n){bt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LP,this.K=this.L=!1}Nt(Ge,bt);var LP="",ste=/^https?$/i,ote=["POST","PUT"];function VP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UP(n),xf(n)}function UP(n){n.D||(n.D=!0,Ot(n,"complete"),Ot(n,"error"))}function BP(n){if(n.h&&void 0!==Lb&&(!n.C[1]||4!=fi(n)||2!=n.aa()))if(n.v&&4==fi(n))oI(n.Ha,0,n);else if(Ot(n,"readystatechange"),4==fi(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(CP)[1]||null;if(!i&&W.self&&W.self.location){var s=W.self.location.protocol;i=s.substr(0,s.length-1)}r=!ste.test(i?i.toLowerCase():"")}t=r}if(t)Ot(n,"complete"),Ot(n,"success");else{n.m=6;try{var o=2<fi(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.aa()+"]",UP(n)}}finally{xf(n)}}}function xf(n,e){if(n.g){jP(n);const t=n.g,r=n.C[0]?uf:null;n.g=null,n.C=null,e||Ot(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function jP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(W.clearTimeout(n.A),n.A=null)}function fi(n){return n.g?n.g.readyState:0}function $P(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function HP(n){let e="";return Wb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _I(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=HP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pe(n,e,t))}function qc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function GP(n){this.Ca=0,this.i=[],this.j=new _f,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=qc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=qc("baseRetryDelayMs",5e3,n),this.bb=qc("retryDelaySeedMs",1e4,n),this.$a=qc("forwardChannelMaxRetries",2,n),this.ta=qc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new kP(n&&n.concurrentRequestLimit),this.Fa=new tte,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vI(n){if(qP(n),3==n.G){var e=n.U++,t=hi(n.F);Pe(t,"SID",n.I),Pe(t,"RID",e),Pe(t,"TYPE","terminate"),zc(n,t),(e=new Fc(n,n.j,e,void 0)).K=2,e.v=Tf(hi(t)),t=!1,W.navigator&&W.navigator.sendBeacon&&(t=W.navigator.sendBeacon(e.v.toString(),"")),!t&&W.Image&&((new Image).src=e.v,t=!0),t||(e.g=eF(e.l,null),e.g.da(e.v)),e.F=Date.now(),Lc(e)}JP(n)}function Mf(n){n.g&&(EI(n),n.g.cancel(),n.g=null)}function qP(n){Mf(n),n.u&&(W.clearTimeout(n.u),n.u=null),Rf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&W.clearTimeout(n.m),n.m=null)}function kf(n){RP(n.h)||n.m||(n.m=!0,oP(n.Ja,n),n.C=0)}function zP(n,e){var t;t=e?e.m:n.U++;const r=hi(n.F);Pe(r,"SID",n.I),Pe(r,"RID",t),Pe(r,"AID",n.T),zc(n,r),n.o&&n.s&&_I(r,n.o,n.s),t=new Fc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=WP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),gI(n.h,t),hI(t,r,e)}function zc(n,e){n.ia&&Wb(n.ia,function(t,r){Pe(e,r,t)}),n.l&&DP({},function(t,r){Pe(e,r,t)})}function WP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?zt(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{nte(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function KP(n){n.g||n.u||(n.Z=1,oP(n.Ia,n),n.A=0)}function wI(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Oc(zt(n.Ia,n),ZP(n,n.A)),n.A++,0))}function EI(n){null!=n.B&&(W.clearTimeout(n.B),n.B=null)}function QP(n){n.g=new Fc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=hi(n.sa);Pe(e,"RID","rpc"),Pe(e,"SID",n.I),Pe(e,"CI",n.L?"0":"1"),Pe(e,"AID",n.T),Pe(e,"TYPE","xmlhttp"),zc(n,e),n.o&&n.s&&_I(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Tf(hi(e)),t.s=null,t.P=!0,wP(t,n)}function Rf(n){null!=n.v&&(W.clearTimeout(n.v),n.v=null)}function YP(n,e){var t=null;if(n.g==e){Rf(n),EI(n),n.g=null;var r=2}else{if(!pI(n.h,e))return;t=e.D,OP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ot(r=vf(),new gP(r,t)),kf(n)}else KP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function ute(n,e){return!(NP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Oc(zt(n.Ja,n,e),ZP(n,n.C)),n.C++,0)))}(n,e)||2==r&&wI(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ps(n,5);break;case 4:Ps(n,10);break;case 3:Ps(n,6);break;default:Ps(n,2)}}function ZP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ps(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=zt(n.kb,n);t||(t=new Os("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||Df(t,"https"),Tf(t)),function rte(n,e){const t=new _f;if(W.Image){const r=new Image;r.onload=lf(Af,t,r,"TestLoadImage: loaded",!0,e),r.onerror=lf(Af,t,r,"TestLoadImage: error",!1,e),r.onabort=lf(Af,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=lf(Af,t,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else an(2);n.G=0,n.l&&n.l.va(e),JP(n),qP(n)}function JP(n){if(n.G=0,n.la=[],n.l){const e=PP(n.h);(0!=e.length||0!=n.i.length)&&(qO(n.la,e),qO(n.la,n.i),n.h.i.length=0,Ub(n.i),n.i.length=0),n.l.ua()}}function XP(n,e,t){var r=t instanceof Os?hi(t):new Os(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Cf(r,r.m);else{var i=W.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Os(null,void 0);r&&Df(s,r),e&&(s.g=e),i&&Cf(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Pe(r,t,e),Pe(r,"VER",n.ma),zc(n,r),r}function eF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(t&&n.Da&&!n.ra?new $c({jb:!0}):n.ra)).Ka(n.H),e}function tF(){}function Nf(){if(ga&&!(10<=Number(Cee)))throw Error("Environmental error: no available transport.")}function Nn(n,e){bt.call(this),this.g=new GP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!df(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!df(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _a(this)}function nF(n){uI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rF(){cI.call(this),this.status=1}function _a(n){this.g=n}(P=Ge.prototype).Ka=function(n){this.L=n},P.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lI.g(),this.C=function yP(n){return n.h||(n.h=n.i())}(this.u?this.u:lI),this.g.onreadystatechange=zt(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void VP(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=W.FormData&&n instanceof W.FormData,!(0<=GO(ote,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jP(this),0<this.B&&((this.K=function ate(n){return ga&&function Dee(){return function wee(n){var e=Iee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=zO(String(ff)).split("."),t=zO("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Bb(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Bb(0==i[2].length,0==s[2].length)||Bb(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.qa,this)):this.A=oI(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){VP(this,s)}},P.qa=function(){void 0!==Lb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},P.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ot(this,"complete"),Ot(this,"abort"),xf(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xf(this,!0)),Ge.X.M.call(this)},P.Ha=function(){this.s||(this.F||this.v||this.l?BP(this):this.fb())},P.fb=function(){BP(this)},P.aa=function(){try{return 2<fi(this)?this.g.status:-1}catch(n){return-1}},P.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},P.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ite(e)}},P.Ea=function(){return this.m},P.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=GP.prototype).ma=8,P.G=1,P.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Fc(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=ZO(s),XO(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=WP(this,i,e),Pe(t=hi(this.F),"RID",n),Pe(t,"CVER",22),this.D&&Pe(t,"X-HTTP-Session-Id",this.D),zc(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(HP(s)))+"&"+e:this.o&&_I(t,this.o,s)),gI(this.h,i),this.Ya&&Pe(t,"TYPE","init"),this.O?(Pe(t,"$req",e),Pe(t,"SID","null"),i.Z=!0,hI(i,t,null)):hI(i,t,e),this.G=2}}else 3==this.G&&(n?zP(this,n):0==this.i.length||RP(this.h)||zP(this))},P.Ia=function(){if(this.u=null,QP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Oc(zt(this.eb,this),n)}},P.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,an(10),Mf(this),QP(this))},P.cb=function(){null!=this.v&&(this.v=null,Mf(this),wI(this),an(19))},P.kb=function(n){n?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))},(P=tF.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Ra=function(){},Nf.prototype.g=function(n,e){return new Nn(n,e)},Nt(Nn,bt),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;an(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=XP(n,null,n.V),kf(n)},Nn.prototype.close=function(){vI(this.g)},Nn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&kf(e)},Nn.prototype.M=function(){this.g.l=null,delete this.j,vI(this.g),delete this.g,Nn.X.M.call(this)},Nt(nF,uI),Nt(rF,cI),Nt(_a,tF),_a.prototype.xa=function(){Ot(this.g,"a")},_a.prototype.wa=function(n){Ot(this.g,new nF(n))},_a.prototype.va=function(n){Ot(this.g,new rF)},_a.prototype.ua=function(){Ot(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,wf.NO_ERROR=0,wf.TIMEOUT=8,wf.HTTP_ERROR=6,mP.COMPLETE="complete",_P.EventType=Pc,Pc.OPEN="a",Pc.CLOSE="b",Pc.ERROR="c",Pc.MESSAGE="d",bt.prototype.listen=bt.prototype.N,Ge.prototype.listenOnce=Ge.prototype.O,Ge.prototype.getLastError=Ge.prototype.Oa,Ge.prototype.getLastErrorCode=Ge.prototype.Ea,Ge.prototype.getStatus=Ge.prototype.aa,Ge.prototype.getResponseJson=Ge.prototype.Sa,Ge.prototype.getResponseText=Ge.prototype.fa,Ge.prototype.send=Ge.prototype.da,Ge.prototype.setWithCredentials=Ge.prototype.Ka;var cte=di.createWebChannelTransport=function(){return new Nf},lte=di.getStatEventTarget=function(){return vf()},bI=di.ErrorCode=wf,dte=di.EventType=mP,hte=di.Event=Rs,iF=di.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},fte=di.FetchXmlHttpFactory=$c,Of=di.WebChannel=_P,pte=di.XhrIo=Ge;const sF="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let va="9.14.0";const Li=new ia("@firebase/firestore");function II(){return Li.logLevel}function T(n,...e){if(Li.logLevel<=pe.DEBUG){const t=e.map(DI);Li.debug(`Firestore (${va}): ${n}`,...t)}}function Ye(n,...e){if(Li.logLevel<=pe.ERROR){const t=e.map(DI);Li.error(`Firestore (${va}): ${n}`,...t)}}function wa(n,...e){if(Li.logLevel<=pe.WARN){const t=e.map(DI);Li.warn(`Firestore (${va}): ${n}`,...t)}}function DI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function O(n="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+n;throw Ye(e),new Error(e)}function U(n,e){n||O()}function x(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class oF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}}class mte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yte{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ft)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new oF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new It(e)}}class _te{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=It.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(U(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class vte{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new _te(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wte{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(U("string"==typeof t.token),this.A=t.token,new aF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ete(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ete(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function K(n,e){return n<e?-1:n>e?1:0}function Ea(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ve{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ve(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Ve(0,0))}static max(){return new B(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wc{constructor(e,t,r){void 0===t?t=0:t>e.length&&O(),void 0===r?r=e.length-t:r>e.length-t&&O(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends Wc{construct(e,t,r){return new ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const bte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Wc{construct(e,t,r){return new Ze(e,t,r)}static isValidIdentifier(e){return bte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(t)}static emptyPath(){return new Ze([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(ge.fromString(e))}static fromName(e){return new S(ge.fromString(e).popFirst(5))}static empty(){return new S(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new ge(e.slice()))}}function dF(n){return new On(n.readTime,n.key,-1)}class On{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new On(B.min(),S.empty(),-1)}static max(){return new On(B.max(),S.empty(),-1)}}function TI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=S.comparator(n.documentKey,e.documentKey),0!==t?t:K(n.largestBatchId,e.largestBatchId))}const hF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Vi(n){return AI.apply(this,arguments)}function AI(){return AI=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==hF)throw n;T("LocalStore","Unexpectedly lost primary lease")}),AI.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof v?t:v.resolve(t)}catch(t){return v.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):v.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):v.reject(t)}static resolve(e){return new v((t,r)=>{t(e)})}static reject(e){return new v((t,r)=>{r(e)})}static waitFor(e){return new v((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=v.resolve(!1);for(const r of e)t=t.next(i=>i?v.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new v((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ui(n){return"IndexedDbTransactionError"===n.name}class wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function pF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}wn.at=-1;class qe{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new qe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Pt.RED,this.left=null!=i?i:Pt.EMPTY,this.right=null!=s?s:Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Pt(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Pt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class be{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mF(this.data.getIterator())}getIteratorFrom(e){return new mF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new be(this.comparator);return t.data=e,t}}class mF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new be(Ze.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const Mte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(n){if(U(!!n),"string"==typeof n){let e=0;const t=Mte.exec(n);if(U(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Us(n){return"string"==typeof n?pt.fromBase64String(n):pt.fromUint8Array(n)}function xI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yF(n){const e=n.mapValue.fields.__previous_value__;return xI(e)?yF(e):e}function Yc(n){const e=Bi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}class kte{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Bs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}function Zc(n){return null==n}function Jc(n){return 0===n&&1/n==-1/0}const ji_mapValue={fields:{__type__:{stringValue:"__max__"}}};function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xI(n)?4:bF(n)?9007199254740991:10:O()}function Rr(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yc(n).isEqual(Yc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Bi(r.timestampValue),o=Bi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Us(n.bytesValue).isEqual(Us(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?Jc(s)===Jc(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pF(s)!==pF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Rr(s[a],o[a])))return!1;return!0}(n,e);default:return O()}var i}function Xc(n,e){return void 0!==(n.values||[]).find(t=>Rr(t,e))}function $i(n,e){if(n===e)return 0;const t=js(n),r=js(e);if(t!==r)return K(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return K(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return vF(n.timestampValue,e.timestampValue);case 4:return vF(Yc(n),Yc(e));case 5:return K(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Us(i),a=Us(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(ze(i.latitude),ze(s.latitude));return 0!==o?o:K(ze(i.longitude),ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=$i(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ji_mapValue&&s===ji_mapValue)return 0;if(i===ji_mapValue)return 1;if(s===ji_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=$i(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(n.mapValue,e.mapValue);default:throw O()}}function vF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return K(n,e);const t=Bi(n),r=Bi(e),i=K(t.seconds,r.seconds);return 0!==i?i:K(t.nanos,r.nanos)}function Ia(n){return MI(n)}function MI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Bi(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Us(n.bytesValue).toBase64():"referenceValue"in n?S.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=MI(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${MI(r.fields[a])}`;return s+"}"}(n.mapValue):O();var e}function kI(n){return!!n&&"integerValue"in n}function el(n){return!!n&&"arrayValue"in n}function wF(n){return!!n&&"nullValue"in n}function EF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bf(n){return!!n&&"mapValue"in n}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=tl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(tl(this.value))}}function CF(n){const e=[];return Vs(n.fields,(t,r)=>{const i=new Ze([t]);if(Bf(r)){const s=CF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}class xe{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xe(e,0,B.min(),B.min(),Ft.empty(),0)}static newFoundDocument(e,t,r){return new xe(e,1,t,B.min(),r,0)}static newNoDocument(e,t){return new xe(e,2,t,B.min(),Ft.empty(),0)}static newUnknownDocument(e,t){return new xe(e,3,t,B.min(),Ft.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ote{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function TF(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ote(n,e,t,r,i,s,o)}function Hs(n){const e=x(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ia(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ia(r)).join(",")),e.ht=t}return e.ht}function nl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Hte(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Rr(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kF(n.startAt,e.startAt)&&kF(n.endAt,e.endAt)}function jf(n){return S.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Lt extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Fte(e,t,r):"array-contains"===t?new Ute(e,r):"in"===t?new Bte(e,r):"not-in"===t?new jte(e,r):"array-contains-any"===t?new $te(e,r):new Lt(e,t,r)}static lt(e,t,r){return"in"===t?new Lte(e,r):new Vte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft($i(t,this.value)):null!==t&&js(this.value)===js(t)&&this.ft($i(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Fte extends Lt{constructor(e,t,r){super(e,t,r),this.key=S.fromName(r.referenceValue)}matches(e){const t=S.comparator(e.key,this.key);return this.ft(t)}}class Lte extends Lt{constructor(e,t){super(e,"in",t),this.keys=xF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vte extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=xF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>S.fromName(r.referenceValue))}class Ute extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return el(t)&&Xc(t.arrayValue,this.value)}}class Bte extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xc(this.value.arrayValue,t)}}class jte extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xc(this.value.arrayValue,t)}}class $te extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!el(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}class Hi{constructor(e,t){this.position=e,this.inclusive=t}}class Da{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function MF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),t.key):$i(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function kF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}class pi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function Ca(n){return new pi(n)}function NF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ta(n){const e=x(n);if(null===e._t){e._t=[];const t=function NI(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function RI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Da(t)),e._t.push(new Da(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Da(Ze.keyField(),s))}}}return e._t}function un(n){const e=x(n);if(!e.wt)if("F"===e.limitType)e.wt=TF(e.path,e.collectionGroup,Ta(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ta(e))t.push(new Da(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Hi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Hi(e.startAt.position,e.startAt.inclusive):null;e.wt=TF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Hf(n,e,t){return new pi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rl(n,e){return nl(un(n),un(e))&&n.limitType===e.limitType}function OF(n){return`${Hs(un(n))}|lt:${n.limitType}`}function PI(n){return`Query(target=${function Pte(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ia(r.value)}`;var r}).join(", ")}]`),Zc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ia(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ia(t)).join(",")),`Target(${e})`}(un(n))}; limitType=${n.limitType})`}function FI(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):S.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=MF(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ta(t),r)||t.endAt&&!function(i,s,o){const a=MF(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ta(t),r)));var t,r}function FF(n){return(e,t)=>{let r=!1;for(const i of Ta(n)){const s=Gte(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Gte(n,e,t){const r=n.field.isKeyField()?S.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?$i(a,u):O()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function LF(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function VF(n){return{integerValue:""+n}}function UF(n,e){return function _F(n){return"number"==typeof n&&Number.isInteger(n)&&!Jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?VF(e):LF(n,e)}class Gf{constructor(){this._=void 0}}function qte(n,e,t){return n instanceof Aa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Gs?jF(n,e):n instanceof qs?$F(n,e):function(r,i){const s=BF(r,i),o=HF(s)+HF(r.yt);return kI(s)&&kI(r.yt)?VF(o):LF(r.It,o)}(n,e)}function zte(n,e,t){return n instanceof Gs?jF(n,e):n instanceof qs?$F(n,e):t}function BF(n,e){return n instanceof Sa?kI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Aa extends Gf{}class Gs extends Gf{constructor(e){super(),this.elements=e}}function jF(n,e){const t=GF(e);for(const r of n.elements)t.some(i=>Rr(i,r))||t.push(r);return{arrayValue:{values:t}}}class qs extends Gf{constructor(e){super(),this.elements=e}}function $F(n,e){let t=GF(e);for(const r of n.elements)t=t.filter(i=>!Rr(i,r));return{arrayValue:{values:t}}}class Sa extends Gf{constructor(e,t){super(),this.It=e,this.yt=t}}function HF(n){return ze(n.integerValue||n.doubleValue)}function GF(n){return el(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kte{constructor(e,t){this.version=e,this.transformResults=t}}class Fe{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zf{}function qF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ma(n.key,Fe.none()):new xa(n.key,n.data,Fe.none());{const t=n.data,r=Ft.empty();let i=new be(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(n.key,r,new Pn(i.toArray()),Fe.none())}}function Qte(n,e,t){n instanceof xa?function(r,i,s){const o=r.value.clone(),a=KF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof gi?function(r,i,s){if(!qf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=KF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(WF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sl(n,e,t,r){return n instanceof xa?function(i,s,o,a){if(!qf(i.precondition,s))return o;const u=i.value.clone(),c=QF(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof gi?function(i,s,o,a){if(!qf(i.precondition,s))return o;const u=QF(i.fieldTransforms,a,s),c=s.data;return c.setAll(WF(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,qf(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Yte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=BF(r.transform,i||null);null!=s&&(null===t&&(t=Ft.empty()),t.set(r.field,s))}return t||null}function zF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ea(t,r,(i,s)=>function Wte(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Gs&&r instanceof Gs||t instanceof qs&&r instanceof qs?Ea(t.elements,r.elements,Rr):t instanceof Sa&&r instanceof Sa?Rr(t.yt,r.yt):t instanceof Aa&&r instanceof Aa);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class xa extends zf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends zf{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function KF(n,e,t){const r=new Map;U(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zte(o,a,t[i]))}return r}function QF(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,qte(s,o,e))}return r}class Ma extends zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zte{constructor(e){this.count=e}}var rt,me;function YF(n){switch(n){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function ZF(n){if(void 0===n)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(n){case rt.OK:return w.OK;case rt.CANCELLED:return w.CANCELLED;case rt.UNKNOWN:return w.UNKNOWN;case rt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case rt.INTERNAL:return w.INTERNAL;case rt.UNAVAILABLE:return w.UNAVAILABLE;case rt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case rt.NOT_FOUND:return w.NOT_FOUND;case rt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case rt.ABORTED:return w.ABORTED;case rt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case rt.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(me=rt||(rt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class Gi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gF(this.inner)}size(){return this.innerSize}}const Jte=new qe(S.comparator);function En(){return Jte}const JF=new qe(S.comparator);function ol(...n){let e=JF;for(const t of n)e=e.insert(t.key,t);return e}function XF(n){let e=JF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Nr(){return al()}function eL(){return al()}function al(){return new Gi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Xte=new qe(S.comparator),ene=new be(S.comparator);function Z(...n){let e=ene;for(const t of n)e=e.add(t);return e}const tne=new be(K);function Wf(){return tne}class ul{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ul(B.min(),i,Wf(),En(),Z())}}class cl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cl(r,t,Z(),Z(),Z())}}class Kf{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class tL{constructor(e,t){this.targetId=e,this.At=t}}class nL{constructor(e,t,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class rL{constructor(){this.Rt=0,this.bt=sL(),this.Pt=pt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Z(),t=Z(),r=Z();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:O()}}),new cl(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=sL()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class nne{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=En(),this.qt=iL(),this.Kt=new be(K)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:O()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(jf(s))if(0===r){const o=new S(s.path);this.jt(t,o,xe.newNoDocument(o,B.min()))}else U(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&jf(a.target)){const u=new S(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,xe.newNoDocument(u,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=Z();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new ul(e,t,this.Kt,this.Ut,r);return this.Ut=En(),this.qt=iL(),this.Kt=new be(K),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new rL,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new be(K),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new rL),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function iL(){return new qe(S.comparator)}function sL(){return new qe(S.comparator)}const rne={asc:"ASCENDING",desc:"DESCENDING"},ine={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sne{constructor(e,t){this.databaseId=e,this.gt=t}}function ll(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oL(n,e){return n.gt?e.toBase64():e.toUint8Array()}function one(n,e){return ll(n,e.toTimestamp())}function Dt(n){return U(!!n),B.fromTimestamp(function(e){const t=Bi(e);return new Ve(t.seconds,t.nanos)}(n))}function VI(n,e){return(t=n,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function aL(n){const e=ge.fromString(n);return U(gL(e)),e}function dl(n,e){return VI(n.databaseId,e.path)}function Or(n,e){const t=aL(e);if(t.get(1)!==n.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new S(cL(t))}function UI(n,e){return VI(n.databaseId,e)}function hl(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cL(n){return U(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lL(n,e,t){return{name:dl(n,e),fields:t.value.mapValue.fields}}function hL(n,e){return{documents:[UI(n,e.path)]}}function jI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(EF(d.value))return{unaryFilter:{field:ka(d.field),op:"IS_NAN"}};if(wF(d.value))return{unaryFilter:{field:ka(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(EF(d.value))return{unaryFilter:{field:ka(d.field),op:"IS_NOT_NAN"}};if(wF(d.value))return{unaryFilter:{field:ka(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(d.field),op:hne(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ka((l=c).field),direction:dne(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||Zc(c)?c:{value:c});var c,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function fL(n){let e=function uL(n){const e=aL(n);return 4===e.length?ge.emptyPath():cL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){U(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=pL(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new Da(Ra((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Zc(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new Hi((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new Hi(l.values||[],!l.before)}(t.endAt)),function RF(n,e,t,r,i,s,o,a){return new pi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function pL(n){return n?void 0!==n.unaryFilter?[pne(n)]:void 0!==n.fieldFilter?[fne(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>pL(e)).reduce((e,t)=>e.concat(t)):O():[]}function dne(n){return rne[n]}function hne(n){return ine[n]}function ka(n){return{fieldPath:n.canonicalString()}}function Ra(n){return Ze.fromServerFormat(n.fieldPath)}function fne(n){return Lt.create(Ra(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}function pne(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ra(n.unaryFilter.field);return Lt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ra(n.unaryFilter.field);return Lt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ra(n.unaryFilter.field);return Lt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ra(n.unaryFilter.field);return Lt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return O()}}function gne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class HI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qte(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=eL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=qF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Z())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(t,r)=>zF(t,r))&&Ea(this.baseMutations,e.baseMutations,(t,r)=>zF(t,r))}}class GI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){U(e.mutations.length===r.length);let i=Xte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new GI(e,t,r,i)}}class qI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qi{constructor(e,t,r,i,s=B.min(),o=B.min(),a=pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bL{constructor(e){this.re=e}}function zI(n){const e=fL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Hf(e,e.limit,"L"):e}class Qs{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Jc(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Us(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?bF(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):O()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),S.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Qs.Te=new Qs;class jne{constructor(){this.Ye=new KI}addToCollectionParentIndex(e,t){return this.Ye.add(t),v.resolve()}getCollectionParents(e,t){return v.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return v.resolve()}deleteFieldIndex(e,t){return v.resolve()}getDocumentsMatchingTarget(e,t){return v.resolve(null)}getIndexType(e,t){return v.resolve(0)}getFieldIndexes(e,t){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,t){return v.resolve(On.min())}getMinOffsetFromCollectionGroup(e,t){return v.resolve(On.min())}updateCollectionGroup(e,t,r){return v.resolve()}updateIndexEntries(e,t){return v.resolve()}}class KI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new be(ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(ge.comparator)).toArray()}}new Uint8Array(0);class bn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Js{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Js(0)}static vn(){return new Js(-1)}}class Zne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&sl(r.mutation,i,Pn.empty(),Ve.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Z()){const i=Nr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ol();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Nr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Z()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=En();const o=al(),a=al();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof gi)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),sl(l.mutation,c,l.mutation.getFieldMask(),Ve.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Zne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=al();let i=new qe((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=eL();l.forEach(h=>{if(!s.has(h)){const f=qF(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return S.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function OI(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):v.resolve(Nr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:XF(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new S(t)).next(r=>{let i=ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=ol();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=t,l=a.child(i),new pi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,xe.newInvalidDocument(c)))});let o=ol();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&sl(c.mutation,u,Pn.empty(),Ve.now()),FI(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):v.resolve(xe.newInvalidDocument(t))}}class Jne{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return v.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Dt(r.createTime)}),v.resolve()}getNamedQuery(e,t){return v.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:zI(r.bundledQuery),readTime:Dt(r.readTime)}),v.resolve();var r}}class Xne{constructor(){this.overlays=new qe(S.comparator),this.es=new Map}getOverlay(e,t){return v.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Nr();return v.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),v.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,t,r){const i=Nr(),s=t.length+1,o=new S(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new qe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Nr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Nr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qI(t,r));let s=this.es.get(t);void 0===s&&(s=Z(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class QI{constructor(){this.ns=new be(Tt.ss),this.rs=new be(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Tt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Tt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new S(new ge([])),r=new Tt(t,e),i=new Tt(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new S(new ge([])),r=new Tt(t,e),i=new Tt(t,e+1);let s=Z();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Tt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return S.comparator(e.key,t.key)||K(e._s,t._s)}static os(e,t){return K(e._s,t._s)||S.comparator(e.key,t.key)}}class ere{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new be(Tt.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new HI(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,t){return v.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tt(t,0),i=new Tt(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new be(K);return t.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new S(s),0);let a=new be(K);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){U(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(t.mutations,i=>{const s=new Tt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Tt(t,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tre{constructor(e){this.Es=e,this.docs=new qe(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return v.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(t))}getEntries(e,t){let r=En();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,t,r){let i=En();const s=new S(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||TI(dF(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,t,r,i){O()}As(e,t){return v.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nre(this)}getSize(e){return v.resolve(this.size)}}class nre extends class Kne{constructor(){this.changes=new Gi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?v.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rre{constructor(e){this.persistence=e,this.Rs=new Gi(t=>Hs(t),nl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.bs=0,this.Ps=new QI,this.targetCount=0,this.vs=Js.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),v.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Js(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,v.resolve()}updateTargetData(e,t){return this.Dn(t),v.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return v.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),v.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),v.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return v.resolve(r)}containsKey(e,t){return v.resolve(this.Ps.containsKey(t))}}class GL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new wn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rre(this),this.indexManager=new jne,this.remoteDocumentCache=new tre(r=>this.referenceDelegate.xs(r)),this.It=new bL(t),this.Ns=new Jne(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ere(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new ire(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ire extends class Cte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Fs=new QI,this.$s=null}static Bs(e){return new rp(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),v.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=S.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,B.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return v.or([()=>v.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class XI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Z(),i=Z();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new XI(e,t.fromCache,r,i)}}class zL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(NF(t))return v.resolve(null);let r=un(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Hf(t,null,"F"),r=un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(t,a);return this.$i(t,c,o,u.readTime)?this.ki(e,Hf(t,null,"F")):this.Bi(e,c,t,u)}))})))}Oi(e,t,r,i){return NF(t)||i.isEqual(B.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(II()<=pe.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),PI(t)),this.Bi(e,o,t,function lF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Ve(t+1,0):new Ve(t,r));return new On(i,S.empty(),e)}(i,-1)))})}Fi(e,t){let r=new be(FF(e));return t.forEach((i,s)=>{FI(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return II()<=pe.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",PI(t)),this.Ni.getDocumentsMatchingQuery(e,t,On.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ore{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new qe(K),this.qi=new Gi(s=>Hs(s),nl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function KL(n,e){return eD.apply(this,arguments)}function eD(){return eD=g(function*(n,e){const t=x(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Z();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),eD.apply(this,arguments)}function are(n,e){const t=x(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QL(n){const e=x(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ure(n,e){const t=x(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let u=En(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function YL(n,e,t){let r=Z(),i=Z();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=En();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(B.min())){const l=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ui=i,s))}function cre(n,e){const t=x(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pa(n,e){const t=x(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new qi(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Fa(n,e,t){return tD.apply(this,arguments)}function tD(){return tD=g(function*(n,e,t){const r=x(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ui(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),tD.apply(this,arguments)}function sp(n,e,t){const r=x(n);let i=B.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.qi.get(c);return void 0!==d?v.resolve(l.Ui.get(d)):l.Cs.getTargetData(u,c)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:B.min(),t?s:Z())).next(a=>(function XL(n,e,t){let r=n.Ki.get(e)||B.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function PF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class oD{constructor(){this.activeTargetIds=Wf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nV{constructor(){this.Lr=new oD,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hre{qr(e){}shutdown(){}}class rV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pre{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw wa("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${fre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new pte;a.setWithCredentials(!0),a.listenOnce(dte.COMPLETE,()=>{var c;try{switch(a.getLastErrorCode()){case bI.NO_ERROR:const l=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(l)),s(l);break;case bI.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case bI.HTTP_ERROR:const d=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null===(c=h)||void 0===c?void 0:c.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);o(new D(p,f.message))}else o(new D(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cte(),o=lte(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new fte({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new pre({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,E=>{try{y(E)}catch(_){setTimeout(()=>{throw _},0)}})};return f(c,Of.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Of.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,Of.EventType.ERROR,p=>{d||(d=!0,wa("Connection","WebChannel transport errored:",p),h.io(new D(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Of.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];U(!!y);const E=y,_=E.error||(null===(m=E[0])||void 0===m?void 0:m.error);if(_){T("Connection","WebChannel received error:",_);const C=_.status;let R=function(V){const Ie=rt[V];if(void 0!==Ie)return ZF(Ie)}(C),N=_.message;void 0===R&&(R=w.INTERNAL,N="Unknown error status: "+C+" with message "+_.message),d=!0,h.io(new D(R,N)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,hte.STAT_EVENT,p=>{p.stat===iF.PROXY?T("Connection","Detected buffering proxy"):p.stat===iF.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function up(){return"undefined"!=typeof document?document:null}function bl(n){return new sne(n,!0)}class uD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class sV{constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new uD(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return g(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Ye(t.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mre extends sV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function une(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.gt?(U(void 0===c||"string"==typeof c),pt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:ZF(u.code);return new D(c,u.message||"")}(o);t=new nL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Or(n,r.document.name),s=Dt(r.document.updateTime),o=new Ft({mapValue:{fields:r.document.fields}}),a=xe.newFoundDocument(i,s,o);t=new Kf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Or(n,r.document),s=r.readTime?Dt(r.readTime):B.min(),o=xe.newNoDocument(i,s);t=new Kf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Or(n,r.document);t=new Kf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new Zte(r.count||0);t=new tL(r.targetId,s)}}var u;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?Dt(s.readTime):B.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=hl(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=jf(a)?{documents:hL(i,a)}:{query:jI(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=oL(i,s.resumeToken):s.snapshotVersion.compareTo(B.min())>0&&(o.readTime=ll(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function lne(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=hl(this.It),t.removeTarget=e,this.Bo(t)}}class yre extends sV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function cne(n,e){return n&&n.length>0?(U(void 0!==e),n.map(t=>function(r,i){let s=Dt(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=Dt(i)),new Kte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Dt(e.commitTime);return this.listener.Zo(r,t)}return U(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=hl(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function fl(n,e){let t;if(e instanceof xa)t={update:lL(n,e.key,e.value)};else if(e instanceof Ma)t={delete:dl(n,e.key)};else if(e instanceof gi)t={update:lL(n,e.key,e.data),updateMask:gne(e.fieldMask)};else{if(!(e instanceof LI))return O();t={verify:dl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sa)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw O()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:one(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),t;var i}(this.It,r))};this.Bo(t)}}class _re extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class wre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ye(t),this.ou=!1):T("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ere{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(g(function*(){var u;mi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l._u.add(4),yield La(l),l.gu.set("Unknown"),l._u.delete(4),yield Il(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new wre(r,i)}}function Il(n){return lD.apply(this,arguments)}function lD(){return lD=g(function*(n){if(mi(n))for(const e of n.wu)yield e(!0)}),lD.apply(this,arguments)}function La(n){return dD.apply(this,arguments)}function dD(){return dD=g(function*(n){for(const e of n.wu)yield e(!1)}),dD.apply(this,arguments)}function cp(n,e){const t=x(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),pD(t)?fD(t):Ua(t).ko()&&hD(t,e))}function Dl(n,e){const t=x(n),r=Ua(t);t.du.delete(e),r.ko()&&oV(t,e),0===t.du.size&&(r.ko()?r.Fo():mi(t)&&t.gu.set("Unknown"))}function hD(n,e){n.yu.Mt(e.targetId),Ua(n).zo(e)}function oV(n,e){n.yu.Mt(e),Ua(n).Ho(e)}function fD(n){n.yu=new nne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Ua(n).start(),n.gu.uu()}function pD(n){return mi(n)&&!Ua(n).No()&&n.du.size>0}function mi(n){return 0===x(n)._u.size}function aV(n){n.yu=void 0}function bre(n){return gD.apply(this,arguments)}function gD(){return gD=g(function*(n){n.du.forEach((e,t)=>{hD(n,e)})}),gD.apply(this,arguments)}function Ire(n,e){return mD.apply(this,arguments)}function mD(){return mD=g(function*(n,e){aV(n),pD(n)?(n.gu.hu(e),fD(n)):n.gu.set("Unknown")}),mD.apply(this,arguments)}function Dre(n,e,t){return yD.apply(this,arguments)}function yD(){return yD=g(function*(n,e,t){if(n.gu.set("Online"),e instanceof nL&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lp(n,r)}else if(e instanceof Kf?n.yu.Gt(e):e instanceof tL?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(B.min()))try{const r=yield QL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(pt.EMPTY_BYTE_STRING,u.snapshotVersion)),oV(i,a);const c=new qi(u.target,a,1,u.sequenceNumber);hD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield lp(n,r)}var r}),yD.apply(this,arguments)}function lp(n,e,t){return _D.apply(this,arguments)}function _D(){return _D=g(function*(n,e,t){if(!Ui(e))throw e;n._u.add(1),yield La(n),n.gu.set("Offline"),t||(t=()=>QL(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Il(n)}))}),_D.apply(this,arguments)}function uV(n,e){return e().catch(t=>lp(n,t,e))}function Va(n){return vD.apply(this,arguments)}function vD(){return vD=g(function*(n){const e=x(n),t=Ki(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Cre(e);)try{const i=yield cre(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Tre(e,i)}catch(i){yield lp(e,i)}cV(e)&&lV(e)}),vD.apply(this,arguments)}function Cre(n){return mi(n)&&n.fu.length<10}function Tre(n,e){n.fu.push(e);const t=Ki(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function cV(n){return mi(n)&&!Ki(n).No()&&n.fu.length>0}function lV(n){Ki(n).start()}function Are(n){return wD.apply(this,arguments)}function wD(){return wD=g(function*(n){Ki(n).eu()}),wD.apply(this,arguments)}function Sre(n){return ED.apply(this,arguments)}function ED(){return ED=g(function*(n){const e=Ki(n);for(const t of n.fu)e.Xo(t.mutations)}),ED.apply(this,arguments)}function xre(n,e,t){return bD.apply(this,arguments)}function bD(){return bD=g(function*(n,e,t){const r=n.fu.shift(),i=GI.from(r,e,t);yield uV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Va(n)}),bD.apply(this,arguments)}function Mre(n,e){return ID.apply(this,arguments)}function ID(){return ID=g(function*(n,e){var t;e&&Ki(n).Yo&&(yield(t=g(function*(r,i){if(YF(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();Ki(r).Mo(),yield uV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Va(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),cV(n)&&lV(n)}),ID.apply(this,arguments)}function dV(n,e){return DD.apply(this,arguments)}function DD(){return DD=g(function*(n,e){const t=x(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=mi(t);t._u.add(3),yield La(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Il(t)}),DD.apply(this,arguments)}function TD(){return TD=g(function*(n,e){const t=x(n);e?(t._u.delete(2),yield Il(t)):e||(t._u.add(2),yield La(t),t.gu.set("Unknown"))}),TD.apply(this,arguments)}function Ua(n){return n.pu||(n.pu=function(e,t,r){const i=x(e);return i.su(),new mre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:bre.bind(null,n),Zr:Ire.bind(null,n),Wo:Dre.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.pu.Mo(),pD(n)?fD(n):n.gu.set("Unknown")):(yield n.pu.stop(),aV(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ki(n){return n.Iu||(n.Iu=function(e,t,r){const i=x(e);return i.su(),new yre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Are.bind(null,n),Zr:Mre.bind(null,n),tu:Sre.bind(null,n),Zo:xre.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.Iu.Mo(),yield Va(n)):(yield n.Iu.stop(),n.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class AD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new AD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ba(n,e){if(Ye("AsyncQueue",`${e}: ${n}`),Ui(n))return new D(w.UNAVAILABLE,`${e}: ${n}`);throw n}class ja{constructor(e){this.comparator=e?(t,r)=>e(t,r)||S.comparator(t.key,r.key):(t,r)=>S.comparator(t.key,r.key),this.keyedMap=ol(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new ja(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hV{constructor(){this.Tu=new qe(S.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class $a{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new $a(e,t,ja.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class kre{constructor(){this.Au=void 0,this.listeners=[]}}class Rre{constructor(){this.queries=new Gi(e=>OF(e),rl),this.onlineState="Unknown",this.Ru=new Set}}function xD(){return xD=g(function*(n,e){const t=x(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new kre),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Ba(o,`Initialization of query '${PI(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&RD(t)}),xD.apply(this,arguments)}function kD(){return kD=g(function*(n,e){const t=x(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),kD.apply(this,arguments)}function Nre(n,e){const t=x(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&RD(t)}function Ore(n,e,t){const r=x(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function RD(n){n.Ru.forEach(e=>{e.next()})}class ND{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class gV{constructor(e){this.key=e}}class mV{constructor(e){this.key=e}}class yV{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Z(),this.mutatedKeys=Z(),this.Gu=FF(e),this.Qu=new ja(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new hV,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=FI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new $a(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Z(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new mV(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new gV(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Z();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return $a.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Lre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Vre{constructor(e){this.key=e,this.nc=!1}}class Ure{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Gi(a=>OF(a),rl),this.rc=new Map,this.oc=new Set,this.uc=new qe(S.comparator),this.cc=new Map,this.ac=new QI,this.hc={},this.lc=new Map,this.fc=Js.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Bre(n,e){return OD.apply(this,arguments)}function OD(){return OD=g(function*(n,e){const t=rC(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Pa(t.localStore,un(e));t.isPrimaryClient&&cp(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield PD(t,e,r,"current"===a,o.resumeToken)}return i}),OD.apply(this,arguments)}function PD(n,e,t,r,i){return FD.apply(this,arguments)}function FD(){return FD=g(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=g(function*(m,y,E,_){let C=y.view.Wu(E);C.$i&&(C=yield sp(m.localStore,y.query,!1).then(({documents:V})=>y.view.Wu(V,C)));const R=_&&_.targetChanges.get(y.targetId),N=y.view.applyChanges(C,m.isPrimaryClient,R);return zD(m,y.targetId,N.Xu),N.snapshot}),function(m,y,E,_){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield sp(n.localStore,e,!0),o=new yV(e,s.Hi),a=o.Wu(s.documents),u=cl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);zD(n,t,c.Xu);const l=new Lre(e,t,o);return n.ic.set(e,l),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),FD.apply(this,arguments)}function jre(n,e){return LD.apply(this,arguments)}function LD(){return LD=g(function*(n,e){const t=x(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!rl(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fa(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Dl(t.remoteStore,r.targetId),Ha(t,r.targetId)}).catch(Vi))):(Ha(t,r.targetId),yield Fa(t.localStore,r.targetId,!0))}),LD.apply(this,arguments)}function VD(){return VD=g(function*(n,e,t){const r=iC(n);try{const i=yield function(s,o){const a=x(s),u=Ve.now(),c=o.reduce((h,f)=>h.add(f.key),Z());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=En(),p=Z();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,E)=>{E.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const E of o){const _=Yte(E,l.get(E.key).overlayedDocument);null!=_&&y.push(new gi(E.key,_,CF(_.value.mapValue),Fe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:XF(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new qe(K)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield yi(r,i.changes),yield Va(r.remoteStore)}catch(i){const s=Ba(i,"Failed to persist write");t.reject(s)}}),VD.apply(this,arguments)}function _V(n,e){return UD.apply(this,arguments)}function UD(){return UD=g(function*(n,e){const t=x(n);try{const r=yield ure(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?U(o.nc):i.removedDocuments.size>0&&(U(o.nc),o.nc=!1))}),yield yi(t,r,e)}catch(r){yield Vi(r)}}),UD.apply(this,arguments)}function vV(n,e,t){const r=x(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&RD(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hre(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=g(function*(n,e,t){const r=x(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new qe(S.comparator);o=o.insert(s,xe.newNoDocument(s,B.min()));const a=Z().add(s),u=new ul(B.min(),new Map,new be(K),o,a);yield _V(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),WD(r)}else yield Fa(r.localStore,e,!1).then(()=>Ha(r,e,t)).catch(Vi)}),BD.apply(this,arguments)}function Gre(n,e){return jD.apply(this,arguments)}function jD(){return jD=g(function*(n,e){const t=x(n),r=e.batch.batchId;try{const i=yield are(t.localStore,e);qD(t,r,null),GD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yi(t,i)}catch(i){yield Vi(i)}}),jD.apply(this,arguments)}function qre(n,e,t){return $D.apply(this,arguments)}function $D(){return $D=g(function*(n,e,t){const r=x(n);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);qD(r,e,t),GD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yi(r,i)}catch(i){yield Vi(i)}}),$D.apply(this,arguments)}function GD(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function qD(n,e,t){const r=x(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ha(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||wV(n,r)})}function wV(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Dl(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),WD(n))}function zD(n,e,t){for(const r of t)r instanceof gV?(n.ac.addReference(r.key,e),Wre(n,r)):r instanceof mV?(T("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||wV(n,r.key)):O()}function Wre(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.oc.add(r),WD(n))}function WD(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new S(ge.fromString(e)),r=n.fc.next();n.cc.set(r,new Vre(t)),n.uc=n.uc.insert(t,r),cp(n.remoteStore,new qi(un(Ca(t.path)),r,2,wn.at))}}function yi(n,e,t){return KD.apply(this,arguments)}function KD(){return KD=g(function*(n,e,t){const r=x(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const l=XI.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ui(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ui=l.Ui.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),KD.apply(this,arguments)}function Kre(n,e){return QD.apply(this,arguments)}function QD(){return QD=g(function*(n,e){const t=x(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield KL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yi(t,r.ji)}var i}),QD.apply(this,arguments)}function Qre(n,e){const t=x(n),r=t.cc.get(e);if(r&&r.nc)return Z().add(r.key);{let i=Z();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function rC(n){const e=x(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_V.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hre.bind(null,e),e.sc.Wo=Nre.bind(null,e.eventManager),e.sc.wc=Ore.bind(null,e.eventManager),e}function iC(n){const e=x(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qre.bind(null,e),e}class iie{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.It=bl(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function WL(n,e,t,r){return new ore(n,e,t,r)}(this.persistence,new zL,e.initialUser,this.It)}yc(e){return new GL(rp.Bs,this.It)}gc(e){return new nV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sC{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Kre.bind(null,r.syncEngine),yield function CD(n,e){return TD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rre}createDatastore(e){const t=bl(e.databaseInfo.databaseId),r=new gre(e.databaseInfo);return new _re(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>vV(this.syncEngine,a,0),o=rV.C()?new rV:new hre,new Ere(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Ure(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=x(t);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield La(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oC(n,e,t){if(!t)throw new D(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IV(n){if(!S.isDocumentKey(n))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DV(n){if(S.isDocumentKey(n))throw new D(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":O()}function de(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(n);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const TV=new Map;class AV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function aie(n,e,t,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gte;switch(t.type){case"gapi":return new vte(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TV.get(e);t&&(T("ComponentProvider","Removing Datastore"),TV.delete(e),t.terminate())}(this),Promise.resolve()}}class Je{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Kt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Fr extends Kt{constructor(e,t,r){super(e,t,Ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new S(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function cie(n,e,...t){if(n=Gt(n),oC("collection","path",e),n instanceof Cl){const r=ge.fromString(e,...t);return DV(r),new Fr(n,null,r)}{if(!(n instanceof Je||n instanceof Fr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return DV(r),new Fr(n.firestore,null,r)}}function SV(n,e,...t){if(n=Gt(n),1===arguments.length&&(e=uF.R()),oC("doc","path",e),n instanceof Cl){const r=ge.fromString(e,...t);return IV(r),new Je(n,null,new S(r))}{if(!(n instanceof Je||n instanceof Fr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return IV(r),new Je(n.firestore,n instanceof Fr?n.converter:null,new S(r))}}class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gie{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=uF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ba(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kV(n,e){return aC.apply(this,arguments)}function aC(){return aC=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield KL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aC.apply(this,arguments)}function RV(n,e){return uC.apply(this,arguments)}function uC(){return uC=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cC(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>dV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>dV(e.remoteStore,s)),n.onlineComponents=e}),uC.apply(this,arguments)}function cC(n){return lC.apply(this,arguments)}function lC(){return lC=g(function*(n){return n.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield kV(n,new iie)),n.offlineComponents}),lC.apply(this,arguments)}function fp(n){return dC.apply(this,arguments)}function dC(){return dC=g(function*(n){return n.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield RV(n,new sC)),n.onlineComponents}),dC.apply(this,arguments)}function Ga(n){return pC.apply(this,arguments)}function pC(){return pC=g(function*(n){const e=yield fp(n),t=e.eventManager;return t.onListen=Bre.bind(null,e.syncEngine),t.onUnlisten=jre.bind(null,e.syncEngine),t}),pC.apply(this,arguments)}class Iie{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new uD(this,"async_queue_retry"),this.Wc=()=>{const t=up();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ft;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ui(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=AD.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&O()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function gC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ke extends Cl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Iie,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LV(this),this._firestoreClient.terminate()}}function Cie(n,e){const r="string"==typeof n?n:e||"(default)",i=sa("object"==typeof n?n:R_(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=eR("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function uie(n,e,t,r={}){var i;const s=(n=de(n,Cl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&wa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=It.MOCK_USER;else{o=function v7(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dh(JSON.stringify({alg:"none",type:"JWT"})),Dh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new It(u)}n._authCredentials=new mte(new oF(o,a))}}(i,...s)}return i}function it(n){return n._firestoreClient||LV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LV(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kte(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new gie(n._authCredentials,n._appCheckCredentials,n._queue,r)}class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(pt.fromBase64String(e))}catch(t){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new eo(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class BV{constructor(e){this._methodName=e}}class mC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const Tie=/^__.*__$/;class Aie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new xa(e,this.data,t,this.fieldTransforms)}}function $V(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class gp{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return yp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if($V(this.sa)&&Tie.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Sie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||bl(e)}da(e,t,r,i=!1){return new gp({sa:e,methodName:t,fa:r,path:Ze.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function za(n){const e=n._freezeSettings(),t=bl(n._databaseId);return new Sie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yC(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);vC("Data must be an object, but it was:",o,r);const a=WV(r,o);let u,c;if(s.merge)u=new Pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=wC(e,d,t);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QV(l,h)||l.push(h)}u=new Pn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Aie(new Ft(a),u,c)}function to(n,e){if(KV(n=Gt(n)))return vC("Unsupported field value:",e,n),WV(n,e);if(n instanceof BV)return function(t,r){if(!$V(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=to(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Gt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return UF(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ve.fromDate(t);return{timestampValue:ll(r.It,i)}}if(t instanceof Ve){const i=new Ve(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ll(r.It,i)}}if(t instanceof mC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eo)return{bytesValue:oL(r.It,t._byteString)};if(t instanceof Je){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${dp(t)}`)}(n,e)}function WV(n,e){const t={};return gF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(n,(r,i)=>{const s=to(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function KV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ve||n instanceof mC||n instanceof eo||n instanceof Je||n instanceof BV)}function vC(n,e,t){if(!KV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function wC(n,e,t){if((e=Gt(e))instanceof qa)return e._internalPath;if("string"==typeof e)return mp(n,e);throw yp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rie=new RegExp("[~\\*/\\[\\]]");function mp(n,e,t){if(e.search(Rie)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qa(...e.split("."))._internalPath}catch(r){throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(w.INVALID_ARGUMENT,a+n+u)}function QV(n,e){return n.some(t=>t.isEqual(e))}class EC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nie extends EC{data(){return super.data()}}function _p(n,e){return"string"==typeof e?mp(n,e):e instanceof qa?e._internalPath:e._delegate._internalPath}class no{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends EC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vp extends Wa{data(e={}){return super.data(e)}}class Ka{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new no(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vp(this._firestore,this._userDataWriter,r.key,r,new no(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new no(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new no(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Lie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Qi extends class Fie{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw O()}}convertObject(e,t){const r={};return Vs(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new mC(ze(e.latitude),ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new Ve(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ge.fromString(e);U(gL(r));const i=new Bs(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(t)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}}function Vie(n,e,t){n=de(n,Je);const r=de(n.firestore,ke),i=function bC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Al(r,[yC(za(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Fe.none())])}function Uie(n){return Al(de(n.firestore,ke),[new Ma(n._key,Fe.none())])}function Al(n,e){return function(t,r){const i=new ft;return t.asyncQueue.enqueueAndForget(g(function*(){return function $re(n,e,t){return VD.apply(this,arguments)}(yield function fC(n){return fp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(it(n),e)}!function(n,e=!0){va="9.14.0",sn(new qt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new ke(new yte(t.getProvider("auth-internal")),new wte(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),He(sF,"3.7.3",n),He(sF,"3.7.3","esm2017")}();var Gie={includeMetadataChanges:!1};function DC(n,e){return void 0===e&&(e=Gie),new Re(function(t){var r=function Bie(n,...e){var t,r,i;n=Gt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||gC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(gC(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(n instanceof Je)c=de(n.firestore,ke),l=Ca(n._key.path),u={next:d=>{e[o]&&e[o](function IC(n,e,t){const r=t.docs.get(e._key),i=new Qi(n);return new Wa(n,i,e._key,r,new no(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=de(n,Kt);c=de(d.firestore,ke),l=d._query;const h=new Qi(c);u={next:f=>{e[o]&&e[o](new Ka(c,h,d,f))},error:e[o+1],complete:e[o+2]},function YV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new D(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new hp(p),y=new ND(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function SD(n,e){return xD.apply(this,arguments)}(yield Ga(d),y)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function MD(n,e){return kD.apply(this,arguments)}(yield Ga(d),y)}))}}(it(c),l,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Zie(n,e){return void 0===e&&(e={}),function Yie(n){return DC(n,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}(n).pipe(ye(function(t){return t.map(function(r){return function sU(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Ep{constructor(e){return e}}const cU="firestore",AC=new ee("angularfire2.firestore-instances");function ese(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ep(r)}}const tse={provide:class Jie{constructor(){return _w(cU)}},deps:[[new at,AC]]},nse={provide:Ep,useFactory:function Xie(n,e){const t=yw(cU,n,e);return t&&new Ep(t)},deps:[[new at,AC],da]};let rse=(()=>{class n{constructor(){He("angularfire",Uh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({providers:[nse,tse]}),n})();function ise(n,...e){return{ngModule:rse,providers:[{provide:AC,useFactory:ese(n),multi:!0,deps:[Ke,vt,vw,ww,[new at,HO],[new at,Uw],...e]}]}}const sse=Kn(Zie,!0),ose=Kn(cie,!0),ase=Kn(Uie,!0),lU=Kn(SV,!0),use=Kn(Cie,!0),cse=Kn(Vie,!0);let dU=(()=>{class n{constructor(t){this.firestore=t,this.playersList=!1}listPlayers(){var t=this;return g(function*(){if(t.playersList)return t.playersList;{const r=yield fetch("../../assets/players.json").then(function(){var i=g(function*(s){return yield s.json()});return function(s){return i.apply(this,arguments)}}());return t.playersList=r,t.playersList.forEach(i=>{}),t.playersList}})()}savePlayer(t){const r=lU(this.firestore,`players/${t.id}`);return cse(r,t)}getPlayers(){const t=ose(this.firestore,"players");return sse(t,{idField:"id"})}deletePlayer(t){const r=lU(this.firestore,`players/${t.id}`);return ase(r)}}return n.\u0275fac=function(t){return new(t||n)(F(Ep))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lse=(()=>{class n{constructor(t,r){this.renderer=t,this.targetElem=r}sortData(){const t=this.targetElem.nativeElement,r=t.getAttribute("data-order"),s=(t.getAttribute("data-type"),t.getAttribute("data-name"));"asc"===r?(this.reset(),this.appSort.sort((o,a)=>o[s]<a[s]?-1:1),t.setAttribute("data-order","desc")):(this.reset(),this.appSort.sort((o,a)=>o[s]<a[s]?1:-1),t.setAttribute("data-order","asc"))}reset(){["name","points","wins","losses","games","warning","winrate"].forEach(r=>{var i;null===(i=document.getElementById(r))||void 0===i||i.setAttribute("data-order","none")})}}return n.\u0275fac=function(t){return new(t||n)(b(Dr),b(pn))},n.\u0275dir=j({type:n,selectors:[["","appSort",""]],hostBindings:function(t,r){1&t&&ut("click",function(){return r.sortData()})},inputs:{appSort:"appSort"}}),n})();function dse(n,e){if(1&n&&(G(0,"tr")(1,"td"),ie(2),$(),Ee(3,"td"),G(4,"td",17),Ee(5,"img",18),ie(6),$(),G(7,"td"),ie(8),$(),G(9,"td")(10,"font",19),ie(11),$()(),G(12,"td")(13,"font",20),ie(14),$()(),G(15,"td"),ie(16),$(),G(17,"td")(18,"font",20),ie(19),$()(),G(20,"td")(21,"div",21),ie(22),$(),G(23,"div",22),Ee(24,"div",23),$()()()),2&n){const t=e.$implicit,r=Ho();ae(2),Wr(r.players.indexOf(t)+1),ae(3),xd("src",t.avatar,vu),ae(1),Kr(" ",t.name," "),ae(2),Wr(t.points),ae(3),Wr(t.wins),ae(3),Wr(t.losses),ae(2),Wr(t.games),ae(3),Wr(t.warnings),ae(3),Kr("",t.winrate," %"),ae(2),px("width: ",t.winrate,"%;")}}const hse=function(){return["/admin"]},fse=function(){return["/login"]};let pse=(()=>{class n{constructor(t){this.playersService=t,this.players=[],this.dataList=[]}ngOnInit(){this.playersService.getPlayers().subscribe(t=>{this.players=t,this.players=this.orderBy(this.players),this.players.forEach(r=>r.winrate=this.getWinrate(r)),this.dataList=this.players})}onLoad(){return g(function*(){})()}orderBy(t){return t.sort((r,i)=>r.points<i.points?1:-1)}getWinrate(t){let r=t.wins/t.games*100;return r=parseInt(r.toFixed(2)),r||0}getIcon(t){var r;let i=null===(r=document.getElementById(t))||void 0===r?void 0:r.getAttribute("data-order");return"asc"===i?"fa-sort-down":"desc"===i?"fa-sort-up":""}}return n.\u0275fac=function(t){return new(t||n)(b(dU))},n.\u0275cmp=rs({type:n,selectors:[["app-list"]],decls:45,vars:33,consts:[["id","main",1,"container"],[1,"row"],["id","photo",1,"col-sm-3"],["id","sm","src","../../../assets/logo.png","alt",""],["id","detail",1,"col-sm-8"],["id","shawn"],["id","play",1,"btn","bg-primary",3,"routerLink"],[1,"fas","fa-solid","fa","lock"],[1,"table"],["data-order","none","data-name","name","id","name",3,"appSort"],["data-order","none","data-name","points","id","points",3,"appSort"],["data-order","none","data-name","wins","id","wins",3,"appSort"],["data-order","none","data-name","losses","id","losses",3,"appSort"],["data-order","none","data-name","games","id","games",3,"appSort"],["data-order","none","data-name","warnings","id","warnings",3,"appSort"],["data-order","none","data-name","winrate","id","winrate",3,"appSort"],[4,"ngFor","ngForOf"],[1,""],[2,"vertical-align","middle","height","30px","width","30px","border-radius","30px",3,"src"],["color","green"],["color","red"],[1,"progress-text"],["data-height","6",1,"progress",2,"height","6px"],["data-width","50%",1,"progress-bar","bg-primary"]],template:function(t,r){1&t&&(G(0,"div",0)(1,"div",1)(2,"div",2),Ee(3,"img",3),$(),G(4,"div",4)(5,"h1",5)(6,"b"),ie(7,"Ambush Season 3"),$()(),G(8,"button",6),Ee(9,"i",7),ie(10,"Edit"),$(),ie(11," \xa0 "),G(12,"button",6),Ee(13,"i",7),ie(14,"Login"),$()()(),G(15,"table",8)(16,"thead")(17,"tr")(18,"td"),ie(19,"#"),$(),G(20,"td"),ie(21,"\xa0"),$(),G(22,"td",9),ie(23,"Nickname "),Ee(24,"i"),$(),G(25,"td",10),ie(26,"Points "),Ee(27,"i"),$(),G(28,"td",11),ie(29,"Wins "),Ee(30,"i"),$(),G(31,"td",12),ie(32,"Losses "),Ee(33,"i"),$(),G(34,"td",13),ie(35,"Games "),Ee(36,"i"),$(),G(37,"td",14),ie(38,"Warnings "),Ee(39,"i"),$(),G(40,"td",15),ie(41,"WR "),Ee(42,"i"),$()()(),G(43,"tbody"),Cm(44,dse,25,12,"tr",16),$()()()),2&t&&(ae(8),tn("routerLink",Vd(31,hse)),ae(4),tn("routerLink",Vd(32,fse)),ae(10),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("name"),""),ae(1),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("points"),""),ae(1),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("wins"),""),ae(1),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("losses"),""),ae(1),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("games"),""),ae(1),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("warning"),""),ae(1),tn("appSort",r.dataList),ae(2),Ai("fa-solid ",r.getIcon("winrate"),""),ae(2),tn("ngForOf",r.dataList))},directives:[oc,lse,Py],styles:["table[_ngcontent-%COMP%]{z-index:2;width:97%;margin-left:2em}body[_ngcontent-%COMP%]{background-color:#f6f6f6;margin-top:20px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.bg-custom[_ngcontent-%COMP%]{background-color:#753bbc!important;color:#fff}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}.bg-success[_ngcontent-%COMP%]{background-color:#54ca68!important}.bg-purple[_ngcontent-%COMP%]{background-color:#9c27b0!important;color:#fff}.bg-cyan[_ngcontent-%COMP%]{background-color:#10cfbd!important;color:#fff}.bg-red[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}.progress[_ngcontent-%COMP%]{box-shadow:0 .4rem .6rem #00000026}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.container[_ngcontent-%COMP%]{margin-top:50px}#baf[_ngcontent-%COMP%]{position:absolute;left:0vw;font-size:2.5vw}#baf[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffff80}#upg[_ngcontent-%COMP%]{border-radius:25px;margin:1vh;background:inherit;color:#fff;border:1px solid white}#user[_ngcontent-%COMP%]{font-size:3vh;color:#fff;position:relative;bottom:.5vh}#user[_ngcontent-%COMP%]:hover{background:inherit}.input-group-addon[_ngcontent-%COMP%]{background-color:#000;color:#fff}.navbar[_ngcontent-%COMP%]{background-color:inherit}#sm[_ngcontent-%COMP%]{height:20vh;width:20vh;border-radius:5vw}#photo[_ngcontent-%COMP%]{padding:2vw 2vw 2vw 5vw;padding-bottom:2vh}#detail[_ngcontent-%COMP%]{padding:2vw;color:#fff;padding-bottom:2vh}#play[_ngcontent-%COMP%]{background-color:green;color:#fff;width:80px;border-radius:25px}#like[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{color:#fff;height:40px;width:40px;border-radius:25px;background:inherit;border:1px solid white}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:7vh}tbody[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]{color:#ffffff80}.table[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.5)}#dir[_ngcontent-%COMP%]{font-size:5vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;position:relative;bottom:1vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:inherit}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background:inherit}#play[_ngcontent-%COMP%]:hover{background-color:#a5d6a7}@media only screen and (max-width: 425px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:30vw;border-radius:10vh}}@media only screen and (min-width: 426px) and (max-width: 767px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:35vw;border-radius:10vh}}"]}),n})();const Sl_firebase={projectId:"ambush-rankings",appId:"1:27892416565:web:68d711498ba1410acb717c",storageBucket:"ambush-rankings.appspot.com",apiKey:"AIzaSyAG8taSDgbTOjHF3dD8Z3odOICSYjKDgz0",authDomain:"ambush-rankings.firebaseapp.com",messagingSenderId:"27892416565"};function gse(n,e){if(1&n){const t=function NS(){return I()}();G(0,"tr")(1,"th",17),ie(2),$(),Ee(3,"td"),G(4,"td"),Ee(5,"img",18),ie(6),$(),G(7,"td",19)(8,"i",20),ie(9),$()(),G(10,"td",21)(11,"i",22),ie(12),$()(),G(13,"td",23)(14,"i",24),ie(15),$()(),G(16,"td",25)(17,"button",26),ut("click",function(){const s=Kl(t).$implicit;return Ho().winGame(s)}),Ee(18,"i",20),$(),G(19,"button",27),ut("click",function(){const s=Kl(t).$implicit;return Ho().lossGame(s)}),Ee(20,"i",22),$(),G(21,"button",28),ut("click",function(){const s=Kl(t).$implicit;return Ho().warningPlayer(s)}),Ee(22,"i",24),$()()()}if(2&n){const t=e.$implicit,r=Ho();ae(2),Wr(r.players.indexOf(t)+1),ae(3),xd("src",t.avatar,vu),ae(1),Kr(" ",t.name," "),ae(3),Kr(" ",t.status.wins,""),ae(3),Kr(" ",t.status.losses,""),ae(3),Kr(" ",t.status.warnings,"")}}const mse=function(){return[""]};let yse=(()=>{class n{constructor(t,r){this.playersService=t,this.router=r,this.players=[]}ngOnInit(){this.playersService.getPlayers().subscribe(t=>{this.players=t,this.players=this.orderBy(this.players)})}onLoad(){return g(function*(){})()}winGame(t){t.games++,t.wins++,t.points+=10,t.status.wins++}lossGame(t){t.games++,t.losses++,t.points-=8,t.status.losses++}warningPlayer(t){t.points-=4,t.warnings++,t.status.warnings++}orderBy(t){return t.sort((r,i)=>r.points<i.points?1:-1)}getWinrate(t){let r=t.wins/t.games*100;return r=parseInt(r.toFixed(2)),r||0}download(){this.players.forEach(t=>{t.status={wins:0,losses:0,warnings:0},this.playersService.savePlayer(t)}),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(b(dU),b(Ht))},n.\u0275cmp=rs({type:n,selectors:[["app-edit"]],decls:30,vars:3,consts:[["id","main",1,"container"],[1,"row"],["id","photo",1,"col-sm-3"],["id","sm","src","../../../assets/logo.png","alt",""],["id","detail",1,"col-sm-8"],["id","shawn"],["id","play",1,"btn","bg-primary",3,"routerLink"],[1,"fas","fa-solid","fa-arrow-left"],["id","play",1,"btn","bg-primary",2,"width","3em",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"table"],["scope","col",2,"width","42.5469px"],["rowspan","1","colspan","1","aria-label","&nbsp;",1,"sorting_disabled",2,"width","25px"],["scope","col"],["scope","col","colspan","3",1,"text-center"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[2,"vertical-align","middle","height","30px","width","30px","border-radius","30px",3,"src"],[1,"text-success","text-center"],[1,"fas","fa-solid","fa-thumbs-up"],[1,"text-danger","text-center"],[1,"fas","fa-solid","fa-thumbs-down"],[1,"text-warning","text-center"],[1,"fas","fa-solid","fa-triangle-exclamation"],[1,"text-center"],[1,"btn","btn-outline-success","m-1",3,"click"],[1,"btn","btn-outline-danger","m-1",3,"click"],[1,"btn","btn-outline-warning","m-1",3,"click"]],template:function(t,r){1&t&&(G(0,"div",0)(1,"div",1)(2,"div",2),Ee(3,"img",3),$(),G(4,"div",4)(5,"h1",5)(6,"b"),ie(7,"Ambush Season 3"),$(),ie(8," (Edit)"),$(),G(9,"button",6),Ee(10,"i",7),ie(11," Back"),$(),ie(12," \xa0\xa0 "),G(13,"button",8),ut("click",function(){return r.download()}),Ee(14,"i",9),$()()(),G(15,"table",10)(16,"thead")(17,"tr")(18,"th",11),ie(19,"#"),$(),G(20,"th",12),ie(21,"\xa0"),$(),G(22,"th",13),ie(23,"Nickname"),$(),G(24,"th",14),ie(25,"Status"),$(),G(26,"th",15),ie(27,"Actions"),$()()(),G(28,"tbody"),Cm(29,gse,23,6,"tr",16),$()()()),2&t&&(ae(9),tn("routerLink",Vd(2,mse)),ae(20),tn("ngForOf",r.players))},directives:[oc,Py],styles:["table[_ngcontent-%COMP%]{z-index:2;width:97%;margin-left:2em}body[_ngcontent-%COMP%]{background-color:#f6f6f6;margin-top:20px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.bg-custom[_ngcontent-%COMP%]{background-color:#753bbc!important;color:#fff}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}.bg-success[_ngcontent-%COMP%]{background-color:#54ca68!important}.bg-purple[_ngcontent-%COMP%]{background-color:#9c27b0!important;color:#fff}.bg-cyan[_ngcontent-%COMP%]{background-color:#10cfbd!important;color:#fff}.bg-red[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}.progress[_ngcontent-%COMP%]{box-shadow:0 .4rem .6rem #00000026}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.container[_ngcontent-%COMP%]{margin-top:50px}#baf[_ngcontent-%COMP%]{position:absolute;left:0vw;font-size:2.5vw}#baf[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffff80}#upg[_ngcontent-%COMP%]{border-radius:25px;margin:1vh;background:inherit;color:#fff;border:1px solid white}#user[_ngcontent-%COMP%]{font-size:3vh;color:#fff;position:relative;bottom:.5vh}#user[_ngcontent-%COMP%]:hover{background:inherit}.input-group-addon[_ngcontent-%COMP%]{background-color:#000;color:#fff}.navbar[_ngcontent-%COMP%]{background-color:inherit}#sm[_ngcontent-%COMP%]{height:20vh;width:20vh;border-radius:5vw}#photo[_ngcontent-%COMP%]{padding:2vw 2vw 2vw 5vw;padding-bottom:2vh}#detail[_ngcontent-%COMP%]{padding:2vw;color:#fff;padding-bottom:2vh}#play[_ngcontent-%COMP%]{background-color:green;color:#fff;width:80px;border-radius:25px}#like[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{color:#fff;height:40px;width:40px;border-radius:25px;background:inherit;border:1px solid white}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:7vh}tbody[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]{color:#ffffff80}.table[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.5)}#dir[_ngcontent-%COMP%]{font-size:5vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;position:relative;bottom:1vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:inherit}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background:inherit}#play[_ngcontent-%COMP%]:hover{background-color:#a5d6a7}@media only screen and (max-width: 425px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:30vw;border-radius:10vh}}@media only screen and (min-width: 426px) and (max-width: 767px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:35vw;border-radius:10vh}}"]}),n})(),hU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(Dr),b(pn))},n.\u0275dir=j({type:n}),n})(),ro=(()=>{class n extends hU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function Bt(n){return vi(()=>{const e=n.prototype.constructor,t=e[$r]||wg(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[$r]||wg(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=j({type:n,features:[ve]}),n})();const Lr=new ee("NgValueAccessor"),wse={provide:Lr,useExisting:Te(()=>bp),multi:!0},bse=new ee("CompositionEventMode");let bp=(()=>{class n extends hU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ese(){const n=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Dr),b(pn),b(bse,8))},n.\u0275dir=j({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ut("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Oe([wse]),ve]}),n})();const Qt=new ee("NgValidators"),Zi=new ee("NgAsyncValidators");function IU(n){return null!=n}function DU(n){const e=Mu(n)?St(n):n;return Om(e),e}function CU(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function TU(n,e){return e.map(t=>t(n))}function AU(n){return n.map(e=>function Dse(n){return!n.validate}(e)?e:t=>e.validate(t))}function SC(n){return null!=n?function SU(n){if(!n)return null;const e=n.filter(IU);return 0==e.length?null:function(t){return CU(TU(t,e))}}(AU(n)):null}function xC(n){return null!=n?function xU(n){if(!n)return null;const e=n.filter(IU);return 0==e.length?null:function(t){return function _se(...n){const e=S0(n),{args:t,keys:r}=jk(n),i=new Re(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Yn(t[l]).subscribe(mt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Hk(r,a):a),s.complete())}))}});return e?i.pipe($k(e)):i}(TU(t,e).map(DU)).pipe(ye(CU))}}(AU(n)):null}function MU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kU(n){return n._rawValidators}function RU(n){return n._rawAsyncValidators}function MC(n){return n?Array.isArray(n)?n:[n]:[]}function Dp(n,e){return Array.isArray(n)?n.includes(e):n===e}function NU(n,e){const t=MC(e);return MC(n).forEach(i=>{Dp(t,i)||t.push(i)}),t}function OU(n,e){return MC(e).filter(t=>!Dp(n,t))}class PU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ji extends PU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ln extends PU{get formDirective(){return null}get path(){return null}}class FU{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let LU=(()=>{class n extends FU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ji,2))},n.\u0275dir=j({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Md("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ve]}),n})(),VU=(()=>{class n extends FU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(ln,10))},n.\u0275dir=j({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Md("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ve]}),n})();function xl(n,e){NC(n,e),e.valueAccessor.writeValue(n.value),function Rse(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BU(n,e)})}(n,e),function Ose(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Nse(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function kse(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ap(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NC(n,e){const t=kU(n);null!==e.validator?n.setValidators(MU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=RU(n);null!==e.asyncValidator?n.setAsyncValidators(MU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Sp(e._rawValidators,i),Sp(e._rawAsyncValidators,i)}function xp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=kU(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=RU(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Sp(e._rawValidators,r),Sp(e._rawAsyncValidators,r),t}function BU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ml="VALID",Mp="INVALID",Qa="PENDING",kl="DISABLED";function VC(n){return(kp(n)?n.validators:n)||null}function GU(n){return Array.isArray(n)?SC(n):n||null}function UC(n,e){return(kp(e)?e.asyncValidators:n)||null}function qU(n){return Array.isArray(n)?xC(n):n||null}function kp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const zU=n=>n instanceof Rp,BC=n=>n instanceof Np;function WU(n){return zU(n)?n.value:n.getRawValue()}function KU(n,e){const t=BC(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new he(1e3,"");if(!r[e])throw new he(1001,"")}function QU(n,e){BC(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new he(1002,"")})}class jC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=GU(this._rawValidators),this._composedAsyncValidatorFn=qU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ml}get invalid(){return this.status===Mp}get pending(){return this.status==Qa}get disabled(){return this.status===kl}get enabled(){return this.status!==kl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=GU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=qU(e)}addValidators(e){this.setValidators(NU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OU(e,this._rawAsyncValidators))}hasValidator(e){return Dp(this._rawValidators,e)}hasAsyncValidator(e){return Dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ml,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ml||this.status===Qa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kl:Ml}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qa,this._hasOwnPendingAsyncValidator=!0;const t=DU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Vse(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=BC(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Bse)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?kl:this.errors?Mp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qa)?Qa:this._anyControlsHaveStatus(Mp)?Mp:Ml}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rp extends jC{constructor(e=null,t,r){super(VC(t),UC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Np extends jC{constructor(e,t,r){super(VC(t),UC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){QU(this,e),Object.keys(e).forEach(r=>{KU(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=WU(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Bse extends jC{constructor(e,t,r){super(VC(t),UC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){QU(this,e),e.forEach((r,i)=>{KU(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>WU(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let e2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=j({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),n2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({}),n})();const HC=new ee("NgModelWithFormControlWarning"),Qse={provide:ln,useExisting:Te(()=>Op)};let Op=(()=>{class n extends ln{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return xl(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ap(t.control||null,t,!1),FC(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function HU(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ap(r||null,t),zU(i)&&(xl(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function jU(n,e){NC(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Pse(n,e){return xp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NC(this.form,this),this._oldForm&&xp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(Qt,10),b(Zi,10))},n.\u0275dir=j({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ut("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([Qse]),ve,Vn]}),n})();const Jse={provide:Ji,useExisting:Te(()=>zC)};let zC=(()=>{class n extends Ji{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new $e,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function PC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===bp?t=s:function Lse(n){return Object.getPrototypeOf(n.constructor)===ro}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function OC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Tp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(ln,13),b(Qt,10),b(Zi,10),b(Lr,10),b(HC,8))},n.\u0275dir=j({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([Jse]),ve,Vn]}),n})(),poe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({imports:[[n2]]}),n})(),goe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:HC,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({imports:[poe]}),n})(),moe=(()=>{class n{constructor(t){this.auth=t}register({email:t,password:r}){return cee(this.auth,t,r)}login({email:t,password:r}){return dee(this.auth,t,r)}logout(){return hee(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(F(Sc))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yoe=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.formLogin=new Np({email:new Rp,password:new Rp})}ngOnInit(){}onSubmit(){this.authService.login(this.formLogin.value).then(t=>{console.log(t),this.router.navigate([""])}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(b(moe),b(Ht))},n.\u0275cmp=rs({type:n,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"flex-container"],[1,"content-container"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"subtitle"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Submit","id","play",1,"btn","bg-primary"]],template:function(t,r){1&t&&(G(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),ut("ngSubmit",function(){return r.onSubmit()}),G(4,"h1"),ie(5," Login "),$(),Ee(6,"br")(7,"br"),G(8,"span",4),ie(9,"USERNAME:"),$(),Ee(10,"br")(11,"input",5)(12,"br"),G(13,"span",4),ie(14,"PASSWORD:"),$(),Ee(15,"br")(16,"input",6)(17,"br")(18,"br")(19,"input",7)(20,"br")(21,"br")(22,"br")(23,"br"),$()()()()),2&t&&(ae(3),tn("formGroup",r.formLogin))},directives:[e2,VU,Op,bp,LU,zC],styles:["html[_ngcontent-%COMP%]{scroll-behavior:smooth}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#121212;overflow-x:hidden;height:100%;-webkit-user-select:none;-o-user-select:none;user-select:none}body[_ngcontent-%COMP%]:not(.user-is-tabbing)   button[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]:not(.user-is-tabbing)   input[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]:not(.user-is-tabbing)   select[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]:not(.user-is-tabbing)   textarea[_ngcontent-%COMP%]:focus{outline:none}h1[_ngcontent-%COMP%]{color:#fff;font-size:35px;font-weight:800}.flex-container[_ngcontent-%COMP%]{width:100vw;margin-top:60px;display:flex;justify-content:center;align-items:center}.content-container[_ngcontent-%COMP%]{width:500px;height:350px}.form-container[_ngcontent-%COMP%]{align-items:center;width:500px;height:350px;margin-top:5px;padding-top:20px;border-radius:12px;display:flex;justify-content:center;flex-direction:column;box-shadow:5px 5px 10px #0003;background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}.subtitle[_ngcontent-%COMP%]{font-size:11px;color:#b1b1b14d}input[_ngcontent-%COMP%]{border:none;border-bottom:solid rgb(143,143,143) 1px;margin-bottom:30px;background:none;color:#ffffff8e;height:35px;width:300px}#play[_ngcontent-%COMP%]{color:#fff;width:80px;border-radius:25px}"]}),n})();const YC=ye(n=>!!n);let _oe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>YC);return uee(this.auth).pipe(ch(1),o(i,s),ye(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(F(Ht),F(Sc))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const _2=n=>({canActivate:[_oe],data:{authGuardPipe:n}}),boe=[{path:"",component:pse},Object.assign({path:"admin",component:yse},_2(()=>(n=>c0(YC,ye(e=>e||n)))([""]))),Object.assign({path:"login",component:yoe},_2(()=>(n=>c0(YC,ye(e=>e&&n||!0)))([""]))),{path:"**",redirectTo:"",pathMatch:"full"}];let Ioe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n}),n.\u0275inj=dn({imports:[[K1.forRoot(boe)],K1]}),n})(),Doe=(()=>{class n{constructor(){this.title="Ambush_Rankings"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rs({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Ee(0,"router-outlet")},directives:[a_],styles:[""]}),n})(),Coe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tn({type:n,bootstrap:[Doe]}),n.\u0275inj=dn({providers:[],imports:[[A8,Ioe,goe,SY(()=>xY(Sl_firebase)),aee(()=>lee()),ise(()=>use())]]}),n})();(function uW(){XM=!1})(),C8().bootstrapModule(Coe).catch(n=>console.error(n))}},ce=>{ce(ce.s=508)}]);