"use strict";var Ooe=Object.defineProperty,Poe=Object.defineProperties,Foe=Object.getOwnPropertyDescriptors,bU=Object.getOwnPropertySymbols,Loe=Object.prototype.hasOwnProperty,Voe=Object.prototype.propertyIsEnumerable,EU=(le,mt,Zt)=>mt in le?Ooe(le,mt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):le[mt]=Zt,IU=(le,mt)=>{for(var Zt in mt||(mt={}))Loe.call(mt,Zt)&&EU(le,Zt,mt[Zt]);if(bU)for(var Zt of bU(mt))Voe.call(mt,Zt)&&EU(le,Zt,mt[Zt]);return le},CU=(le,mt)=>Poe(le,Foe(mt));(self.webpackChunkAmbush_Rankings=self.webpackChunkAmbush_Rankings||[]).push([[179],{852:()=>{function le(n){return"function"==typeof n}function mt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Zt=mt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function lo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(le(r))try{r()}catch(s){e=s instanceof Zt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{u0(s)}catch(o){e=null!=e?e:[],o instanceof Zt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zt(e)}}add(e){var t;if(e&&e!==this)if(this.closed)u0(e);else{if(e instanceof Cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&lo(t,e)}remove(e){const{_finalizers:t}=this;t&&lo(t,e),e instanceof Cn&&e._removeParent(this)}}Cn.EMPTY=(()=>{const n=new Cn;return n.closed=!0,n})();const o0=Cn.EMPTY;function a0(n){return n instanceof Cn||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function u0(n){le(n)?n():n.unsubscribe()}const rs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vl={setTimeout(n,e,...t){const{delegate:r}=Vl;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Vl;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function c0(n){Vl.setTimeout(()=>{const{onUnhandledError:e}=rs;if(!e)throw n;e(n)})}function l0(){}const DU=Up("C",void 0,void 0);function Up(n,e,t){return{kind:n,value:e,error:t}}let is=null;function Ul(n){if(rs.useDeprecatedSynchronousErrorHandling){const e=!is;if(e&&(is={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=is;if(is=null,t)throw r}}else n()}class Bp extends Cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,a0(e)&&e.add(this)):this.destination=RU}static create(e,t,r){return new tu(e,t,r)}next(e){this.isStopped?$p(function AU(n){return Up("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$p(function TU(n){return Up("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$p(DU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xU=Function.prototype.bind;function jp(n,e){return xU.call(n,e)}class MU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Bl(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Bl(r)}else Bl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Bl(t)}}}class tu extends Bp{constructor(e,t,r){let i;if(super(),le(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&rs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jp(e.next,s),error:e.error&&jp(e.error,s),complete:e.complete&&jp(e.complete,s)}):i=e}this.destination=new MU(i)}}function Bl(n){rs.useDeprecatedSynchronousErrorHandling?function SU(n){rs.useDeprecatedSynchronousErrorHandling&&is&&(is.errorThrown=!0,is.error=n)}(n):c0(n)}function $p(n,e){const{onStoppedNotification:t}=rs;t&&Vl.setTimeout(()=>t(n,e))}const RU={closed:!0,next:l0,error:function kU(n){throw n},complete:l0},Hp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ss(n){return n}function d0(...n){return h0(n)}function h0(n){return 0===n.length?ss:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function OU(n){return n&&n instanceof Bp||function NU(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}(n)&&a0(n)}(t)?t:new tu(t,r,i);return Ul(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=f0(r))((i,s)=>{const o=new tu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Hp](){return this}pipe(...t){return h0(t)(this)}toPromise(t){return new(t=f0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function f0(n){var e;return null!==(e=null!=n?n:rs.Promise)&&void 0!==e?e:Promise}const PU=mt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $r=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new p0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new PU}next(t){Ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ul(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?o0:(this.currentObservers=null,s.push(t),new Cn(()=>{this.currentObservers=null,lo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Re;return t.source=this,t}}return n.create=(e,t)=>new p0(e,t),n})();class p0 extends $r{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:o0}}function g0(n){return le(null==n?void 0:n.lift)}function St(n){return e=>{if(g0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(n,e,t,r,i){return new FU(n,e,t,r,i)}class FU extends Bp{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(n,e){return St((t,r)=>{let i=0;t.subscribe(yt(r,s=>{r.next(n.call(e,s,i++))}))})}function y0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function os(n){return this instanceof os?(this.v=n,this):new os(n)}function UU(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof os?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function BU(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function v0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const w0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function b0(n){return le(null==n?void 0:n.then)}function E0(n){return le(n[Hp])}function I0(n){return Symbol.asyncIterator&&le(null==n?void 0:n[Symbol.asyncIterator])}function C0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const D0=function $U(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function T0(n){return le(null==n?void 0:n[D0])}function A0(n){return UU(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield os(t.read());if(i)return yield os(void 0);yield yield os(r)}}finally{t.releaseLock()}})}function S0(n){return le(null==n?void 0:n.getReader)}function Jn(n){if(n instanceof Re)return n;if(null!=n){if(E0(n))return function HU(n){return new Re(e=>{const t=n[Hp]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(w0(n))return function GU(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(b0(n))return function qU(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,c0)})}(n);if(I0(n))return x0(n);if(T0(n))return function zU(n){return new Re(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(S0(n))return function WU(n){return x0(A0(n))}(n)}throw C0(n)}function x0(n){return new Re(e=>{(function KU(n,e){var t,r,i,s;return function LU(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=BU(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Hr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function _t(n,e,t=1/0){return le(e)?_t((r,i)=>_e((s,o)=>e(r,s,i,o))(Jn(n(r,i))),t):("number"==typeof e&&(t=e),St((r,i)=>function QU(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Jn(t(m,l++)).subscribe(yt(e,b=>{null==i||i(b),s?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const b=u.shift();o?Hr(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(yt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function nu(n=1/0){return _t(ss,n)}const Gr=new Re(n=>n.complete());function qp(n){return n[n.length-1]}function M0(n){return le(qp(n))?n.pop():void 0}function ru(n){return function ZU(n){return n&&le(n.schedule)}(qp(n))?n.pop():void 0}function jl(n,e=0){return St((t,r)=>{t.subscribe(yt(r,i=>Hr(r,n,()=>r.next(i),e),()=>Hr(r,n,()=>r.complete(),e),i=>Hr(r,n,()=>r.error(i),e)))})}function $l(n,e=0){return St((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function k0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{Hr(t,e,()=>{const r=n[Symbol.asyncIterator]();Hr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function xt(n,e){return e?function iB(n,e){if(null!=n){if(E0(n))return function XU(n,e){return Jn(n).pipe($l(e),jl(e))}(n,e);if(w0(n))return function tB(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(b0(n))return function eB(n,e){return Jn(n).pipe($l(e),jl(e))}(n,e);if(I0(n))return k0(n,e);if(T0(n))return function nB(n,e){return new Re(t=>{let r;return Hr(t,e,()=>{r=n[D0](),Hr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>le(null==r?void 0:r.return)&&r.return()})}(n,e);if(S0(n))return function rB(n,e){return k0(A0(n),e)}(n,e)}throw C0(n)}(n,e):Jn(n)}function zp(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new tu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Wp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Kp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const aB=Ce({__forward_ref__:Ce});function Te(n){return n.__forward_ref__=Te,n.toString=function(){return ve(this())},n}function ee(n){return R0(n)?n():n}function R0(n){return"function"==typeof n&&n.hasOwnProperty(aB)&&n.__forward_ref__===Te}class fe extends Error{constructor(e,t){super(function Qp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Z(n){return"string"==typeof n?n:null==n?"":String(n)}function Jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Z(n)}function Hl(n,e){const t=e?` in ${e}`:"";throw new fe(-201,`No provider for ${Jt(n)} found${t}`)}function Tn(n,e){null==n&&function Me(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yp(n){return N0(n,Gl)||N0(n,P0)}function N0(n,e){return n.hasOwnProperty(e)?n[e]:null}function O0(n){return n&&(n.hasOwnProperty(Zp)||n.hasOwnProperty(pB))?n[Zp]:null}const Gl=Ce({\u0275prov:Ce}),Zp=Ce({\u0275inj:Ce}),P0=Ce({ngInjectableDef:Ce}),pB=Ce({ngInjectorDef:Ce});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let Jp;function bi(n){const e=Jp;return Jp=n,e}function F0(n,e,t){const r=Yp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==e?e:void Hl(ve(n),"Injector")}function Ei(n){return{toString:n}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),yr=(()=>{return(n=yr||(yr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",yr;var n})();const mB="undefined"!=typeof globalThis&&globalThis,yB="undefined"!=typeof window&&window,_B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,be=mB||"undefined"!=typeof global&&global||yB||_B,ho={},De=[],ql=Ce({\u0275cmp:Ce}),Xp=Ce({\u0275dir:Ce}),eg=Ce({\u0275pipe:Ce}),L0=Ce({\u0275mod:Ce}),zr=Ce({\u0275fac:Ce}),iu=Ce({__NG_ELEMENT_ID__:Ce});let vB=0;function Ii(n){return Ei(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||De,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||yr.Emulated,id:"c",styles:n.styles||De,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=vB++,r.inputs=j0(n.inputs,t),r.outputs=j0(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(V0):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(U0):null,r})}function V0(n){return Ut(n)||function Ci(n){return n[Xp]||null}(n)}function U0(n){return function as(n){return n[eg]||null}(n)}const B0={};function fn(n){return Ei(()=>{const e={type:n.type,bootstrap:n.bootstrap||De,declarations:n.declarations||De,imports:n.imports||De,exports:n.exports||De,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(B0[n.id]=n.type),e})}function j0(n,e){if(null==n)return ho;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const H=Ii;function Ut(n){return n[ql]||null}function Fn(n,e){const t=n[L0]||null;if(!t&&!0===e)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return t}function _r(n){return Array.isArray(n)&&"object"==typeof n[1]}function tr(n){return Array.isArray(n)&&!0===n[1]}function rg(n){return 0!=(8&n.flags)}function Ql(n){return 2==(2&n.flags)}function Yl(n){return 1==(1&n.flags)}function nr(n){return null!==n.template}function DB(n){return 0!=(512&n[2])}function ds(n,e){return n.hasOwnProperty(zr)?n[zr]:null}class SB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return H0}function H0(n){return n.type.prototype.ngOnChanges&&(n.setInput=MB),xB}function xB(){const n=q0(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ho)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MB(n,e,t,r){const i=q0(n)||function kB(n,e){return n[G0]=e}(n,{previous:ho,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new SB(u&&u.currentValue,e,o===ho),n[r]=e}Vn.ngInherit=!0;const G0="__ngSimpleChanges__";function q0(n){return n[G0]||null}let ug;function Be(n){return!!n.listen}const z0={createRenderer:(n,e)=>function cg(){return void 0!==ug?ug:"undefined"!=typeof document?document:void 0}()};function Xe(n){for(;Array.isArray(n);)n=n[0];return n}function Zl(n,e){return Xe(e[n])}function Bn(n,e){return Xe(e[n.index])}function lg(n,e){return n.data[e]}function Sn(n,e){const t=e[n];return _r(t)?t:t[0]}function dg(n){return 128==(128&n[2])}function Di(n,e){return null==e?null:n[e]}function K0(n){n[18]=0}function hg(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const W={lFrame:nT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Q0(){return W.bindingsEnabled}function I(){return W.lFrame.lView}function pe(){return W.lFrame.tView}function uu(n){return W.lFrame.contextLView=n,n[8]}function at(){let n=Y0();for(;null!==n&&64===n.type;)n=n.parent;return n}function Y0(){return W.lFrame.currentTNode}function vr(n,e){const t=W.lFrame;t.currentTNode=n,t.isParent=e}function fg(){return W.lFrame.isParent}function pg(){W.lFrame.isParent=!1}function Jl(){return W.isInCheckNoChangesMode}function Xl(n){W.isInCheckNoChangesMode=n}function _o(){return W.lFrame.bindingIndex++}function Kr(n){const e=W.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function KB(n,e){const t=W.lFrame;t.bindingIndex=t.bindingRootIndex=n,gg(e)}function gg(n){W.lFrame.currentDirectiveIndex=n}function yg(n){W.lFrame.currentQueryIndex=n}function YB(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function eT(n,e,t){if(t&K.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&K.Host||(i=YB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=W.lFrame=tT();return r.currentTNode=e,r.lView=n,!0}function ed(n){const e=tT(),t=n[1];W.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tT(){const n=W.lFrame,e=null===n?null:n.child;return null===e?nT(n):e}function nT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function rT(){const n=W.lFrame;return W.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const iT=rT;function td(){const n=rT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tn(){return W.lFrame.selectedIndex}function Ti(n){W.lFrame.selectedIndex=n}function je(){const n=W.lFrame;return lg(n.tView,n.selectedIndex)}function nd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function rd(n,e,t){sT(n,e,3,t)}function id(n,e,t,r){(3&n[2])===t&&sT(n,e,t,r)}function _g(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function sT(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(sj(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function sj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class lu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function sd(n,e,t){const r=Be(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];wg(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function oT(n){return 3===n||4===n||6===n}function wg(n){return 64===n.charCodeAt(0)}function od(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||aT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function aT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function uT(n){return-1!==n}function vo(n){return 32767&n}function wo(n,e){let t=function lj(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let bg=!0;function ad(n){const e=bg;return bg=n,e}let dj=0;function hu(n,e){const t=Ig(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Eg(r.data,n),Eg(e,null),Eg(r.blueprint,null));const i=ud(n,e),s=n.injectorIndex;if(uT(i)){const o=vo(i),a=wo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Eg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ig(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ud(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function cd(n,e,t){!function hj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(iu)&&(r=t[iu]),null==r&&(r=t[iu]=dj++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function dT(n,e,t){if(t&K.Optional)return n;Hl(e,"NodeInjector")}function hT(n,e,t,r){if(t&K.Optional&&void 0===r&&(r=null),0==(t&(K.Self|K.Host))){const i=n[9],s=bi(void 0);try{return i?i.get(e,r,t&K.Optional):F0(e,r,t&K.Optional)}finally{bi(s)}}return dT(r,e,t)}function fT(n,e,t,r=K.Default,i){if(null!==n){const s=function mj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(iu)?n[iu]:void 0;return"number"==typeof e?e>=0?255&e:pj:e}(t);if("function"==typeof s){if(!eT(e,n,r))return r&K.Host?dT(i,t,r):hT(e,t,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;Hl(t)}finally{iT()}}else if("number"==typeof s){let o=null,a=Ig(n,e),u=-1,c=r&K.Host?e[16][6]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?ud(n,e):e[a+8],-1!==u&&mT(r,!1)?(o=e[1],a=vo(u),e=wo(u,e)):a=-1);-1!==a;){const l=e[1];if(gT(s,a,l.data)){const d=gj(a,e,t,o,r,c);if(d!==pT)return d}u=e[a+8],-1!==u&&mT(r,e[1].data[a+8]===c)&&gT(s,a,e)?(o=l,a=vo(u),e=wo(u,e)):a=-1}}}return hT(e,t,r,i)}const pT={};function pj(){return new bo(at(),I())}function gj(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=function ld(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&nr(f)&&f.type===t)return u}return null}(a,o,t,null==r?Ql(a)&&bg:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==l?fu(e,o,l,a):pT}function fu(n,e,t,r){let i=n[t];const s=e.data;if(function oj(n){return n instanceof lu}(i)){const o=i;o.resolving&&function uB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new fe(-200,`Circular dependency in DI detected for ${n}${t}`)}(Jt(s[t]));const a=ad(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?bi(o.injectImpl):null;eT(n,r,K.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function ij(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=H0(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&bi(u),ad(a),o.resolving=!1,iT()}}return i}function gT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function mT(n,e){return!(n&K.Self||n&K.Host&&e)}class bo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return fT(this._tNode,this._lView,e,r,t)}}function Cg(n){return R0(n)?()=>{const e=Cg(ee(n));return e&&e()}:ds(n)}function pu(n){return function fj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(oT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(at(),n)}const Io="__parameters__";function Do(n,e,t){return Ei(()=>{const r=function Dg(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Io)?u[Io]:Object.defineProperty(u,Io,{value:[]})[Io];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _j=new ne("AnalyzeForEntryComponents");function wr(n,e){n.forEach(t=>Array.isArray(t)?wr(t,e):e(t))}function _T(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function dd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xn(n,e,t){let r=To(n,e);return r>=0?n[1|r]=t:(r=~r,function bj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ag(n,e){const t=To(n,e);if(t>=0)return n[1|t]}function To(n,e){return function bT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const _u={},xg="__NG_DI_FLAG__",fd="ngTempTokenPath",Sj=/\n/gm,IT="__source",Mj=Ce({provide:String,useValue:Ce});let vu;function CT(n){const e=vu;return vu=n,e}function kj(n,e=K.Default){if(void 0===vu)throw new fe(203,"");return null===vu?F0(n,void 0,e):vu.get(n,e&K.Optional?null:void 0,e)}function V(n,e=K.Default){return(function gB(){return Jp}()||kj)(ee(n),e)}const Rj=V;function Mg(n){const e=[];for(let t=0;t<n.length;t++){const r=ee(n[t]);if(Array.isArray(r)){if(0===r.length)throw new fe(900,"");let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Nj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function wu(n,e){return n[xg]=e,n.prototype[xg]=e,n}function Nj(n){return n[xg]}const pd=wu(Do("Inject",n=>({token:n})),-1),ct=wu(Do("Optional"),8),bu=wu(Do("SkipSelf"),4);class NT{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Si(n){return n instanceof NT?n.changingThisBreaksApplicationSecurity:n}const t$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,n$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var et=(()=>((et=et||{})[et.NONE=0]="NONE",et[et.HTML=1]="HTML",et[et.STYLE=2]="STYLE",et[et.SCRIPT=3]="SCRIPT",et[et.URL=4]="URL",et[et.RESOURCE_URL=5]="RESOURCE_URL",et))();function xi(n){const e=function Du(){const n=I();return n&&n[12]}();return e?e.sanitize(et.URL,n)||"":function Iu(n,e){const t=function Zj(n){return n instanceof NT&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Si(n):function _d(n){return(n=String(n)).match(t$)||n.match(n$)?n:"unsafe:"+n}(Z(n))}const HT="__ngContext__";function $t(n,e){n[HT]=e}function Ug(n){const e=function Tu(n){return n[HT]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function jg(n){return n.ngOriginalError}function D$(n,...e){n.error(...e)}class Au{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function C$(n){return n&&n.ngErrorLogger||D$}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jg(e);for(;t&&jg(t);)t=jg(t);return t||null}}const P$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(be))();function Er(n){return n instanceof Function?n():n}var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();function Hg(n,e){return undefined(n,e)}function Su(n){const e=n[3];return tr(e)?e[3]:e}function Gg(n){return JT(n[13])}function qg(n){return JT(n[4])}function JT(n){for(;null!==n&&!tr(n);)n=n[4];return n}function Mo(n,e,t,r,i){if(null!=r){let s,o=!1;tr(r)?s=r:_r(r)&&(o=!0,r=r[0]);const a=Xe(r);0===n&&null!==t?null==i?iA(e,t,a):hs(e,t,a,i||null,!0):1===n&&null!==t?hs(e,t,a,i||null,!0):2===n?function dA(n,e,t){const r=wd(n,e);r&&function Q$(n,e,t,r){Be(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function J$(n,e,t,r,i){const s=t[7];s!==Xe(t)&&Mo(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];xu(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Wg(n,e,t){if(Be(n))return n.createElement(e,t);{const r=null!==t?function PB(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function eA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,hg(i,-1)),t.splice(r,1)}function Kg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&eA(i,r),e>0&&(n[t-1][4]=r[4]);const s=dd(n,10+e);!function j$(n,e){xu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function tA(n,e){if(!(256&e[2])){const t=e[11];Be(t)&&t.destroyNode&&xu(n,e,t,3,null,null),function G$(n){let e=n[13];if(!e)return Qg(n[1],n);for(;e;){let t=null;if(_r(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)_r(e)&&Qg(e[1],e),e=e[3];null===e&&(e=n),_r(e)&&Qg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Qg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function K$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof lu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function W$(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Xe(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Be(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&tr(e[3])){t!==e[3]&&eA(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function nA(n,e,t){return function rA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===yr.None||i===yr.Emulated)return null}return Bn(r,t)}(n,e.parent,t)}function hs(n,e,t,r,i){Be(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function iA(n,e,t){Be(n)?n.appendChild(e,t):e.appendChild(t)}function sA(n,e,t,r,i){null!==r?hs(n,e,t,r,i):iA(n,e,t)}function wd(n,e){return Be(n)?n.parentNode(e):e.parentNode}let uA=function aA(n,e,t){return 40&n.type?Bn(n,t):null};function bd(n,e,t,r){const i=nA(n,r,e),s=e[11],a=function oA(n,e,t){return uA(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)sA(s,i,t[u],a,!1);else sA(s,i,t,a,!1)}function Ed(n,e){if(null!==e){const t=e.type;if(3&t)return Bn(e,n);if(4&t)return Zg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ed(n,r);{const i=n[e.index];return tr(i)?Zg(-1,i):Xe(i)}}if(32&t)return Hg(e,n)()||Xe(n[e.index]);{const r=lA(n,e);return null!==r?Array.isArray(r)?r[0]:Ed(Su(n[16]),r):Ed(n,e.next)}}return null}function lA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Zg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Ed(r,i)}return e[7]}function Jg(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&$t(Xe(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Jg(n,e,t.child,r,i,s,!1),Mo(e,n,i,a,s);else if(32&u){const c=Hg(t,r);let l;for(;l=c();)Mo(e,n,i,l,s);Mo(e,n,i,a,s)}else 16&u?hA(n,e,r,t,i,s):Mo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function xu(n,e,t,r,i,s){Jg(t,r,n.firstChild,e,i,s,!1)}function hA(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Mo(e,n,i,u[c],s);else Jg(n,e,u,o[3],i,s,!0)}function fA(n,e,t){Be(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Xg(n,e,t){Be(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function pA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const gA="ng-template";function eH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==pA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mA(n){return 4===n.type&&n.value!==gA}function tH(n,e,t){return e===(4!==n.type||t?n.value:gA)}function nH(n,e,t){let r=4;const i=n.attrs||[],s=function sH(n){for(let e=0;e<n.length;e++)if(oT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!tH(n,u,t)||""===u&&1===e.length){if(rr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!eH(n.attrs,c,t)){if(rr(r))return!1;o=!0}continue}const d=rH(8&r?"class":u,i,mA(n),t);if(-1===d){if(rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==pA(f,c,0)||2&r&&c!==h){if(rr(r))return!1;o=!0}}}}else{if(!o&&!rr(r)&&!rr(u))return!1;if(o&&rr(u))continue;o=!1,r=u|1&r}}return rr(r)||o}function rr(n){return 0==(1&n)}function rH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function oH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function yA(n,e,t=!1){for(let r=0;r<e.length;r++)if(nH(n,e[r],t))return!0;return!1}function _A(n,e){return n?":not("+e.trim()+")":e}function uH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!rr(o)&&(e+=_A(s,i),i=""),r=o,s=s||!rr(r);t++}return""!==i&&(e+=_A(s,i)),e}const J={};function B(n){vA(pe(),I(),tn()+n,Jl())}function vA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&rd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&id(e,s,0,t)}Ti(t)}function Id(n,e){return n<<17|e<<2}function ir(n){return n>>17&32767}function em(n){return 2|n}function Qr(n){return(131068&n)>>2}function tm(n,e){return-131069&n|e<<2}function nm(n){return 1|n}function MA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];yg(i),o.contentQueries(2,e[s],s)}}}function Mu(n,e,t,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,K0(l),l[3]=l[15]=n,l[8]=t,l[10]=o||n&&n[10],l[11]=a||n&&n[11],l[12]=u||n&&n[12]||null,l[9]=c||n&&n[9]||null,l[6]=s,l[16]=2==e.type?n[16]:l,l}function ko(n,e,t,r,i){let s=n.data[e];if(null===s)s=function dm(n,e,t,r,i){const s=Y0(),o=fg(),u=n.data[e]=function TH(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function WB(){return W.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function cu(){const n=W.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return vr(s,!0),s}function Ro(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ku(n,e,t){ed(e);try{const r=n.viewQuery;null!==r&&wm(1,r,t);const i=n.template;null!==i&&kA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&MA(n,e),n.staticViewQueries&&wm(2,n.viewQuery,t);const s=n.components;null!==s&&function IH(n,e){for(let t=0;t<e.length;t++)GH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,td()}}function No(n,e,t,r){const i=e[2];if(256==(256&i))return;ed(e);const s=Jl();try{K0(e),function Z0(n){return W.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&kA(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&rd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&id(e,c,0,null),_g(e,0)}if(function $H(n){for(let e=Gg(n);null!==e;e=qg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&hg(s,1),i[2]|=1024}}}(e),function jH(n){for(let e=Gg(n);null!==e;e=qg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];dg(r)&&No(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&MA(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&rd(e,c)}else{const c=n.contentHooks;null!==c&&id(e,c,1),_g(e,1)}!function bH(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ti(~i);else{const s=i,o=t[++r],a=t[++r];KB(o,s),a(2,e[s])}}}finally{Ti(-1)}}(n,e);const a=n.components;null!==a&&function EH(n,e){for(let t=0;t<e.length;t++)HH(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&wm(2,u,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&rd(e,c)}else{const c=n.viewHooks;null!==c&&id(e,c,2),_g(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,hg(e[3],-1))}finally{td()}}function CH(n,e,t,r){const i=e[10],s=!Jl(),o=function W0(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&ku(n,e,r),No(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function kA(n,e,t,r,i){const s=tn(),o=2&r;try{Ti(-1),o&&e.length>20&&vA(n,e,20,Jl()),t(r,i)}finally{Ti(s)}}function RA(n,e,t){if(rg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function hm(n,e,t){!Q0()||(function NH(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||hu(t,e),$t(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=nr(u);c&&VH(e,t,u);const l=fu(e,n,a,t);$t(l,e),null!==o&&UH(0,a-i,l,u,0,o),c&&(Sn(t.index,e)[8]=l)}}(n,e,t,Bn(t,e)),128==(128&t.flags)&&function OH(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function QB(){return W.lFrame.currentDirectiveIndex}();try{Ti(o);for(let u=r;u<i;u++){const c=n.data[u],l=e[u];gg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&BA(c,l)}}finally{Ti(-1),gg(a)}}(n,e,t))}function fm(n,e,t=Bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function NA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Td(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Td(n,e,t,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function DH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:J);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function LA(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function kn(n,e,t,r,i,s,o,a){const u=Bn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(YA(n,t,l,r,i),Ql(e)&&function xH(n,e){const t=Sn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function SH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Be(s)?s.setProperty(u,r,i):wg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function pm(n,e,t,r){let i=!1;if(Q0()){const s=function PH(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];yA(t,o.selectors,!1)&&(i||(i=[]),cd(hu(t,e),n,o.type),nr(o)?(jA(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,$A(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Ro(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=od(t.mergedAttrs,d.hostAttrs),HA(n,t,e,c,d),LH(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}!function AH(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||mA(e)?null:BH(d,s);o.push(h),a=LA(d,c,a),u=LA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function FH(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new fe(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=od(t.mergedAttrs,t.attrs),i}function UA(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function RH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function BA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function jA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function LH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;nr(e)&&(t[""]=n)}}function $A(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function HA(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ds(i.type)),o=new lu(s,nr(i),null);n.blueprint[r]=o,t[r]=o,UA(n,e,0,r,Ro(n,t,i.hostVars,J),i)}function VH(n,e,t){const r=Bn(e,n),i=NA(t),s=n[10],o=Ad(n,Mu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function UH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function BH(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function GA(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function HH(n,e){const t=Sn(e,n);if(dg(t)){const r=t[1];80&t[2]?No(r,t,r.template,t[8]):t[5]>0&&mm(t)}}function mm(n){for(let r=Gg(n);null!==r;r=qg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];No(o,s,o.template,s[8])}else s[5]>0&&mm(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Sn(t[r],n);dg(i)&&i[5]>0&&mm(i)}}function GH(n,e){const t=Sn(e,n),r=t[1];(function qH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ku(r,t,t[8])}function Ad(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ym(n){for(;n;){n[2]|=64;const e=Su(n);if(DB(n)&&!e)return n;n=e}return null}function vm(n,e,t){const r=e[10];r.begin&&r.begin();try{No(n,e,n.template,t)}catch(i){throw QA(e,i),i}finally{r.end&&r.end()}}function qA(n){!function _m(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Ug(t),i=r[1];CH(i,r,i.template,t)}}(n[8])}function wm(n,e,t){yg(0),e(n,t)}const QH=(()=>Promise.resolve(null))();function zA(n){return n[7]||(n[7]=[])}function WA(n){return n.cleanup||(n.cleanup=[])}function QA(n,e){const t=n[9],r=t?t.get(Au,null):null;r&&r.handleError(e)}function YA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Yr(n,e,t){const r=Zl(e,n);!function XT(n,e,t){Be(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Sd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Kp(i,a):2==s&&(r=Kp(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const bm=new ne("INJECTOR",-1);class ZA{get(e,t=_u){if(t===_u){const r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return t}}const Em=new ne("Set Injector scope."),Ru={},JH={};let Im;function JA(){return void 0===Im&&(Im=new ZA),Im}function XA(n,e=null,t=null,r){const i=eS(n,e,t,r);return i._resolveInjectorDefTypes(),i}function eS(n,e=null,t=null,r){return new XH(n,t,e||JA(),r)}class XH{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&wr(t,a=>this.processProvider(a,e,t)),wr([e],a=>this.processInjectorType(a,[],s)),this.records.set(bm,Oo(void 0,this));const o=this.records.get(Em);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=_u,r=K.Default){this.assertNotDestroyed();const i=CT(this),s=bi(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function aG(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(e)&&Yp(e);a=u&&this.injectableDefInScope(u)?Oo(Cm(e),Ru):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?JA():this.parent).get(e,t=r&K.Optional&&t===_u?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[fd]=o[fd]||[]).unshift(ve(e)),i)throw o;return function Oj(n,e,t,r){const i=n[fd];throw e[IT]&&i.unshift(e[IT]),n.message=function Pj(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Sj,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[fd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{bi(s),CT(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processInjectorType(e,t,r){if(!(e=ee(e)))return!1;let i=O0(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=O0(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{wr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];wr(f,p=>this.processProvider(p,h,f||De))}}this.injectorDefTypes.add(o);const u=ds(o)||(()=>new o);this.records.set(o,Oo(u,Ru));const c=i.providers;if(null!=c&&!a){const l=e;wr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Po(e=ee(e))?e:ee(e&&e.provide);const s=function tG(n,e,t){return nS(n)?Oo(void 0,n.useValue):Oo(tS(n),Ru)}(e);if(Po(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Oo(void 0,Ru,!0),o.factory=()=>Mg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Ru&&(t.value=JH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function oG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ee(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Cm(n){const e=Yp(n),t=null!==e?e.factory:ds(n);if(null!==t)return t;if(n instanceof ne)throw new fe(204,!1);if(n instanceof Function)return function eG(n){const e=n.length;if(e>0)throw function yu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new fe(204,!1);const t=function hB(n){const e=n&&(n[Gl]||n[P0]);if(e){const t=function fB(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new fe(204,!1)}function tS(n,e,t){let r;if(Po(n)){const i=ee(n);return ds(i)||Cm(i)}if(nS(n))r=()=>ee(n.useValue);else if(function rG(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Mg(n.deps||[]));else if(function nG(n){return!(!n||!n.useExisting)}(n))r=()=>V(ee(n.useExisting));else{const i=ee(n&&(n.useClass||n.provide));if(!function sG(n){return!!n.deps}(n))return ds(i)||Cm(i);r=()=>new i(...Mg(n.deps))}return r}function Oo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nS(n){return null!==n&&"object"==typeof n&&Mj in n}function Po(n){return"function"==typeof n}let wt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return XA({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return XA({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=_u,n.NULL=new ZA,n.\u0275prov=oe({token:n,providedIn:"any",factory:()=>V(bm)}),n.__NG_ELEMENT_ID__=-1,n})();function gG(n,e){nd(Ug(n)[1],at())}function we(n){let e=function pS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(nr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new fe(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Am(n.inputs),o.declaredInputs=Am(n.declaredInputs),o.outputs=Am(n.outputs);const a=i.hostBindings;a&&vG(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&yG(n,u),c&&_G(n,c),Wp(n.inputs,i.inputs),Wp(n.declaredInputs,i.declaredInputs),Wp(n.outputs,i.outputs),nr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===we&&(t=!1)}}e=Object.getPrototypeOf(e)}!function mG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=od(i.hostAttrs,t=od(t,i.hostAttrs))}}(r)}function Am(n){return n===ho?{}:n===De?[]:n}function yG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function _G(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function vG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let xd=null;function Fo(){if(!xd){const n=be.Symbol;if(n&&n.iterator)xd=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(xd=r)}}}return xd}function Nu(n){return!!function Sm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fo()in n)}function Ht(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Vo(n,e,t,r){return Ht(n,_o(),t)?e+Z(t)+r:J}function Pu(n,e,t,r,i,s,o,a){const u=I(),c=pe(),l=n+20,d=c.firstCreatePass?function TG(n,e,t,r,i,s,o,a,u){const c=e.consts,l=ko(e,n,4,o||null,Di(c,a));pm(e,t,l,Di(c,u)),nd(e,l);const d=l.tViews=Td(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];vr(d,!1);const h=u[11].createComment("");bd(c,u,h,d),$t(h,u),Ad(u,u[l]=GA(h,u,h,d)),Yl(d)&&hm(c,u,d),null!=o&&fm(u,d,a)}function E(n,e=K.Default){const t=I();return null===t?V(n,e):fT(at(),t,ee(n),e)}function Nm(){throw new Error("invalid")}function tt(n,e,t){const r=I();return Ht(r,_o(),e)&&kn(pe(),je(),r,n,e,r[11],t,!1),tt}function Om(n,e,t,r,i){const o=i?"class":"style";YA(n,t,e.inputs[o],o,r)}function P(n,e,t,r){const i=I(),s=pe(),o=20+n,a=i[11],u=i[o]=Wg(a,e,function rj(){return W.lFrame.currentNamespace}()),c=s.firstCreatePass?function KG(n,e,t,r,i,s,o){const a=e.consts,c=ko(e,n,2,i,Di(a,s));return pm(e,t,c,Di(a,o)),null!==c.attrs&&Sd(c,c.attrs,!1),null!==c.mergedAttrs&&Sd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];vr(c,!0);const l=c.mergedAttrs;null!==l&&sd(a,u,l);const d=c.classes;null!==d&&Xg(a,u,d);const h=c.styles;return null!==h&&fA(a,u,h),64!=(64&c.flags)&&bd(s,i,u,c),0===function jB(){return W.lFrame.elementDepthCount}()&&$t(u,i),function $B(){W.lFrame.elementDepthCount++}(),Yl(c)&&(hm(s,i,c),RA(s,c,i)),null!==r&&fm(i,c),P}function O(){let n=at();fg()?pg():(n=n.parent,vr(n,!1));const e=n;!function HB(){W.lFrame.elementDepthCount--}();const t=pe();return t.firstCreatePass&&(nd(t,n),rg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function uj(n){return 0!=(16&n.flags)}(e)&&Om(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cj(n){return 0!=(32&n.flags)}(e)&&Om(t,e,I(),e.stylesWithoutHost,!1),O}function re(n,e,t,r){return P(n,e,t,r),O(),re}function Rd(n,e,t){const r=I(),i=pe(),s=n+20,o=i.firstCreatePass?function QG(n,e,t,r,i){const s=e.consts,o=Di(s,r),a=ko(e,n,8,"ng-container",o);return null!==o&&Sd(a,o,!0),pm(e,t,a,Di(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];vr(o,!0);const a=r[s]=r[11].createComment("");return bd(i,r,a,o),$t(a,r),Yl(o)&&(hm(i,r,o),RA(i,o,r)),null!=t&&fm(r,o),Rd}function Nd(){let n=at();const e=pe();return fg()?pg():(n=n.parent,vr(n,!1)),e.firstCreatePass&&(nd(e,n),rg(n)&&e.queries.elementEnd(n)),Nd}function Fu(n){return!!n&&"function"==typeof n.then}const Pm=function FS(n){return!!n&&"function"==typeof n.subscribe};function nt(n,e,t,r){const i=I(),s=pe(),o=at();return function VS(n,e,t,r,i,s,o,a){const u=Yl(r),l=n.firstCreatePass&&WA(n),d=e[8],h=zA(e);let f=!0;if(3&r.type||a){const y=Bn(r,e),b=a?a(y):y,_=h.length,D=a?R=>a(Xe(R[r.index])):r.index;if(Be(t)){let R=null;if(!a&&u&&(R=function YG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=Fm(r,e,d,s,!1);const N=t.listen(b,i,s);h.push(s,N),l&&l.push(i,D,_,_+1)}}else s=Fm(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),l&&l.push(i,D,_,o)}else s=Fm(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const y=m.length;if(y)for(let b=0;b<y;b+=2){const $=e[m[b]][m[b+1]].subscribe(s),Ie=h.length;h.push(s,$),l&&l.push(i,r.index,Ie,-(Ie+1))}}}(s,i,i[11],o,n,e,!!t,r),nt}function US(n,e,t,r){try{return!1!==t(r)}catch(i){return QA(n,i),!1}}function Fm(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Sn(n.index,e):e;0==(32&e[2])&&ym(a);let u=US(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=US(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Zr(n=1){return function ZB(n){return(W.lFrame.contextLView=function JB(n,e){for(;n>0;)e=e[15],n--;return e}(n,W.lFrame.contextLView))[8]}(n)}function Lm(n,e,t){return ps(n,"",e,"",t),Lm}function ps(n,e,t,r,i){const s=I(),o=Vo(s,e,t,r);return o!==J&&kn(pe(),je(),s,n,o,s[11],i,!1),ps}function KS(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ir(s):Qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];nq(n[a],e)&&(u=!0,n[a+1]=r?nm(l):em(l)),a=r?ir(l):Qr(l)}u&&(n[t+1]=r?em(s):nm(s))}function nq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&To(n,e)>=0}const lt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QS(n){return n.substring(lt.key,lt.keyEnd)}function rq(n){return n.substring(lt.value,lt.valueEnd)}function YS(n,e){const t=lt.textEnd;return t===e?-1:(e=lt.keyEnd=function oq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,lt.key=e,t),Wo(n,e,t))}function ZS(n,e){const t=lt.textEnd;let r=lt.key=Wo(n,e,t);return t===r?-1:(r=lt.keyEnd=function aq(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=XS(n,r,t),r=lt.value=Wo(n,r,t),r=lt.valueEnd=function uq(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const u=n.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=ex(n,u,o,t):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=ex(n,41,o,t):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(n,r,t),XS(n,r,t))}function JS(n){lt.key=0,lt.keyEnd=0,lt.value=0,lt.valueEnd=0,lt.textEnd=n.length}function Wo(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function XS(n,e,t,r){return(e=Wo(n,e,t))<t&&e++,e}function ex(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function Od(n,e){return function or(n,e,t,r){const i=I(),s=pe(),o=Kr(2);s.firstUpdatePass&&rx(s,n,o,r),e!==J&&Ht(i,o,e)&&sx(s,s.data[tn()],i,i[11],n,i[o+1]=function yq(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ve(Si(n)))),n}(e,t),r,o)}(n,e,null,!0),Od}function cq(n,e){for(let t=function sq(n){return JS(n),ZS(n,Wo(n,0,lt.textEnd))}(e);t>=0;t=ZS(e,t))ix(n,QS(e),rq(e))}function Ar(n,e){for(let t=function iq(n){return JS(n),YS(n,Wo(n,0,lt.textEnd))}(e);t>=0;t=YS(e,t))xn(n,QS(e),!0)}function ar(n,e,t,r){const i=pe(),s=Kr(2);i.firstUpdatePass&&rx(i,null,s,r);const o=I();if(t!==J&&Ht(o,s,t)){const a=i.data[tn()];if(ax(a,r)&&!nx(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Kp(u,t||"")),Om(i,a,o,t,r)}else!function mq(n,e,t,r,i,s,o,a){i===J&&(i=De);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&sx(n,e,t,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function gq(n,e,t){if(null==t||""===t)return De;const r=[],i=Si(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function nx(n,e){return e>=n.expandoStartIndex}function rx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[tn()],o=nx(n,t);ax(s,r)&&null===e&&!o&&(e=!1),e=function dq(n,e,t,r){const i=function mg(n){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Lu(t=Vm(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Vm(i,n,e,t,r),null===s){let u=function hq(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Qr(r))return n[ir(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Vm(null,n,e,u[1],r),u=Lu(u,e.attrs,r),function fq(n,e,t,r){n[ir(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function pq(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Lu(r,n[s].hostAttrs,t);return Lu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function eq(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ir(o),u=Qr(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||To(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=ir(n[a+1]);n[r+1]=Id(h,a),0!==h&&(n[h+1]=tm(n[h+1],r)),n[a+1]=function dH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Id(a,0),0!==a&&(n[a+1]=tm(n[a+1],r)),a=r;else n[r+1]=Id(u,0),0===a?a=r:n[u+1]=tm(n[u+1],r),u=r;c&&(n[r+1]=em(n[r+1])),KS(n,l,r,!0),KS(n,l,r,!1),function tq(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&To(s,e)>=0&&(t[r+1]=nm(t[r+1]))}(e,l,n,r,s),o=Id(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Vm(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Lu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Lu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xn(n,o,!!t||e[++s]))}return void 0===n?null:n}function ix(n,e,t){xn(n,e,Si(t))}function sx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];Pd(function EA(n){return 1==(1&n)}(c)?ox(u,e,t,i,Qr(c),o):void 0)||(Pd(s)||function bA(n){return 2==(2&n)}(c)&&(s=ox(u,null,t,i,a,o)),function X$(n,e,t,r,i){const s=Be(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Mn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Mn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Zl(tn(),t),i,s))}function ox(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===J&&(h=d?De:void 0);let f=d?Ag(h,r):l===r?h:void 0;if(c&&!Pd(f)&&(f=Ag(u,r)),Pd(f)&&(a=f,o))return a;const p=n[i+1];i=o?ir(p):Qr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ag(u,r))}return a}function Pd(n){return void 0!==n}function ax(n,e){return 0!=(n.flags&(e?16:32))}function U(n,e=""){const t=I(),r=pe(),i=n+20,s=r.firstCreatePass?ko(r,i,1,e,null):r.data[i],o=t[i]=function zg(n,e){return Be(n)?n.createText(e):n.createTextNode(e)}(t[11],e);bd(r,t,o,s),vr(s,!1)}function ur(n){return Hn("",n,""),ur}function Hn(n,e,t){const r=I(),i=Vo(r,n,e,t);return i!==J&&Yr(r,tn(),i),Hn}function Gn(n,e,t){ar(xn,Ar,Vo(I(),n,e,t),!0)}function mx(n,e,t){!function Tr(n){ar(ix,cq,n,!1)}(Vo(I(),n,e,t))}const Fd="en-US";let Mx=Fd;function jm(n,e,t,r,i){if(n=ee(n),Array.isArray(n))for(let s=0;s<n.length;s++)jm(n[s],e,t,r,i);else{const s=pe(),o=I();let a=Po(n)?n:ee(n.provide),u=tS(n);const c=at(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Po(n)||!n.multi){const f=new lu(u,i,E),p=Hm(a,e,i?l:l+h,d);-1===p?(cd(hu(c,o),s,a),$m(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Hm(a,e,l+h,d),p=Hm(a,e,l,l+h),m=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!m){cd(hu(c,o),s,a);const b=function O3(n,e,t,r,i){const s=new lu(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,eM(s,i,r&&!t),s}(i?N3:R3,t.length,i,r,u);!i&&y&&(t[p].providerFactory=b),$m(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else $m(s,n,f>-1?f:p,eM(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function $m(n,e,t,r){const i=Po(e),s=function iG(n){return!!n.useClass}(e);if(i||s){const u=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function eM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function R3(n,e,t,r){return Gm(this.multi,[])}function N3(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=fu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Gm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Gm(i,s);return s}function Gm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Oe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function k3(n,e,t){const r=pe();if(r.firstCreatePass){const i=nr(n);jm(t,r.data,r.blueprint,i,!0),jm(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class tM{}class L3{resolveComponentFactory(e){throw function F3(n){const e=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let $u=(()=>{class n{}return n.NULL=new L3,n})();function V3(){return Yo(at(),I())}function Yo(n,e){return new sn(Bn(n,e))}let sn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=V3,n})();class rM{}let cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function j3(){const n=I(),t=Sn(at().index,n);return function B3(n){return n[11]}(_r(t)?t:n)}(),n})(),$3=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null}),n})();class Zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iM=new Zo("13.2.7"),qm={};function jd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Xe(s)),tr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&jd(u[1],u,c,r)}const o=t.type;if(8&o)jd(n,e,t.child,r);else if(32&o){const a=Hg(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=lA(e,t);if(Array.isArray(a))r.push(...a);else{const u=Su(e[16]);jd(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Hu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return jd(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(tr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Kg(e,r),dd(t,r))}this._attachedToViewContainer=!1}tA(this._lView[1],this._lView)}onDestroy(e){!function FA(n,e,t,r){const i=zA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&WA(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function WH(n,e,t){Xl(!0);try{vm(n,e,t)}finally{Xl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function H$(n,e){xu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new fe(902,"");this._appRef=e}}class H3 extends Hu{constructor(e){super(e),this._view=e}detectChanges(){qA(this._view)}checkNoChanges(){!function KH(n){Xl(!0);try{qA(n)}finally{Xl(!1)}}(this._view)}get context(){return null}}class sM extends $u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ut(e);return new zm(t,this.ngModule)}}function oM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class zm extends tM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function cH(n){return n.map(uH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return oM(this.componentDef.inputs)}get outputs(){return oM(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function q3(n,e){return{get:(t,r,i)=>{const s=n.get(t,qm,i);return s!==qm||r===qm?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(rM,z0),a=s.get($3,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function PA(n,e,t){if(Be(n))return n.selectRootElement(e,t===yr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Wg(o.createRenderer(null,this.componentDef),c,function G3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function fS(n,e){return{components:[],scheduler:n||P$,clean:QH,playerHandler:e||null,flags:0}}(),f=Td(0,null,null,1,0,null,null,null,null,null),p=Mu(null,f,h,d,null,null,o,u,a,s);let m,y;ed(p);try{const b=function dS(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=ko(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Sd(u,c,!0),null!==n&&(sd(i,n,c),null!==u.classes&&Xg(i,n,u.classes),null!==u.styles&&fA(i,n,u.styles)));const l=r.createRenderer(n,e),d=Mu(t,NA(e),null,e.onPush?64:16,t[20],u,r,l,s||null,null);return o.firstCreatePass&&(cd(hu(u,t),o,e.type),jA(o,u),$A(u,t.length,1)),Ad(t,d),t[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)sd(u,l,["ng-version",iM.full]);else{const{attrs:_,classes:D}=function lH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!rr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&sd(u,l,_),D&&D.length>0&&Xg(u,l,D.join(" "))}if(y=lg(f,20),void 0!==t){const _=y.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const R=t[D];_.push(null!=R?Array.from(R):null)}}m=function hS(n,e,t,r,i){const s=t[1],o=function kH(n,e,t){const r=at();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),HA(n,r,e,Ro(n,e,1,null),t));const i=fu(e,n,r.directiveStart,r);$t(i,e);const s=Bn(r,e);return s&&$t(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=at();e.contentQueries(1,o,u.directiveStart)}const a=at();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ti(a.index),UA(t[1],a,0,a.directiveStart,a.directiveEnd,e),BA(e,o)),o}(b,this.componentDef,p,h,[gG]),ku(f,p,null)}finally{td()}return new W3(this.componentType,m,Yo(y,p),p,y)}}class W3 extends class P3{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new H3(i),this.componentType=e}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Jr{}class aM{}const Jo=new Map;class lM extends Jr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sM(this);const r=Fn(e);this._bootstrapComponents=Er(r.bootstrap),this._r3Injector=eS(e,t,[{provide:Jr,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=wt.THROW_IF_NOT_FOUND,r=K.Default){return e===wt||e===Jr||e===bm?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Wm extends aM{constructor(e){super(),this.moduleType=e,null!==Fn(e)&&function Q3(n){const e=new Set;!function t(r){const i=Fn(r,!0),s=i.id;null!==s&&(function uM(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ve(e)} vs ${ve(e.name)}`)}(s,Jo.get(s),r),Jo.set(s,r));const o=Er(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new lM(this.moduleType,e)}}function Xo(n,e,t){const r=function en(){const n=W.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=I();return i[r]===J?function Cr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function Ou(n,e){return n[e]}(i,r)}function Km(n){return e=>{setTimeout(n,void 0,e)}}const Le=class hz extends $r{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Km(u),a&&(a=Km(a)),c&&(c=Km(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Cn&&e.add(l),l}};Symbol;let Xr=(()=>{class n{}return n.__NG_ELEMENT_ID__=mz,n})();const pz=Xr,gz=class extends pz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Mu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),ku(t,r,e),new Hu(r)}};function mz(){return function $d(n,e){return 4&n.type?new gz(e,n,Yo(n,e)):null}(at(),I())}let lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=yz,n})();function yz(){return function _M(n,e){let t;const r=e[n.index];if(tr(r))t=r;else{let i;if(8&n.type)i=Xe(r);else{const s=e[11];i=s.createComment("");const o=Bn(n,e);hs(s,wd(s,o),i,function Y$(n,e){return Be(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=GA(r,e,i,n),Ad(e,t)}return new mM(t,n,e)}(at(),I())}const _z=lr,mM=class extends _z{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Yo(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const e=ud(this._hostTNode,this._hostLView);if(uT(e)){const t=wo(e,this._hostLView),r=vo(e);return new bo(t[1].data[r+8],t)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=yM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function mu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new zm(Ut(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Jr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function BB(n){return tr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new mM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function q$(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],_T(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function z$(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Zg(s,o),u=r[11],c=wd(u,o[7]);return null!==c&&function $$(n,e,t,r,i,s){r[0]=i,r[6]=e,xu(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),_T(Ym(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=yM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Kg(this._lContainer,t);r&&(dd(Ym(this._lContainer),t),tA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Kg(this._lContainer,t);return r&&null!=dd(Ym(this._lContainer),t)?new Hu(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function yM(n){return n[8]}function Ym(n){return n[8]||(n[8]=[])}function qd(...n){}const ly=new ne("Application Initializer");let dy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=qd,this.reject=qd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Fu(s))t.push(s);else if(Pm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(V(ly,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wu=new ne("AppId",{providedIn:"root",factory:function BM(){return`${hy()}${hy()}${hy()}`}});function hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jM=new ne("Platform Initializer"),Ku=new ne("Platform ID"),$M=new ne("appBootstrapListener");let HM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Ri=new ne("LocaleId",{providedIn:"root",factory:()=>Rj(Ri,K.Optional|K.SkipSelf)||function qz(){return"undefined"!=typeof $localize&&$localize.locale||Fd}()});class Wz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let GM=(()=>{class n{compileModuleSync(t){return new Wm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Er(Fn(t).declarations).reduce((o,a)=>{const u=Ut(a);return u&&o.push(new zm(u)),o},[]);return new Wz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qz=(()=>Promise.resolve(0))();function fy(n){"undefined"==typeof Zone?Qz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Yz(){let n=be.requestAnimationFrame,e=be.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Xz(n){const e=()=>{!function Jz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(be,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gy(n),n.isCheckStableRunning=!0,py(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return qM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),zM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return qM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),zM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,gy(n),py(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Zz,qd,qd);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Zz={};function py(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zM(n){n._nesting--,py(n)}class eW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let my=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),fy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(V(Ke))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),WM=(()=>{class n{constructor(){this._applications=new Map,yy.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return yy.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class tW{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let dr,yy=new tW;const KM=new ne("AllowMultipleToken");class QM{constructor(e,t){this.name=e,this.token=t}}function YM(n,e,t=[]){const r=`Platform: ${e}`,i=new ne(r);return(s=[])=>{let o=ZM();if(!o||o.injector.get(KM,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Em,useValue:"platform"});!function sW(n){if(dr&&!dr.destroyed&&!dr.injector.get(KM,!1))throw new fe(400,"");dr=n.get(JM);const e=n.get(jM,null);e&&e.forEach(t=>t())}(wt.create({providers:a,name:r}))}return function oW(n){const e=ZM();if(!e)throw new fe(401,"");return e}()}}function ZM(){return dr&&!dr.destroyed?dr:null}let JM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function aW(n,e){let t;return t="noop"===n?new eW:("zone.js"===n?void 0:n)||new Ke({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ke,useValue:a}];return a.run(()=>{const c=wt.create({providers:u,parent:this.injector,name:t.moduleType.name}),l=t.create(c),d=l.injector.get(Au,null);if(!d)throw new fe(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{vy(this._modules,l),h.unsubscribe()})}),function uW(n,e,t){try{const r=t();return Fu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(dy);return h.runInitializers(),h.donePromise.then(()=>(function Bq(n){Tn(n,"Expected localeId to be defined"),"string"==typeof n&&(Mx=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ri,Fd)||Fd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,r=[]){const i=XM({},r);return function rW(n,e,t){const r=new Wm(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(_y);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new fe(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(V(wt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function XM(n,e){return Array.isArray(e)?e.reduce(XM,n):Object.assign(Object.assign({},n),e)}let _y=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Re(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Re(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),fy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function sB(...n){const e=ru(n),t=function JU(n,e){return"number"==typeof qp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Jn(r[0]):nu(t)(xt(r,e)):Gr}(a,u.pipe(function oB(n={}){const{connector:e=(()=>new $r),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return St((m,y)=>{c++,!d&&!l&&h();const b=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=zp(p,i))}),b.subscribe(y),!o&&c>0&&(o=new tu({next:_=>b.next(_),error:_=>{d=!0,h(),a=zp(f,t,_),b.error(_)},complete:()=>{l=!0,h(),a=zp(f,r),b.complete()}}),Jn(m).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new fe(405,"");let i;i=t instanceof tM?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function iW(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Jr),a=i.create(wt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(my,null),l=c&&a.injector.get(WM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),vy(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new fe(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;vy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($M,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(V(Ke),V(wt),V(Au),V($u),V(dy))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let zd=(()=>{class n{}return n.__NG_ELEMENT_ID__=dW,n})();function dW(n){return function hW(n,e,t){if(Ql(n)&&!t){const r=Sn(n.index,e);return new Hu(r,r)}return 47&n.type?new Hu(e[16],e):null}(at(),I(),16==(16&n))}class o1{constructor(){}supports(e){return Nu(e)}create(e){return new _W(e)}}const yW=(n,e)=>e;class _W{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<u1(r,i,s)?t:r,a=u1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Nu(e))throw new fe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function DG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Fo()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new vW(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new a1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class a1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new wW,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function l1(){return new Qd([new o1])}let Qd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||l1()),deps:[[n,new bu,new ct]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new fe(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:l1}),n})();const DW=YM(null,"core",[{provide:Ku,useValue:"unknown"},{provide:JM,deps:[wt]},{provide:WM,deps:[]},{provide:HM,deps:[]}]);let TW=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(V(_y))},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({}),n})(),Yd=null;function Sr(){return Yd}const qn=new ne("DocumentToken");let ys=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:function(){return function MW(){return V(h1)}()},providedIn:"platform"}),n})();const kW=new ne("Location Initialized");let h1=(()=>{class n extends ys{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(t){const r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){f1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){f1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(V(qn))},n.\u0275prov=oe({token:n,factory:function(){return function RW(){return new h1(V(qn))}()},providedIn:"platform"}),n})();function f1(){return!!window.history.pushState}function Cy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function p1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ei(n){return n&&"?"!==n[0]?"?"+n:n}let ta=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:function(){return function NW(n){const e=V(qn).location;return new g1(V(ys),e&&e.origin||"")}()},providedIn:"root"}),n})();const Dy=new ne("appBaseHref");let g1=(()=>{class n extends ta{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ei(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ei(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(V(ys),V(Dy,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),OW=(()=>{class n extends ta{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Cy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(V(ys),V(Dy,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Ty=(()=>{class n{constructor(t,r){this._subject=new Le,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=p1(m1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ei(r))}normalize(t){return n.stripTrailingSlash(function FW(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,m1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ei(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ei(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ei,n.joinWithSlash=Cy,n.stripTrailingSlash=p1,n.\u0275fac=function(t){return new(t||n)(V(ta),V(ys))},n.\u0275prov=oe({token:n,factory:function(){return function PW(){return new Ty(V(ta),V(ys))}()},providedIn:"root"}),n})();function m1(n){return n.replace(/\/index.html$/,"")}class E4{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oh=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new E4(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),D1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{D1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(lr),E(Xr),E(Qd))},n.\u0275dir=H({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function D1(n,e){n.context.$implicit=e.item}let T1=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new I4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){A1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){A1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(lr),E(Xr))},n.\u0275dir=H({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class I4{constructor(){this.$implicit=null,this.ngIf=null}}function A1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ve(e)}'.`)}let Y4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({}),n})();let e8=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new t8(V(qn),window)}),n})();class t8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function n8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=k1(this.window.history)||k1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function k1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class By extends class i8 extends class xW{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function SW(n){Yd||(Yd=n)}(new By)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function s8(){return Ju=Ju||document.querySelector("base"),Ju?Ju.getAttribute("href"):null}();return null==t?null:function o8(n){ah=ah||document.createElement("a"),ah.setAttribute("href",n);const e=ah.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function v4(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ah,Ju=null;const R1=new ne("TRANSITION_ID"),u8=[{provide:ly,useFactory:function a8(n,e,t){return()=>{t.get(dy).donePromise.then(()=>{const r=Sr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[R1,qn,wt],multi:!0}];class jy{static init(){!function nW(n){yy=n}(new jy)}addToWindow(e){be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Sr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let c8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const uh=new ne("EventManagerPlugins");let ch=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(V(uh),V(Ke))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class N1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Sr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let O1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Xu=(()=>{class n extends O1{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(P1),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(P1))}}return n.\u0275fac=function(t){return new(t||n)(V(qn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function P1(n){Sr().remove(n)}const $y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hy=/%COMP%/g;function lh(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?lh(n,i,t):(i=i.replace(Hy,n),t.push(i))}return t}function V1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gy=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case yr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new g8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case yr.ShadowDom:return new m8(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=lh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(V(ch),V(Xu),V(Wu))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class qy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($y[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=$y[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$y[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(t,r,i&Mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,V1(r)):this.eventManager.addEventListener(e,t,V1(r))}}class g8 extends qy{constructor(e,t,r,i){super(e),this.component=r;const s=lh(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function h8(n){return"_ngcontent-%COMP%".replace(Hy,n)}(i+"-"+r.id),this.hostAttr=function f8(n){return"_nghost-%COMP%".replace(Hy,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class m8 extends qy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=lh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let y8=(()=>{class n extends N1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(V(qn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const B1=["alt","control","meta","shift"],v8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},w8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let b8=(()=>{class n extends N1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(B1.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function E8(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&j1.hasOwnProperty(e)&&(e=j1[e]))}return v8[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),B1.forEach(s=>{s!=i&&w8[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(V(qn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const T8=YM(DW,"browser",[{provide:Ku,useValue:"browser"},{provide:jM,useValue:function I8(){By.makeCurrent(),jy.init()},multi:!0},{provide:qn,useFactory:function D8(){return function FB(n){ug=n}(document),document},deps:[]}]),A8=[{provide:Em,useValue:"root"},{provide:Au,useFactory:function C8(){return new Au},deps:[]},{provide:uh,useClass:y8,multi:!0,deps:[qn,Ke,Ku]},{provide:uh,useClass:b8,multi:!0,deps:[qn]},{provide:Gy,useClass:Gy,deps:[ch,Xu,Wu]},{provide:rM,useExisting:Gy},{provide:O1,useExisting:Xu},{provide:Xu,useClass:Xu,deps:[qn]},{provide:my,useClass:my,deps:[Ke]},{provide:ch,useClass:ch,deps:[uh,Ke]},{provide:class r8{},useClass:c8,deps:[]}];let S8=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Wu,useValue:t.appId},{provide:R1,useExisting:Wu},u8]}}}return n.\u0275fac=function(t){return new(t||n)(V(n,12))},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({providers:A8,imports:[Y4,TW]}),n})();function se(...n){return xt(n,ru(n))}"undefined"!=typeof window&&window;class pr extends $r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:U8}=Array,{getPrototypeOf:B8,prototype:j8,keys:$8}=Object;function G1(n){if(1===n.length){const e=n[0];if(U8(e))return{args:e,keys:null};if(function H8(n){return n&&"object"==typeof n&&B8(n)===j8}(e)){const t=$8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:G8}=Array;function q1(n){return _e(e=>function q8(n,e){return G8(e)?n(...e):n(e)}(n,e))}function z1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function W1(n,e,t){n?Hr(t,n,e):e()}function dh(n,e){const t=le(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}const hh=mt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Wy(...n){return function K8(){return nu(1)}()(xt(n,ru(n)))}function K1(n){return new Re(e=>{Jn(n()).subscribe(e)})}function Q1(){return St((n,e)=>{let t=null;n._refCount++;const r=yt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Q8 extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,g0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Cn;const t=this.getSubject();e.add(this.source.subscribe(yt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Cn.EMPTY)}return e}refCount(){return Q1()(this)}}function _s(n,e){return St((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(yt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Jn(n(u,l)).subscribe(i=yt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fh(n){return n<=0?()=>Gr:St((e,t)=>{let r=0;e.subscribe(yt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Z8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(yt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Y1(n,e){return St(Z8(n,e,arguments.length>=2,!0))}function na(n,e){return St((t,r)=>{let i=0;t.subscribe(yt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Oi(n){return St((e,t)=>{let s,r=null,i=!1;r=e.subscribe(yt(t,void 0,void 0,o=>{s=Jn(n(o,Oi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ec(n,e){return le(e)?_t(n,e,1):_t(n,1)}function Ky(n){return n<=0?()=>Gr:St((e,t)=>{let r=[];e.subscribe(yt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Z1(n=J8){return St((e,t)=>{let r=!1;e.subscribe(yt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function J8(){return new hh}function J1(n){return St((e,t)=>{let r=!1;e.subscribe(yt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ra(n,e){const t=arguments.length>=2;return r=>r.pipe(n?na((i,s)=>n(i,s,r)):ss,fh(1),t?J1(e):Z1(()=>new hh))}function yn(n,e,t){const r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(yt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ss}class ni{constructor(e,t){this.id=e,this.url=t}}class Qy extends ni{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tc extends ni{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class X1 extends ni{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class t6 extends ni{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n6 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r6 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i6 extends ni{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s6 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o6 extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ek{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tk{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class a6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nk{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class d6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ia(n){return new d6(n)}const rk="ngNavigationCancelingError";function Yy(n){const e=Error("NavigationCancelingError: "+n);return e[rk]=!0,e}function f6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ik(n[i],e[i]))return!1;return!0}function ik(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function sk(n){return Array.prototype.concat.apply([],n)}function ok(n){return n.length>0?n[n.length-1]:null}function Mt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Mr(n){return Pm(n)?n:Fu(n)?xt(Promise.resolve(n)):se(n)}const m6={exact:function ck(n,e,t){if(!ws(n.segments,e.segments)||!ph(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ck(n.children[r],e.children[r],t))return!1;return!0},subset:lk},ak={exact:function y6(n,e){return xr(n,e)},subset:function _6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ik(n[t],e[t]))},ignored:()=>!0};function uk(n,e,t){return m6[t.paths](n.root,e.root,t.matrixParams)&&ak[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lk(n,e,t){return dk(n,e,e.segments,t)}function dk(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ws(i,t)||e.hasChildren()||!ph(i,t,r))}if(n.segments.length===t.length){if(!ws(n.segments,t)||!ph(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!lk(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ws(n.segments,i)&&ph(n.segments,i,r)&&n.children[ue])&&dk(n.children[ue],e,s,r)}}function ph(n,e,t){return e.every((r,i)=>ak[t](n[i].parameters,r.parameters))}class vs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ia(this.queryParams)),this._queryParamMap}toString(){return b6.serialize(this)}}class de{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gh(this)}}class nc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ia(this.parameters)),this._parameterMap}toString(){return mk(this)}}function ws(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class hk{}class fk{parse(e){const t=new M6(e);return new vs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rc(e.root,!0)}`,r=function C6(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${mh(t)}=${mh(i)}`).join("&"):`${mh(t)}=${mh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function E6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const b6=new fk;function gh(n){return n.segments.map(e=>mk(e)).join("/")}function rc(n,e){if(!n.hasChildren())return gh(n);if(e){const t=n.children[ue]?rc(n.children[ue],!1):"",r=[];return Mt(n.children,(i,s)=>{s!==ue&&r.push(`${s}:${rc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function w6(n,e){let t=[];return Mt(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),Mt(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[rc(n.children[ue],!1)]:[`${i}:${rc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${gh(n)}/${t[0]}`:`${gh(n)}/(${t.join("//")})`}}function pk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mh(n){return pk(n).replace(/%3B/gi,";")}function Zy(n){return pk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yh(n){return decodeURIComponent(n)}function gk(n){return yh(n.replace(/\+/g,"%20"))}function mk(n){return`${Zy(n.path)}${function I6(n){return Object.keys(n).map(e=>`;${Zy(e)}=${Zy(n[e])}`).join("")}(n.parameters)}`}const D6=/^[^\/()?;=#]+/;function _h(n){const e=n.match(D6);return e?e[0]:""}const T6=/^[^=?&#]+/,S6=/^[^&#]+/;class M6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new de(e,t)),r}parseSegment(){const e=_h(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new nc(yh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_h(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=_h(this.remaining);i&&(r=i,this.capture(r))}e[yh(t)]=yh(r)}parseQueryParam(e){const t=function A6(n){const e=n.match(T6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function x6(n){const e=n.match(S6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=gk(t),s=gk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_h(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ue]:new de([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class yk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Jy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Jy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xy(e,this._root).map(t=>t.value)}}function Jy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Jy(n,t);if(r)return r}return null}function Xy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Xy(n,t);if(r.length)return r.unshift(e),r}return[]}class ri{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function sa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _k extends yk{constructor(e,t){super(e),this.snapshot=t,e_(this,e)}toString(){return this.snapshot.toString()}}function vk(n,e){const t=function k6(n,e){const o=new vh([],{},{},"",{},ue,e,null,n.root,-1,{});return new bk("",new ri(o,[]))}(n,e),r=new pr([new nc("",{})]),i=new pr({}),s=new pr({}),o=new pr({}),a=new pr(""),u=new oa(r,i,o,a,s,ue,e,t.root);return u.snapshot=t.root,new _k(new ri(u,[]),t)}class oa{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>ia(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>ia(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wk(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function R6(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vh{constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ia(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ia(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bk extends yk{constructor(e,t){super(t),this.url=e,e_(this,t)}toString(){return Ek(this._root)}}function e_(n,e){e.value._routerState=n,e.children.forEach(t=>e_(n,t))}function Ek(n){const e=n.children.length>0?` { ${n.children.map(Ek).join(", ")} } `:"";return`${n.value}${e}`}function t_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xr(e.params,t.params)||n.params.next(t.params),function p6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function n_(n,e){const t=xr(n.params,e.params)&&function v6(n,e){return ws(n,e)&&n.every((t,r)=>xr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||n_(n.parent,e.parent))}function ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function O6(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ic(n,r,i);return ic(n,r)})}(n,e,t);return new ri(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ic(n,a)),o}}const r=function P6(n){return new oa(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ic(n,s));return new ri(r,i)}}function wh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sc(n){return"object"==typeof n&&null!=n&&n.outlets}function r_(n,e,t,r,i){let s={};if(r&&Mt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new vs(t,s,i);const o=Ik(n,e,t);return new vs(o,s,i)}function Ik(n,e,t){const r={};return Mt(n.children,(i,s)=>{r[s]=i===e?t:Ik(i,e,t)}),new de(n.segments,r)}class Ck{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(sc);if(i&&i!==ok(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class i_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Dk(n,e,t){if(n||(n=new de([],{})),0===n.segments.length&&n.hasChildren())return bh(n,e,t);const r=function j6(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(sc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ak(u,c,o))return s;r+=2}else{if(!Ak(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new de(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new de(n.segments.slice(r.pathIndex),n.children),bh(s,0,i)}return r.match&&0===i.length?new de(n.segments,{}):r.match&&!n.hasChildren()?s_(n,e,t):r.match?bh(n,0,i):s_(n,e,t)}function bh(n,e,t){if(0===t.length)return new de(n.segments,{});{const r=function B6(n){return sc(n[0])?n[0].outlets:{[ue]:n}}(t),i={};return Mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Dk(n.children[o],e,s))}),Mt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(n.segments,i)}}function s_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(sc(s)){const u=$6(s.outlets);return new de(r,u)}if(0===i&&wh(t[0])){r.push(new nc(n.segments[e].path,Tk(t[0]))),i++;continue}const o=sc(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&wh(a)?(r.push(new nc(o,Tk(a))),i+=2):(r.push(new nc(o,{})),i++)}return new de(r,{})}function $6(n){const e={};return Mt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=s_(new de([],{}),0,t))}),e}function Tk(n){const e={};return Mt(n,(t,r)=>e[r]=`${t}`),e}function Ak(n,e,t){return n==t.path&&xr(e,t.parameters)}class G6{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),t_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=sa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=sa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new l6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new u6(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(t_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),t_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function q6(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class o_{constructor(e,t){this.routes=e,this.module=t}}function Pi(n){return"function"==typeof n}function bs(n){return n instanceof vs}const oc=Symbol("INITIAL_VALUE");function ac(){return _s(n=>function z8(...n){const e=ru(n),t=M0(n),{args:r,keys:i}=G1(n);if(0===r.length)return xt([],e);const s=new Re(function W8(n,e,t=ss){return r=>{W1(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)W1(e,()=>{const c=xt(n[u],e);let l=!1;c.subscribe(yt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>z1(i,o):ss));return t?s.pipe(q1(t)):s}(n.map(e=>e.pipe(fh(1),function Y8(...n){const e=ru(n);return St((t,r)=>{(e?Wy(n,t,e):Wy(n,t)).subscribe(r)})}(oc)))).pipe(Y1((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==oc?i:(s===oc&&(r=!0),r||!1!==s&&o!==t.length-1&&!bs(s)?i:s),e)},oc),na(e=>e!==oc),_e(e=>bs(e)?e:!0===e),fh(1)))}class Z6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new uc,this.attachRef=null}}class uc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Z6,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let a_=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.name=s||ue,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new J6(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(E(uc),E(lr),E($u),pu("name"),E(zd))},n.\u0275dir=H({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class J6{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===oa?this.route:e===uc?this.childContexts:this.parent.get(e,t)}}let Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ii({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&re(0,"router-outlet")},directives:[a_],encapsulation:2}),n})();function xk(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];X6(r,e7(e,r))}}function X6(n,e){n.children&&xk(n.children,e)}function e7(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function u_(n){const e=n.children&&n.children.map(u_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Sk),t}function Kn(n){return n.outlet||ue}function Mk(n,e){const t=n.filter(r=>Kn(r)===e);return t.push(...n.filter(r=>Kn(r)!==e)),t}const kk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},kk):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||f6)(t,n,e);if(!s)return Object.assign({},kk);const o={};Mt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Ih(n,e,t,r,i="corrected"){if(t.length>0&&function r7(n,e,t){return t.some(r=>Ch(n,e,r)&&Kn(r)!==ue)}(n,t,r)){const o=new de(e,function n7(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Kn(s)!==ue){const o=new de([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Kn(s)]=o}return i}(n,e,r,new de(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function i7(n,e,t){return t.some(r=>Ch(n,e,r))}(n,t,r)){const o=new de(n.segments,function t7(n,e,t,r,i,s){const o={};for(const a of r)if(Ch(n,t,a)&&!i[Kn(a)]){const u=new de([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Kn(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new de(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Ch(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rk(n,e,t,r){return!!(Kn(n)===r||r!==ue&&Ch(e,t,n))&&("**"===n.path||Eh(e,n,t).matched)}function Nk(n,e,t){return 0===e.length&&!n.children[t]}class Dh{constructor(e){this.segmentGroup=e||null}}class Ok{constructor(e){this.urlTree=e}}function cc(n){return dh(new Dh(n))}function Pk(n){return dh(new Ok(n))}class u7{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Jr)}apply(){const e=Ih(this.urlTree.root,[],[],this.config).segmentGroup,t=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ue).pipe(_e(s=>this.createUrlTree(c_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oi(s=>{if(s instanceof Ok)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Dh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ue).pipe(_e(i=>this.createUrlTree(c_(i),e.queryParams,e.fragment))).pipe(Oi(i=>{throw i instanceof Dh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new de([],{[ue]:e}):e;return new vs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(_e(s=>new de([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return xt(i).pipe(ec(s=>{const o=r.children[s],a=Mk(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(_e(u=>({segment:u,outlet:s})))}),Y1((s,o)=>(s[o.outlet]=o.segment,s),{}),function X8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?na((i,s)=>n(i,s,r)):ss,Ky(1),t?J1(e):Z1(()=>new hh))}())}expandSegment(e,t,r,i,s,o){return xt(r).pipe(ec(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Oi(c=>{if(c instanceof Dh)return se(null);throw c}))),ra(a=>!!a),Oi((a,u)=>{if(a instanceof hh||"EmptyError"===a.name)return Nk(t,i,s)?se(new de([],{})):cc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return Rk(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):cc(t):cc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Pk(s):this.lineralizeSegments(r,s).pipe(_t(o=>{const a=new de(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Eh(t,i,s);if(!a)return cc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?Pk(d):this.lineralizeSegments(i,d).pipe(_t(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?se(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(_e(d=>(r._loadedConfig=d,new de(i,{})))):se(new de(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Eh(t,r,i);return o?this.getChildConfig(e,r,i).pipe(_t(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=Ih(t,a,u,h),m=new de(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(_e(D=>new de(a,D)));if(0===h.length&&0===p.length)return se(new de(a,{}));const y=Kn(r)===s;return this.expandSegment(d,m,h,p,y?ue:s,!0).pipe(_e(_=>new de(a.concat(_.segments),_.children)))})):cc(t)}getChildConfig(e,t,r){return t.children?se(new o_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?se(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(_t(i=>i?this.configLoader.load(e.injector,t).pipe(_e(s=>(t._loadedConfig=s,s))):function o7(n){return dh(Yy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):se(new o_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?se(i.map(o=>{const a=e.get(o);let u;if(function W6(n){return n&&Pi(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Pi(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return Mr(u)})).pipe(ac(),yn(o=>{if(!bs(o))return;const a=Yy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),_e(o=>!0===o)):se(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[ue])return dh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new vs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Mt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function c_(n){const e={};for(const r of Object.keys(n.children)){const s=c_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function c7(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new de(n.segments.concat(e.segments),e.children)}return n}(new de(n.segments,e))}class Fk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Th{constructor(e,t){this.component=e,this.route=t}}function d7(n,e,t){const r=n._root;return lc(r,e?e._root:null,t,[r.value])}function Ah(n,e,t){const r=function f7(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function lc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sa(e);return n.children.forEach(o=>{(function p7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function g7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ws(n.url,e.url)||!xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(n,e)||!xr(n.queryParams,e.queryParams);default:return!n_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),lc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Th(a.outlet.component,o))}else o&&dc(e,a,i),i.canActivateChecks.push(new Fk(r)),lc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Mt(s,(o,a)=>dc(o,t.getContext(a),i)),i}function dc(n,e,t){const r=sa(n),i=n.value;Mt(r,(s,o)=>{dc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Th(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class C7{}function Lk(n){return new Re(e=>e.error(n))}class T7{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Ih(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ue);if(null===t)return null;const r=new vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ri(r,t),s=new bk(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=wk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=Mk(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=Vk(r);return function A7(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return Nk(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Rk(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?ok(r).parameters:{};s=new vh(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jk(e),Kn(e),e.component,e,Uk(t),Bk(t)+r.length,$k(e))}else{const f=Eh(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new vh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jk(e),Kn(e),e.component,e,Uk(t),Bk(t)+o.length,$k(e))}const u=function S7(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Ih(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new ri(s,f)]}if(0===u.length&&0===l.length)return[new ri(s,[])];const d=Kn(e)===i,h=this.processSegment(u,c,l,d?ue:i);return null===h?null:[new ri(s,h)]}}function x7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vk(n){const e=[],t=new Set;for(const r of n){if(!x7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Vk(r.children);e.push(new ri(r.value,i))}return e.filter(r=>!t.has(r))}function Uk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Bk(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function jk(n){return n.data||{}}function $k(n){return n.resolve||{}}function Hk(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function l_(n){return _s(e=>{const t=n(e);return t?xt(t).pipe(_e(()=>e)):se(e)})}class L7 extends class F7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const d_=new ne("ROUTES");class Gk{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new o_(sk(o.injector.get(d_,void 0,K.Self|K.Optional)).map(u_),o)}),Oi(s=>{throw t._loader$=void 0,s}));return t._loader$=new Q8(i,()=>new $r).pipe(Q1()),t._loader$}loadModuleFactory(e){return Mr(e()).pipe(_t(t=>t instanceof aM?se(t):xt(this.compiler.compileModuleAsync(t))))}}class U7{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function B7(n){throw n}function j7(n,e,t){return e.parse("/")}function qk(n,e){return se(null)}const $7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $r,this.errorHandler=B7,this.malformedUriErrorHandler=j7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qk,afterPreactivation:qk},this.urlHandlingStrategy=new U7,this.routeReuseStrategy=new L7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Jr),this.console=o.get(HM);const d=o.get(Ke);this.isNgZoneEnabled=d instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function g6(){return new vs(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gk(o,a,h=>this.triggerEvent(new ek(h)),h=>this.triggerEvent(new tk(h))),this.routerState=vk(this.currentUrlTree,this.rootComponentType),this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(na(i=>0!==i.id),_e(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_s(i=>{let s=!1,o=!1;return se(i).pipe(yn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_s(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return zk(a.source)&&(this.browserUrlTree=a.extractedUrl),se(a).pipe(_s(d=>{const h=this.transitions.getValue();return r.next(new Qy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Gr:Promise.resolve(d)}),function l7(n,e,t,r){return _s(i=>function a7(n,e,t,r,i){return new u7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(_e(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),yn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function M7(n,e,t,r,i){return _t(s=>function D7(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new T7(n,e,t,r,i,s).recognize();return null===o?Lk(new C7):se(o)}catch(o){return Lk(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(_e(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),yn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new n6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=a,b=new Qy(h,this.serializeUrl(f),p,m);r.next(b);const _=vk(f,this.rootComponentType).snapshot;return se(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Gr}),l_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),yn(a=>{const u=new r6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),_e(a=>Object.assign(Object.assign({},a),{guards:d7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function m7(n,e){return _t(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?se(Object.assign(Object.assign({},t),{guardsResult:!0})):function y7(n,e,t,r){return xt(n).pipe(_t(i=>function I7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(a=>{const u=Ah(a,e,i);let c;if(function Y6(n){return n&&Pi(n.canDeactivate)}(u))c=Mr(u.canDeactivate(n,e,t,r));else{if(!Pi(u))throw new Error("Invalid CanDeactivate guard");c=Mr(u(n,e,t,r))}return c.pipe(ra())})).pipe(ac()):se(!0)}(i.component,i.route,t,e,r)),ra(i=>!0!==i,!0))}(o,r,i,n).pipe(_t(a=>a&&function z6(n){return"boolean"==typeof n}(a)?function _7(n,e,t,r){return xt(e).pipe(ec(i=>Wy(function w7(n,e){return null!==n&&e&&e(new a6(n)),se(!0)}(i.route.parent,r),function v7(n,e){return null!==n&&e&&e(new c6(n)),se(!0)}(i.route,r),function E7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function h7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>K1(()=>se(o.guards.map(u=>{const c=Ah(u,o.node,t);let l;if(function Q6(n){return n&&Pi(n.canActivateChild)}(c))l=Mr(c.canActivateChild(r,n));else{if(!Pi(c))throw new Error("Invalid CanActivateChild guard");l=Mr(c(r,n))}return l.pipe(ra())})).pipe(ac())));return se(s).pipe(ac())}(n,i.path,t),function b7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(s=>K1(()=>{const o=Ah(s,e,t);let a;if(function K6(n){return n&&Pi(n.canActivate)}(o))a=Mr(o.canActivate(e,n));else{if(!Pi(o))throw new Error("Invalid CanActivate guard");a=Mr(o(e,n))}return a.pipe(ra())}));return se(i).pipe(ac())}(n,i.route,t))),ra(i=>!0!==i,!0))}(r,s,n,e):se(a)),_e(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),yn(a=>{if(bs(a.guardsResult)){const c=Yy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new i6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),na(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),l_(a=>{if(a.guards.canActivateChecks.length)return se(a).pipe(yn(u=>{const c=new s6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),_s(u=>{let c=!1;return se(u).pipe(function k7(n,e){return _t(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let s=0;return xt(i).pipe(ec(o=>function R7(n,e,t,r){return function N7(n,e,t,r){const i=Hk(n);if(0===i.length)return se({});const s={};return xt(i).pipe(_t(o=>function O7(n,e,t,r){const i=Ah(n,e,r);return Mr(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(yn(a=>{s[o]=a}))),Ky(1),_t(()=>Hk(s).length===i.length?se(s):Gr))}(n._resolve,n,e,r).pipe(_e(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),wk(n,t).resolve),null)))}(o.route,r,n,e)),yn(()=>s++),Ky(1),_t(o=>s===i.length?se(t):Gr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),yn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),yn(u=>{const c=new o6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),l_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_e(a=>{const u=function N6(n,e,t){const r=ic(n,e._root,t?t._root:void 0);return new _k(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),yn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>_e(r=>(new G6(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),yn({next(){s=!0},complete(){s=!0}}),function e6(n){return St((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Oi(a=>{if(o=!0,function h6(n){return n&&n[rk]}(a)){const u=bs(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new X1(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zk(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new t6(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Gr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){xk(t),this.config=t.map(u_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function F6(n,e,t,r,i){if(0===t.length)return r_(e.root,e.root,e.root,r,i);const s=function L6(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ck(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Ck(t,e,r)}(t);if(s.toRoot())return r_(e.root,e.root,new de([],{}),r,i);const o=function V6(n,e,t){if(n.isAbsolute)return new i_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new i_(s,s===e.root,0)}const r=wh(n.commands[0])?0:1;return function U6(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new i_(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?bh(o.segmentGroup,o.index,s.commands):Dk(o.segmentGroup,o.index,s.commands);return r_(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,t,d,null!=l?l:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=bs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function G7(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},$7):!1===r?Object.assign({},H7):r,bs(t))return uk(this.currentUrlTree,t,i);const s=this.parseUrl(t);return uk(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new tc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,l=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new X1(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Nm()},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function zk(n){return"imperative"!==n}let aa=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new $r,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ua(this.skipLocationChange),replaceUrl:ua(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ua(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(E(Gt),E(oa),pu("tabindex"),E(cr),E(sn))},n.\u0275dir=H({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&nt("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vn]}),n})();function ua(n){return""===n||!!n}class Wk{}class Kk{preload(e,t){return se(null)}}let Qk=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new Gk(i,r,u=>t.triggerEvent(new ek(u)),u=>t.triggerEvent(new tk(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(na(t=>t instanceof tc),ec(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Jr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return xt(i).pipe(nu(),_e(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?se(r._loadedConfig):this.loader.load(t.injector,r)).pipe(_t(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(V(Gt),V(GM),V(wt),V(Wk))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),f_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nk&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new nk(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Nm()},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Es=new ne("ROUTER_CONFIGURATION"),Yk=new ne("ROUTER_FORROOT_GUARD"),K7=[Ty,{provide:hk,useClass:fk},{provide:Gt,useFactory:function X7(n,e,t,r,i,s,o={},a,u){const c=new Gt(null,n,e,t,r,i,sk(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function e5(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[hk,uc,Ty,wt,GM,d_,Es,[class V7{},new ct],[class P7{},new ct]]},uc,{provide:oa,useFactory:function t5(n){return n.routerState.root},deps:[Gt]},Qk,Kk,class W7{preload(e,t){return t().pipe(Oi(()=>se(null)))}},{provide:Es,useValue:{enableTracing:!1}}];function Q7(){return new QM("Router",Gt)}let Zk=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[K7,Jk(t),{provide:Yk,useFactory:J7,deps:[[Gt,new ct,new bu]]},{provide:Es,useValue:r||{}},{provide:ta,useFactory:Z7,deps:[ys,[new pd(Dy),new ct],Es]},{provide:f_,useFactory:Y7,deps:[Gt,e8,Es]},{provide:Wk,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Kk},{provide:QM,multi:!0,useFactory:Q7},[p_,{provide:ly,multi:!0,useFactory:n5,deps:[p_]},{provide:Xk,useFactory:r5,deps:[p_]},{provide:$M,multi:!0,useExisting:Xk}]]}}static forChild(t){return{ngModule:n,providers:[Jk(t)]}}}return n.\u0275fac=function(t){return new(t||n)(V(Yk,8),V(Gt,8))},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({}),n})();function Y7(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new f_(n,e,t)}function Z7(n,e,t={}){return t.useHash?new OW(n,e):new g1(n,e)}function J7(n){return"guarded"}function Jk(n){return[{provide:_j,multi:!0,useValue:n},{provide:d_,multi:!0,useValue:n}]}let p_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $r}appInitializer(){return this.injector.get(kW,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Gt),o=this.injector.get(Es);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?se(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Es),i=this.injector.get(Qk),s=this.injector.get(f_),o=this.injector.get(Gt),a=this.injector.get(_y);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(V(wt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function n5(n){return n.appInitializer.bind(n)}function r5(n){return n.bootstrapListener.bind(n)}const Xk=new ne("Router Initializer");function eR(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){eR(s,r,i,o,a,"next",u)}function a(u){eR(s,r,i,o,a,"throw",u)}o(void 0)})}}const tR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Sh=function(n){return function(n){const e=tR(n);return m_.encodeByteArray(e,!0)}(n).replace(/\./g,"")},xh=function(n){try{return m_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y_(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Is(){return"object"==typeof indexedDB}function hc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function __(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const v_=()=>{try{return function p5(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&xh(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},rR=n=>{var e,t;return null===(t=null===(e=v_())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},iR=n=>{var e;return null===(e=v_())||void 0===e?void 0:e[`_${n}`]};class Mh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}class Qn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function E5(n,e){return n.replace(I5,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Qn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const I5=/\{\$([^}]+)}/g;function Rh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(oR(s)&&oR(o)){if(!Rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function oR(n){return null!==n&&"object"==typeof n}function Nh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class T5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function A5(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=w_),void 0===i.error&&(i.error=w_),void 0===i.complete&&(i.complete=w_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w_(){}function E_(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function qt(n){return n&&n._delegate?n._delegate:n}class zt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Cs="[DEFAULT]";class N5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Mh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function P5(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Cs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new N5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const I_=[];var ge=(()=>{return(n=ge||(ge={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ge;var n})();const aR={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},L5=ge.INFO,V5={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},U5=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=V5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ca{constructor(e){this.name=e,this._logLevel=L5,this._logHandler=U5,this._userLogHandler=null,I_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}let uR,cR;const lR=new WeakMap,C_=new WeakMap,dR=new WeakMap,D_=new WeakMap,T_=new WeakMap;let A_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return C_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||dR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ii(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function W5(n){return"function"==typeof n?function z5(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $5(){return cR||(cR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(S_(this),e),ii(lR.get(this))}:function(...e){return ii(n.apply(S_(this),e))}:function(e,...t){const r=n.call(S_(this),e,...t);return dR.set(r,e.sort?e.sort():[e]),ii(r)}}(n):(n instanceof IDBTransaction&&function G5(n){if(C_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});C_.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function j5(){return uR||(uR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,A_):n)}function ii(n){if(n instanceof IDBRequest)return function H5(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ii(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&lR.set(t,n)}).catch(()=>{}),T_.set(e,n),e}(n);if(D_.has(n))return D_.get(n);const e=W5(n);return e!==n&&(D_.set(n,e),T_.set(e,n)),e}const S_=n=>T_.get(n);function Oh(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ii(o.result),u.oldVersion,u.newVersion,ii(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function x_(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ii(t).then(()=>{})}const K5=["get","getKey","getAll","getAllKeys","count"],Q5=["put","add","delete","clear"],M_=new Map;function hR(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(M_.get(e))return M_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Q5.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!K5.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return M_.set(e,s),s}!function q5(n){A_=n(A_)}(n=>CU(IU({},n),{get:(e,t,r)=>hR(e,t)||n.get(e,t,r),has:(e,t)=>!!hR(e,t)||n.has(e,t)}));class Y5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Z5(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const k_="@firebase/app",Ds=new ca("@firebase/app"),Ph="[DEFAULT]",IK={[k_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ts=new Map,Fh=new Map;function CK(n,e){try{n.container.addComponent(e)}catch(t){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function an(n){const e=n.name;if(Fh.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Fh.set(e,n);for(const t of Ts.values())CK(t,n);return!0}function la(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const si=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class TK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}const da="9.14.0";function pR(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw si.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=v_())||void 0===n?void 0:n.config})()),!t)throw si.create("no-options");const s=Ts.get(i);if(s){if(Rh(t,s.options)&&Rh(r,s.config))return s;throw si.create("duplicate-app",{appName:i})}const o=new F5(i);for(const u of Fh.values())o.addComponent(u);const a=new TK(t,r,o);return Ts.set(i,a),a}function R_(n=Ph){const e=Ts.get(n);if(!e&&n===Ph)return pR();if(!e)throw si.create("no-app",{appName:n});return e}function gR(){return Array.from(Ts.values())}function He(n,e,t){var r;let i=null!==(r=IK[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ds.warn(a.join(" "))}an(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gc="firebase-heartbeat-store";let O_=null;function mR(){return O_||(O_=Oh("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(gc)}}).catch(n=>{throw si.create("idb-open",{originalErrorMessage:n.message})})),O_}function P_(){return(P_=g(function*(n){var e;try{return(yield mR()).transaction(gc).objectStore(gc).get(_R(n))}catch(t){if(t instanceof Qn)Ds.warn(t.message);else{const r=si.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});Ds.warn(r.message)}}})).apply(this,arguments)}function yR(n,e){return F_.apply(this,arguments)}function F_(){return(F_=g(function*(n,e){var t;try{const i=(yield mR()).transaction(gc,"readwrite");return yield i.objectStore(gc).put(e,_R(n)),i.done}catch(r){if(r instanceof Qn)Ds.warn(r.message);else{const i=si.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});Ds.warn(i.message)}}})).apply(this,arguments)}function _R(n){return`${n.name}!${n.options.appId}`}class RK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=vR(),{heartbeatsToSend:r,unsentEntries:i}=function NK(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),wR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Sh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function vR(){return(new Date).toISOString().substring(0,10)}class OK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Is()&&hc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function xK(n){return P_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return yR(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return yR(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function wR(n){return Sh(JSON.stringify({version:2,heartbeats:n})).length}!function PK(n){an(new zt("platform-logger",e=>new Y5(e),"PRIVATE")),an(new zt("heartbeat",e=>new RK(e),"PRIVATE")),He(k_,"0.8.4",n),He(k_,"0.8.4","esm2017"),He("fire-js","")}(""),He("firebase","9.14.0","app");const bR="@firebase/installations",L_="0.5.16",IR=`w:${L_}`,CR="FIS_v2",oi=new kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function DR(n){return n instanceof Qn&&n.code.includes("request-failed")}function V_({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function TR(n){return{token:n.token,requestStatus:2,expiresIn:HK(n.expiresIn),creationTime:Date.now()}}function U_(n,e){return B_.apply(this,arguments)}function B_(){return(B_=g(function*(n,e){const r=(yield e.json()).error;return oi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function AR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function SR(n,{refreshToken:e}){const t=AR(n);return t.append("Authorization",function GK(n){return`${CR} ${n}`}(e)),t}function j_(n){return $_.apply(this,arguments)}function $_(){return($_=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function HK(n){return Number(n.replace("s","000"))}function qK(n,e){return H_.apply(this,arguments)}function H_(){return(H_=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=V_(n),i=AR(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:CR,appId:n.appId,sdkVersion:IR})},u=yield j_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:TR(c.authToken)}}throw yield U_("Create Installation",u)})).apply(this,arguments)}function xR(n){return new Promise(e=>{setTimeout(e,n)})}const WK=/^[cdef][\w-]{21}$/;function KK(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function QK(n){return function zK(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return WK.test(t)?t:""}catch(n){return""}}function ha(n){return`${n.appName}!${n.appId}`}const fa=new Map;function MR(n,e){const t=ha(n);kR(t,e),function JK(n,e){const t=function RR(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=n=>{kR(n.data.key,n.data.fid)}),As}();t&&t.postMessage({key:n,fid:e}),function NR(){0===fa.size&&As&&(As.close(),As=null)}()}(t,e)}function kR(n,e){const t=fa.get(n);if(t)for(const r of t)r(e)}let As=null;const Ss="firebase-installations-store";let q_=null;function z_(){return q_||(q_=Oh("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ss)}})),q_}function Lh(n,e){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(n,e){const t=ha(n),i=(yield z_()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&MR(n,e.fid),e})).apply(this,arguments)}function K_(n){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(n){const e=ha(n),r=(yield z_()).transaction(Ss,"readwrite");yield r.objectStore(Ss).delete(e),yield r.done})).apply(this,arguments)}function mc(n,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(n,e){const t=ha(n),i=(yield z_()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&MR(n,a.fid),a})).apply(this,arguments)}function Z_(n){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(n){let e;const t=yield mc(n.appConfig,r=>{const i=t9(r),s=n9(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function t9(n){return PR(n||{fid:KK(),registrationStatus:0})}function n9(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(oi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function r9(n,e){return X_.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:i9(n)}:{installationEntry:e}}function X_(){return(X_=g(function*(n,e){try{const t=yield qK(n,e);return Lh(n.appConfig,t)}catch(t){throw DR(t)&&409===t.customData.serverCode?yield K_(n.appConfig):yield Lh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function i9(n){return ev.apply(this,arguments)}function ev(){return(ev=g(function*(n){let e=yield OR(n.appConfig);for(;1===e.registrationStatus;)yield xR(100),e=yield OR(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Z_(n);return r||t}return e})).apply(this,arguments)}function OR(n){return mc(n,e=>{if(!e)throw oi.create("installation-not-found");return PR(e)})}function PR(n){return function s9(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function o9(n,e){return tv.apply(this,arguments)}function tv(){return(tv=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=a9(n,t),i=SR(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:IR,appId:n.appId}})},u=yield j_(()=>fetch(r,a));if(u.ok)return TR(yield u.json());throw yield U_("Generate Auth Token",u)})).apply(this,arguments)}function a9(n,{fid:e}){return`${V_(n)}/${e}/authTokens:generate`}function nv(n){return rv.apply(this,arguments)}function rv(){return(rv=g(function*(n,e=!1){let t;const r=yield mc(n.appConfig,s=>{if(!LR(s))throw oi.create("not-registered");const o=s.authToken;if(!e&&l9(o))return s;if(1===o.requestStatus)return t=u9(n,e),s;{if(!navigator.onLine)throw oi.create("app-offline");const a=h9(s);return t=c9(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function u9(n,e){return iv.apply(this,arguments)}function iv(){return(iv=g(function*(n,e){let t=yield FR(n.appConfig);for(;1===t.authToken.requestStatus;)yield xR(100),t=yield FR(n.appConfig);const r=t.authToken;return 0===r.requestStatus?nv(n,e):r})).apply(this,arguments)}function FR(n){return mc(n,e=>{if(!LR(e))throw oi.create("not-registered");return function f9(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function c9(n,e){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(n,e){try{const t=yield o9(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Lh(n.appConfig,r),t}catch(t){if(!DR(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Lh(n.appConfig,r)}else yield K_(n.appConfig);throw t}})).apply(this,arguments)}function LR(n){return void 0!==n&&2===n.registrationStatus}function l9(n){return 2===n.requestStatus&&!function d9(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function h9(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ov(){return(ov=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Z_(e);return r?r.catch(console.error):nv(e).catch(console.error),t.fid})).apply(this,arguments)}function av(){return(av=g(function*(n,e=!1){const t=n;return yield m9(t),(yield nv(t,e)).token})).apply(this,arguments)}function m9(n){return uv.apply(this,arguments)}function uv(){return(uv=g(function*(n){const{registrationPromise:e}=yield Z_(n);e&&(yield e)})).apply(this,arguments)}function dv(n){return oi.create("missing-app-config-values",{valueName:n})}const VR="installations",b9=n=>{const e=n.getProvider("app").getImmediate(),t=function v9(n){if(!n||!n.options)throw dv("App Configuration");if(!n.name)throw dv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:la(e,"heartbeat"),_delete:()=>Promise.resolve()}},E9=n=>{const t=la(n.getProvider("app").getImmediate(),VR).getImmediate();return{getId:()=>function p9(n){return ov.apply(this,arguments)}(t),getToken:i=>function g9(n){return av.apply(this,arguments)}(t,i)}};(function I9(){an(new zt(VR,b9,"PUBLIC")),an(new zt("installations-internal",E9,"PRIVATE"))})(),He(bR,L_),He(bR,L_,"esm2017");const hv="@firebase/remote-config",_n=new kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class O9{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function P9(n=navigator){return n.languages&&n.languages[0]||n.language}class F9{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:P9()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((R,N)=>{e.signal.addEventListener(()=>{const $=new Error("The operation was aborted.");$.name="AbortError",N($)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(R){let N="fetch-client-network";throw"AbortError"===(null===(r=R)||void 0===r?void 0:r.name)&&(N="fetch-timeout"),_n.create(N,{originalErrorMessage:null===(i=R)||void 0===i?void 0:i.message})}let y=m.status;const b=m.headers.get("ETag")||void 0;let _,D;if(200===m.status){let R;try{R=yield m.json()}catch(N){throw _n.create("fetch-client-parse",{originalErrorMessage:null===(s=N)||void 0===s?void 0:s.message})}_=R.entries,D=R.state}if("INSTANCE_STATE_UNSPECIFIED"===D?y=500:"NO_CHANGE"===D?y=304:("NO_TEMPLATE"===D||"EMPTY_CONFIG"===D)&&(_={}),304!==y&&200!==y)throw _n.create("fetch-status",{httpStatus:y});return{status:y,eTag:b,config:_}})()}}class U9{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function L9(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function V9(n){if(!(n instanceof Qn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+E_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class $9{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uh(n,e){var t;const r=n.target.error||void 0;return _n.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const xs="app_namespace_store";class z9{constructor(e,t,r,i=function q9(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Uh(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(r){e(_n.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xs],"readonly").objectStore(xs),c=t.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(Uh(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(_n.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([xs],"readwrite").objectStore(xs),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:t});d.onerror=h=>{o(Uh(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(_n.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xs],"readwrite").objectStore(xs),c=t.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(Uh(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(_n.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class W9{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Q9(){return yv.apply(this,arguments)}function yv(){return(yv=g(function*(){if(!Is())return!1;try{return yield hc()}catch(n){return!1}})).apply(this,arguments)}!function K9(){an(new zt("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw _n.create("registration-window");if(!Is())throw _n.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _n.create("registration-project-id");if(!o)throw _n.create("registration-api-key");if(!a)throw _n.create("registration-app-id");const u=new z9(a,r.name,t=t||"firebase"),c=new W9(u),l=new ca(hv);l.logLevel=ge.ERROR;const d=new F9(i,da,t,s,o,a),h=new U9(d,u),f=new O9(h,u,c,l),p=new $9(r,f,c,u,l);return function k9(n){const e=qt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),He(hv,"0.3.15"),He(hv,"0.3.15","esm2017")}();const Y9="/firebase-messaging-sw.js",Z9="/firebase-cloud-messaging-push-scope",$R="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",HR="google.c.a.c_id",X9="google.c.a.c_l",eQ="google.c.a.ts",tQ="google.c.a.e";var pa=(()=>{return(n=pa||(pa={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",pa;var n})();function ai(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nQ(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const _v="fcm_token_details_db",GR="fcm_token_object_Store";function iQ(n){return vv.apply(this,arguments)}function vv(){return vv=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(_v))return null;let e=null;return(yield Oh(_v,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(GR))return;const c=a.objectStore(GR),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ai(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ai(d.auth),p256dh:ai(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ai(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ai(d.auth),p256dh:ai(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ai(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield x_(_v),yield x_("fcm_vapid_details_db"),yield x_("undefined"),sQ(e)?e:null;var r}),vv.apply(this,arguments)}function sQ(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ms="firebase-messaging-store";let wv=null;function bv(){return wv||(wv=Oh("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ms)}})),wv}function qR(n){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(n){const e=Tv(n),r=yield(yield bv()).transaction(Ms).objectStore(Ms).get(e);if(r)return r;{const i=yield iQ(n.appConfig.senderId);if(i)return yield Iv(n,i),i}})).apply(this,arguments)}function Iv(n,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=g(function*(n,e){const t=Tv(n),i=(yield bv()).transaction(Ms,"readwrite");return yield i.objectStore(Ms).put(e,t),yield i.done,e})).apply(this,arguments)}function uQ(n){return Dv.apply(this,arguments)}function Dv(){return(Dv=g(function*(n){const e=Tv(n),r=(yield bv()).transaction(Ms,"readwrite");yield r.objectStore(Ms).delete(e),yield r.done})).apply(this,arguments)}function Tv({appConfig:n}){return n.appId}const kt=new kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lQ(n,e){return Av.apply(this,arguments)}function Av(){return(Av=g(function*(n,e){var t;const r=yield kv(n),i=WR(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Mv(n.appConfig),s)).json()}catch(a){throw kt.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw kt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw kt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function dQ(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=g(function*(n,e){var t;const r=yield kv(n),i=WR(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Mv(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw kt.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw kt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw kt.create("token-update-no-token");return o.token})).apply(this,arguments)}function zR(n,e){return xv.apply(this,arguments)}function xv(){return(xv=g(function*(n,e){var t;const i={method:"DELETE",headers:yield kv(n)};try{const o=yield(yield fetch(`${Mv(n.appConfig)}/${e}`,i)).json();if(o.error)throw kt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw kt.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function Mv({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function kv(n){return Rv.apply(this,arguments)}function Rv(){return(Rv=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function WR({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==$R&&(i.web.applicationPubKey=r),i}const hQ=6048e5;function fQ(n){return Nv.apply(this,arguments)}function Nv(){return(Nv=g(function*(n){const e=yield gQ(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ai(e.getKey("auth")),p256dh:ai(e.getKey("p256dh"))},r=yield qR(n.firebaseDependencies);if(r){if(mQ(r.subscriptionOptions,t))return Date.now()>=r.createTime+hQ?pQ(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield zR(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return QR(n.firebaseDependencies,t)}return QR(n.firebaseDependencies,t)})).apply(this,arguments)}function KR(n){return Ov.apply(this,arguments)}function Ov(){return(Ov=g(function*(n){const e=yield qR(n.firebaseDependencies);e&&(yield zR(n.firebaseDependencies,e.token),yield uQ(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function pQ(n,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*(n,e){try{const t=yield dQ(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Iv(n.firebaseDependencies,r),t}catch(t){throw yield KR(n),t}})).apply(this,arguments)}function QR(n,e){return Fv.apply(this,arguments)}function Fv(){return(Fv=g(function*(n,e){const r={token:yield lQ(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Iv(n,r),r.token})).apply(this,arguments)}function gQ(n,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nQ(e)})})).apply(this,arguments)}function mQ(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function YR(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function yQ(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function _Q(n,e){!e.data||(n.data=e.data)}(e,n),function vQ(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function wQ(n){return"object"==typeof n&&!!n&&HR in n}function ZR(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Vv(n){return kt.create("missing-app-config-values",{valueName:n})}ZR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ZR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class EQ{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function bQ(n){if(!n||!n.options)throw Vv("App Configuration Object");if(!n.name)throw Vv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Vv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function JR(n){return Uv.apply(this,arguments)}function Uv(){return(Uv=g(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Y9,{scope:Z9}),n.swRegistration.update().catch(()=>{})}catch(t){throw kt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function IQ(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=g(function*(n,e){if(!e&&!n.swRegistration&&(yield JR(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function CQ(n,e){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=$R)})).apply(this,arguments)}function $v(){return($v=g(function*(n,e){if(!navigator)throw kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kt.create("permission-blocked");return yield CQ(n,null==e?void 0:e.vapidKey),yield IQ(n,null==e?void 0:e.serviceWorkerRegistration),fQ(n)})).apply(this,arguments)}function DQ(n,e,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=g(function*(n,e,t){const r=TQ(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[HR],message_name:t[X9],message_time:t[eQ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function TQ(n){switch(n){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gv(){return(Gv=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===pa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(YR(t)):n.onMessageHandler.next(YR(t)));const r=t.data;wQ(r)&&"1"===r[tQ]&&(yield DQ(n,t.messageType,r))})).apply(this,arguments)}const eN="@firebase/messaging",SQ=n=>{const e=new EQ(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function AQ(n,e){return Gv.apply(this,arguments)}(e,t)),e},xQ=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function XR(n,e){return $v.apply(this,arguments)}(e,r)}};function nN(){return qv.apply(this,arguments)}function qv(){return(qv=g(function*(){try{yield hc()}catch(n){return!1}return"undefined"!=typeof window&&Is()&&__()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function MQ(){an(new zt("messaging",SQ,"PUBLIC")),an(new zt("messaging-internal",xQ,"PRIVATE")),He(eN,"0.11.0"),He(eN,"0.11.0","esm2017")}();const Bh="analytics",NQ="firebase_id",FQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rN="https://www.googletagmanager.com/gtag/js",Rt=new ca("@firebase/analytics");function iN(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function LQ(n,e){const t=document.createElement("script");t.src=`${rN}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function UQ(n,e,t,r,i,s){return Kv.apply(this,arguments)}function Kv(){return(Kv=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield iN(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Rt.error(a)}n("config",i,s)})).apply(this,arguments)}function BQ(n,e,t,r,i){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield iN(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Rt.error(s)}})).apply(this,arguments)}function HQ(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(rN)&&t.src.includes(n))return t;return null}const Rn=new kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sN=new class WQ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function KQ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function QQ(n){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:KQ(r)},s=FQ.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function YQ(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(n,e=sN,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new XQ;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),oN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function oN(n,e,t){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=sN){var s,o;const{appId:a,measurementId:u}=n;try{yield ZQ(r,e)}catch(c){if(u)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield QQ(n);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!JQ(l)){if(i.deleteThrottleMetadata(a),u)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=null==l?void 0:l.customData)||void 0===o?void 0:o.httpStatus)?E_(t,i.intervalMillis,30):E_(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),Rt.debug(`Calling attemptFetch again in ${d} millis`),oN(n,h,r,i)}})).apply(this,arguments)}function ZQ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JQ(n){if(!(n instanceof Qn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class XQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Xv,sw;function ew(){return(ew=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function aN(n){sw=n}function uN(n){Xv=n}function sY(){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(){var n;if(!Is())return Rt.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield hc()}catch(e){return Rt.warn(Rn.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function aw(){return(aw=g(function*(n,e,t,r,i,s,o){var a;const u=YQ(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Rt.error(f)),e.push(u);const c=sY().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);HQ(s)||LQ(s,l.measurementId),sw&&(i("consent","default",sw),aN(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[NQ]=d),i("config",l.measurementId,h),Xv&&(i("set",Xv),uN(void 0)),l.measurementId})).apply(this,arguments)}class aY{constructor(e){this.app=e}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},cN=[];const lN={};let hN,ci,jh="dataLayer",uw=!1;function cY(n,e,t){!function uY(){const n=[];if(y_()&&n.push("This is a browser extension environment."),__()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Rn.create("invalid-analytics-context",{errorInfo:e});Rt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Rn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Rn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[r])throw Rn.create("already-exists",{id:r});if(!uw){!function VQ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(jh);const{wrappedGtag:s,gtagCore:o}=function $Q(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jQ(n,e,t,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield BQ(n,e,t,a,u):"config"===o?yield UQ(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(c){Rt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ui,cN,lN,jh,"gtag");ci=s,hN=o,uw=!0}return ui[r]=function oY(n,e,t,r,i,s,o){return aw.apply(this,arguments)}(n,cN,lN,e,hN,jh,t),new aY(n)}function dY(){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(){if(y_()||!__()||!Is())return!1;try{return yield hc()}catch(n){return!1}})).apply(this,arguments)}const fN="@firebase/analytics";!function fY(){an(new zt(Bh,(e,{options:t})=>cY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),an(new zt("analytics-internal",function n(e){try{const t=e.getProvider(Bh).getImmediate();return{logEvent:(r,i,s)=>function hY(n,e,t,r){n=qt(n),function eY(n,e,t,r,i){return ew.apply(this,arguments)}(ci,ui[n.app.options.appId],e,t,r).catch(i=>Rt.error(i))}(t,r,i,s)}}catch(t){throw Rn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),He(fN,"0.8.4"),He(fN,"0.8.4","esm2017")}();class pY extends Cn{constructor(e,t){super()}schedule(e,t=0){return this}}const $h={setInterval(n,e,...t){const{delegate:r}=$h;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=$h;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class gN extends pY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return $h.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&$h.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const mN={now:()=>(mN.delegate||Date).now(),delegate:void 0};class yc{constructor(e,t=yc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}yc.now=mN.now;class yN extends yc{constructor(e,t=yc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const yY=new class mY extends yN{}(class gY extends gN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),_Y=new yN(gN),Hh=new Zo("7.4.1"),lw="__angularfire_symbol__analyticsIsSupportedValue",dw="__angularfire_symbol__analyticsIsSupported",hw="__angularfire_symbol__remoteConfigIsSupportedValue",fw="__angularfire_symbol__remoteConfigIsSupported",pw="__angularfire_symbol__messagingIsSupportedValue",gw="__angularfire_symbol__messagingIsSupported";function yw(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[dw]||(globalThis[dw]=dY().then(n=>globalThis[lw]=n).catch(()=>globalThis[lw]=!1)),globalThis[gw]||(globalThis[gw]=nN().then(n=>globalThis[pw]=n).catch(()=>globalThis[pw]=!1)),globalThis[fw]||(globalThis[fw]=Q9().then(n=>globalThis[hw]=n).catch(()=>globalThis[hw]=!1));const _w=(n,e)=>{const t=e?[e]:gR(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ga(){}class _N{constructor(e,t=yY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class vY{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga)),t.pipe(yn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vw=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _N(Zone.current)),this.insideAngular=t.run(()=>new _N(Zone.current,_Y)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(V(Ke))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ks(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function wY(n){return ks().ngZone.runOutsideAngular(()=>n())}function Rs(n){return ks().ngZone.run(()=>n())}function bY(n){return ks(),function EY(n){return function(t){return(t=t.lift(new vY(n.ngZone))).pipe($l(n.outsideAngular),jl(n.insideAngular))}}(ks())(n)}const IY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Rs(()=>n.apply(void 0,r))},Yn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga)))),r[s]=IY(r[s],t));const i=wY(()=>n.apply(this,r));if(!e){if(i instanceof Re){const s=ks();return i.pipe($l(s.outsideAngular),jl(s.insideAngular))}return Rs(()=>i)}return i instanceof Re?i.pipe(bY):i instanceof Promise?Rs(()=>new Promise((s,o)=>i.then(a=>Rs(()=>s(a)),a=>Rs(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};class ma{constructor(e){return e}}class ww{constructor(){return gR()}}const bw=new ne("angularfire2._apps"),DY={provide:ma,useFactory:function CY(n){return n&&1===n.length?n[0]:new ma(R_())},deps:[[new ct,bw]]},TY={provide:ww,deps:[[new ct,bw]]};function AY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ma(r)}}let SY=(()=>{class n{constructor(t){He("angularfire",Hh.full,"core"),He("angularfire",Hh.full,"app"),He("angular",iM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(V(Ku))},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({providers:[DY,TY]}),n})();function xY(n,...e){return{ngModule:SY,providers:[{provide:bw,useFactory:AY(n),multi:!0,deps:[Ke,wt,vw,...e]}]}}const MY=Yn(pR,!0),Ew=new Map,vN={activated:!1,tokenObservers:[]},kY={initialized:!1,enabled:!1};function Nt(n){return Ew.get(n)||Object.assign({},vN)}function Gh(){return kY}class LY{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Mh,yield function VY(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mh,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const un=new kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bN(n){if(!Nt(n).activated)throw un.create("use-before-activation",{appName:n.name})}function Dw(n,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=g(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(n,a)}catch(f){throw un.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw un.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw un.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function $Y(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _c="firebase-app-check-store";let Wh=null;function IN(){return Wh||(Wh=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(un.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_c,{keyPath:"compositeKey"})}}catch(r){e(un.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Wh)}function Aw(){return(Aw=g(function*(n,e){const r=(yield IN()).transaction(_c,"readwrite"),s=r.objectStore(_c).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(un.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const vc=new ca("@firebase/app-check");function Mw(n,e){return Is()?function zY(n,e){return function CN(n,e){return Aw.apply(this,arguments)}(function TN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function AN(){return Gh().enabled}function SN(){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(){const n=Gh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const JY={error:"UNKNOWN_ERROR"};function XY(n){return m_.encodeString(JSON.stringify(n),!1)}function Kh(n){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(n,e=!1){const t=n.app;bN(t);const r=Nt(t);let s,i=r.token;if(i&&!ya(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ya(u)?i=u:yield Mw(t,void 0))}if(!e&&i&&ya(i))return{token:i.token};let a,o=!1;if(AN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Dw($Y(t,yield SN()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield Mw(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Nt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?vc.warn(u.message):vc.error(u),s=u}return i?s?a=ya(i)?{token:i.token,internalError:s}:kN(s):(a={token:i.token},r.token=i,yield Mw(t,i)):a=kN(s),o&&MN(t,a),a})).apply(this,arguments)}function Pw(n,e){const t=Nt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function xN(n){const{app:e}=n,t=Nt(e);let r=t.tokenRefresher;r||(r=function eZ(n){const{app:e}=n;return new LY(g(function*(){let r;if(r=Nt(e).token?yield Kh(n,!0):yield Kh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Nt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function MN(n,e){const t=Nt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ya(n){return n.expireTimeMillis-Date.now()>0}function kN(n){return{token:XY(JY),error:n}}class tZ{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Nt(this.app);for(const t of e)Pw(this.app,t.next);return Promise.resolve()}}const UN="app-check-internal";!function gZ(){an(new zt("app-check",n=>function nZ(n,e){return new tZ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(UN).initialize()})),an(new zt(UN,n=>function rZ(n){return{getToken:e=>Kh(n,e),addTokenListener:e=>function Ow(n,e,t,r){const{app:i}=n,s=Nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ya(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),xN(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xN(n))}(n,"INTERNAL",e),removeTokenListener:e=>Pw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),He("@firebase/app-check","0.5.17")}();class Uw{constructor(){return _w("app-check")}}"undefined"!=typeof window&&window;const wZ=function jN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$N=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),HN=new ca("@firebase/auth");function Yh(n,...e){HN.logLevel<=ge.ERROR&&HN.error(`Auth (${da}): ${n}`,...e)}function vn(n,...e){throw jw(n,...e)}function Rr(n,...e){return jw(n,...e)}function GN(n,e,t){const r=Object.assign(Object.assign({},wZ()),{[e]:t});return new kr("auth","Firebase",r).create(e,{appName:n.name})}function jw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $N.create(n,...e)}function A(n,e,...t){if(!n)throw jw(e,...t)}function Nr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yh(e),new Error(e)}function Fi(n,e){n||Nr(e)}const qN=new Map;function li(n){Fi(n instanceof Function,"Expected a class definition");let e=qN.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qN.set(n,e),e)}function wc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function zN(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=function l5(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}()||function h5(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function IZ(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $w(){return"http:"===zN()||"https:"===zN()}()||y_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hw(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class WN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},TZ=new bc(3e4,6e4);function ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Et(n,e,t,r){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(n,e,t,r,i={}){return KN(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Nh(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),WN.fetch()(QN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function KN(n,e,t){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},DZ),e);try{const i=new AZ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ec(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ec(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Ec(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Ec(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw GN(n,l,c);vn(n,l)}}catch(i){if(i instanceof Qn)throw i;vn(n,"network-request-failed")}})).apply(this,arguments)}function di(n,e,t,r){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(n,e,t,r,i={}){const s=yield Et(n,e,t,r,i);return"mfaPendingCredential"in s&&vn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function QN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Hw(n.config,i):`${n.config.apiScheme}://${i}`}class AZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),TZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ec(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Rr(n,e,r);return i.customData._tokenResponse=t,i}function Ww(){return(Ww=g(function*(n,e){return Et(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function MZ(n,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(n,e){return Et(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ic(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Yw(){return(Yw=g(function*(n,e=!1){const t=qt(n),r=yield t.getIdToken(e),i=Zh(r);A(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ic(Zw(i.auth_time)),issuedAtTime:Ic(Zw(i.iat)),expirationTime:Ic(Zw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Zw(n){return 1e3*Number(n)}function Zh(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const s=xh(r);return s?JSON.parse(s):(Yh("Failed to decode base64 JWT payload"),null)}catch(s){return Yh("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function hi(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Qn&&NZ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function NZ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class OZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class YN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cc(n){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield hi(n,MZ(t,{idToken:r}));A(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?LZ(s.providerUserInfo):[],a=FZ(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new YN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})).apply(this,arguments)}function eb(){return(eb=g(function*(n){const e=qt(n);yield Cc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function FZ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LZ(n){return n.map(e=>{var{providerId:t}=e,r=y0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tb(){return(tb=g(function*(n,e){const t=yield KN(n,{},g(function*(){const r=Nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=QN(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function RZ(n){const e=Zh(n);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function VZ(n,e){return tb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Dc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function Li(n,e){A("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Ns{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=y0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new YN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield hi(t,t.stsTokenManager.getToken(t.auth,e));return A(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function kZ(n){return Yw.apply(this,arguments)}(this,e)}reload(){return function PZ(n){return eb.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Cc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield hi(e,function SZ(n,e){return Ww.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:R,isAnonymous:N,providerData:$,stsTokenManager:Ie}=t;A(D&&Ie,e,"internal-error");const mr=Dc.fromJSON(this.name,Ie);A("string"==typeof D,e,"internal-error"),Li(d,e.name),Li(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof N,e,"internal-error"),Li(f,e.name),Li(p,e.name),Li(m,e.name),Li(y,e.name),Li(b,e.name),Li(_,e.name);const co=new Ns({uid:D,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:mr,createdAt:b,lastLoginAt:_});return $&&Array.isArray($)&&(co.providerData=$.map(Ll=>Object.assign({},Ll))),y&&(co._redirectEventId=y),co}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Dc;i.updateFromServerResponse(t);const s=new Ns({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cc(s),s})()}}const ZN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Jh(n,e,t){return`firebase:${n}:${e}:${t}`}class va{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jh("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ns._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new va(li(ZN),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||li(ZN);const o=Jh(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Ns._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new va(s,e,r)):new va(s,e,r)})()}}function JN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rO(e))return"Blackberry";if(iO(e))return"Webos";if(nb(e))return"Safari";if((e.includes("chrome/")||eO(e))&&!e.includes("edge/"))return"Chrome";if(nO(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function XN(n=bt()){return/firefox\//i.test(n)}function nb(n=bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eO(n=bt()){return/crios\//i.test(n)}function tO(n=bt()){return/iemobile/i.test(n)}function nO(n=bt()){return/android/i.test(n)}function rO(n=bt()){return/blackberry/i.test(n)}function iO(n=bt()){return/webos/i.test(n)}function Xh(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sO(n=bt()){return Xh(n)||nO(n)||iO(n)||rO(n)||/windows phone/i.test(n)||tO(n)}function oO(n,e=[]){let t;switch(n){case"Browser":t=JN(bt());break;case"Worker":t=`${JN(bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${da}/${r}`}class $Z{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class HZ{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aO(this),this.idTokenSubscription=new aO(this),this.beforeStateQueue=new $Z(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$N,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield va.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){var r;try{yield Cc(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function CZ(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?qt(e):null;return r&&A(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(li(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&li(e)||t._popupRedirectResolver;A(r,t,"argument-error"),t.redirectPersistenceManager=yield va.create(t,[li(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function wn(n){return qt(n)}class aO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function D5(n,e){const t=new T5(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function uO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class lO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}function ib(){return(ib=g(function*(n,e){return Et(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ob(){return(ob=g(function*(n,e){return di(n,"POST","/v1/accounts:signInWithPassword",ht(n,e))})).apply(this,arguments)}function hb(){return(hb=g(function*(n,e){return di(n,"POST","/v1/accounts:signInWithEmailLink",ht(n,e))})).apply(this,arguments)}function fb(){return(fb=g(function*(n,e){return di(n,"POST","/v1/accounts:signInWithEmailLink",ht(n,e))})).apply(this,arguments)}class Tc extends lO{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Tc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function KZ(n,e){return ob.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function XZ(n,e){return hb.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:vn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function hO(n,e){return ib.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function eJ(n,e){return fb.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:vn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function fi(n,e){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(n,e){return di(n,"POST","/v1/accounts:signInWithIdp",ht(n,e))})).apply(this,arguments)}class xc{constructor(e){var t,r,i,s,o,a;const u=fc(pc(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function aJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function uJ(n){const e=fc(pc(n)).link,t=e?fc(pc(e)).deep_link_id:null,r=fc(pc(n)).deep_link_id;return(r?fc(pc(r)).link:null)||r||t||e||n}(e);try{return new xc(t)}catch(r){return null}}}let fO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Tc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=xc.parseLink(r);return A(i,"argument-error"),Tc._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Vi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cJ extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function pO(n,e){return wb.apply(this,arguments)}function wb(){return(wb=g(function*(n,e){return di(n,"POST","/v1/accounts:signUp",ht(n,e))})).apply(this,arguments)}class Zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield Ns._fromIdTokenResponse(e,r,i),o=gO(r);return new Zn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=gO(r);return new Zn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function gO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class nf extends Qn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new nf(e,t,r,i)}}function mO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?nf._fromErrorAndOperation(n,s,e,r):s})}function Ib(n,e){return Cb.apply(this,arguments)}function Cb(){return(Cb=g(function*(n,e,t=!1){const r=yield hi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zn._forOperation(n,"link",r)})).apply(this,arguments)}function Tb(){return(Tb=g(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield hi(n,mO(i,s,e,n),t);A(o.idToken,i,"internal-error");const a=Zh(o.idToken);A(a,i,"internal-error");const{sub:u}=a;return A(n.uid===u,i,"user-mismatch"),Zn._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&vn(i,"user-mismatch"),o}})).apply(this,arguments)}function vO(n,e){return Ab.apply(this,arguments)}function Ab(){return(Ab=g(function*(n,e,t=!1){const r="signIn",i=yield mO(n,r,e),s=yield Zn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function xb(){return(xb=g(function*(n,e){return vO(wn(n),e)})).apply(this,arguments)}function mJ(n,e,t){return jb.apply(this,arguments)}function jb(){return(jb=g(function*(n,e,t){const r=wn(n),i=yield pO(r,{returnSecureToken:!0,email:e,password:t}),s=yield Zn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function yJ(n,e,t){return function Sb(n,e){return xb.apply(this,arguments)}(qt(n),fO.credential(e,t))}function bO(n,e,t,r){return qt(n).onIdTokenChanged(e,t,r)}function TJ(n){return qt(n).signOut()}const af="__sak";class EO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NJ=(()=>{class n extends EO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function MJ(){const n=bt();return nb(n)||Xh(n)}()&&function jZ(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=sO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function BZ(){return function f5(){const n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),IO=(()=>{class n extends EO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let PJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function OJ(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function nE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class FJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=nE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function rE(){return void 0!==ft().WorkerGlobalScope&&"function"==typeof ft().importScripts}function iE(){return(iE=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const CO="firebaseLocalStorageDb",uf="firebaseLocalStorage",DO="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cf(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function sE(){const n=indexedDB.open(CO,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(uf,{keyPath:DO})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),yield function $J(){const n=indexedDB.deleteDatabase(CO);return new kc(n).toPromise()}(),e(yield sE()))}))})}function TO(n,e,t){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(n,e,t){const r=cf(n,!0).put({[DO]:e,value:t});return new kc(r).toPromise()})).apply(this,arguments)}function aE(){return(aE=g(function*(n,e){const t=cf(n,!1).get(e),r=yield new kc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function AO(n,e){const t=cf(n,!0).delete(e);return new kc(t).toPromise()}const zJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield sE()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return rE()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=PJ._getInstance(function BJ(){return rE()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function VJ(){return iE.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new FJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function UJ(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield sE();return yield TO(t,af,"1"),yield AO(t,af),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>TO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function HJ(n,e){return aE.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>AO(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=cf(o,!1).getAll();return new kc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function xO(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ps(n,e){return e?li(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}xO("rcb"),new bc(3e4,6e4);class yE extends lO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cX(n){return vO(n.auth,new yE(n),n.bypassAuthState)}function lX(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),function _O(n,e){return Tb.apply(this,arguments)}(t,new yE(n),n.bypassAuthState)}function dX(n){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),Ib(t,new yE(n),n.bypassAuthState)})).apply(this,arguments)}new bc(2e3,1e4);const Rc=new Map;class pX extends class hX{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cX;case"linkViaPopup":case"linkViaRedirect":return dX;case"reauthViaPopup":case"reauthViaRedirect":return lX;default:vn(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Rc.get(t.auth._key());if(!r){try{const s=(yield function gX(n,e){return IE.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Rc.set(t.auth._key(),r)}return t.bypassAuthState||Rc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function IE(){return(IE=g(function*(n,e){const t=RO(e),r=kO(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function mX(n,e){Rc.set(n._key(),e)}function kO(n){return li(n._redirectPersistence)}function RO(n){return Jh("pendingRedirect",n.config.apiKey,n.name)}function NO(n,e){return ME.apply(this,arguments)}function ME(){return(ME=g(function*(n,e,t=!1){const r=wn(n),i=Ps(r,e),o=yield new pX(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class bX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function EX(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PO(e))}saveEventToCache(e){this.cachedEventUids.add(PO(e)),this.lastProcessedEventTime=Date.now()}}function PO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function IX(n){return RE.apply(this,arguments)}function RE(){return(RE=g(function*(n,e={}){return Et(n,"GET","/v1/projects",e)})).apply(this,arguments)}const CX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DX=/^https?/;function NE(){return(NE=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield IX(n);for(const t of e)try{if(AX(t))return}catch(r){}vn(n,"unauthorized-domain")})).apply(this,arguments)}function AX(n){const e=wc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!DX.test(t))return!1;if(CX.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const SX=new bc(3e4,6e4);function LO(){const n=ft().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let df=null;function MX(n){return df=df||function xX(n){return new Promise((e,t)=>{var r,i,s;function o(){LO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LO(),t(Rr(n,"network-request-failed"))},timeout:SX.get()})}if(null===(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ft().gapi)||void 0===s?void 0:s.load)){const a=xO("iframefcb");return ft()[a]=()=>{gapi.load?o():t(Rr(n,"network-request-failed"))},function SO(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Rr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function YJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw df=null,e})}(n),df}const kX=new bc(5e3,15e3),OX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FX(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:da},i=PX.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Nh(r).slice(1)}`}function OE(){return OE=g(function*(n){const e=yield MX(n),t=ft().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:FX(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OX,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Rr(n,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},kX.get());function c(){ft().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),OE.apply(this,arguments)}const VX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class VO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function UO(n,e,t,r,i,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:da,eventId:i};if(e instanceof Vi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function C5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof cJ){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function WX({config:n}){return n.emulator?Hw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Nh(a).slice(1)}`}const PE="webStorageSupport",QX=class KX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IO,this._completeRedirectFn=NO,this._overrideRedirectResult=mX}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;Fi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=UO(e,t,r,wc(),i);return function HX(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},VX),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();t&&(a=eO(c)?"_blank":t),XN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function UZ(n=bt()){var e;return Xh(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function GX(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new VO(null);const d=window.open(e||"",a,l);A(d,n,"popup-blocked");try{d.focus()}catch(h){}return new VO(d)}(e,a,nE())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function LJ(n){ft().location.href=n}(UO(e,t,r,wc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Fi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function LX(n){return OE.apply(this,arguments)}(e),i=new bX(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(PE,{type:PE},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[PE];void 0!==o&&t(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function TX(n){return NE.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sO()||nb()||Xh()}};var jO="@firebase/auth",$O="0.20.11";class YX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const eee=iR("authIdTokenMaxAge")||300;let HO=null;const tee=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>eee)return;const s=null==r?void 0:r.token;HO!==s&&(HO=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function nee(n=R_()){const e=la(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function bZ(n,e){const t=la(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Rh(t.getOptions(),null!=e?e:{}))return i;vn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:QX,persistence:[zJ,NJ,IO]}),r=iR("authTokenSyncURL");if(r){const s=tee(r);(function DJ(n,e,t){qt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),bO(t,o=>s(o))}const i=rR("auth");return i&&function GZ(n,e,t){const r=wn(n);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==t?void 0:t.disableWarnings),s=uO(e),{host:o,port:a}=function qZ(n){const e=uO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:cO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function zZ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function GO(n){return new Re(function(e){return{unsubscribe:bO(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function JX(n){an(new zt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oO(n)},l=new HZ(a,u,c);return function EZ(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(li);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),an(new zt("auth-internal",e=>{const t=wn(e.getProvider("auth").getImmediate());return new YX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(jO,$O,function ZX(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),He(jO,$O,"esm2017")}("Browser");class Nc{constructor(e){return e}}class zO{constructor(){return _w("auth")}}const FE=new ne("angularfire2.auth-instances");function iee(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Nc(r)}}const see={provide:zO,deps:[[new ct,FE]]},oee={provide:Nc,useFactory:function ree(n,e){const t=yw("auth",n,e);return t&&new Nc(t)},deps:[[new ct,FE],ma]};let aee=(()=>{class n{constructor(){He("angularfire",Hh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({providers:[oee,see]}),n})();function uee(n,...e){return{ngModule:aee,providers:[{provide:FE,useFactory:iee(n),multi:!0,deps:[Ke,wt,vw,ww,[new ct,Uw],...e]}]}}const cee=Yn(GO,!0),lee=Yn(mJ,!0),dee=Yn(nee,!0),hee=Yn(yJ,!0),fee=Yn(TJ,!0);var L,pee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pi={},LE=LE||{},Q=pee||self;function hf(){}function ff(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Oc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var VE="closure_uid_"+(1e9*Math.random()>>>0),mee=0;function yee(n,e,t){return n.call.apply(n.bind,arguments)}function _ee(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Wt(n,e,t){return(Wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yee:_ee).apply(null,arguments)}function pf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ot(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ui(){this.s=this.s,this.o=this.o}Ui.prototype.s=!1,Ui.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function gee(n){Object.prototype.hasOwnProperty.call(n,VE)&&n[VE]||(n[VE]=++mee)}(this)},Ui.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function UE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function KO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ff(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Kt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var wee=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Q.addEventListener("test",hf,e),Q.removeEventListener("test",hf,e)}catch(t){}return n}();function gf(n){return/^[\s\xa0]*$/.test(n)}var QO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function BE(n,e){return n<e?-1:n>e?1:0}function mf(){var n=Q.navigator;return n&&(n=n.userAgent)?n:""}function Or(n){return-1!=mf().indexOf(n)}function jE(n){return jE[" "](n),n}jE[" "]=hf;var yf,n,Eee=Or("Opera"),wa=Or("Trident")||Or("MSIE"),YO=Or("Edge"),$E=YO||wa,ZO=Or("Gecko")&&!(-1!=mf().toLowerCase().indexOf("webkit")&&!Or("Edge"))&&!(Or("Trident")||Or("MSIE"))&&!Or("Edge"),Iee=-1!=mf().toLowerCase().indexOf("webkit")&&!Or("Edge");function JO(){var n=Q.document;return n?n.documentMode:void 0}e:{var HE="",GE=(n=mf(),ZO?/rv:([^\);]+)(\)|;)/.exec(n):YO?/Edge\/([\d\.]+)/.exec(n):wa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Iee?/WebKit\/(\S+)/.exec(n):Eee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(GE&&(HE=GE?GE[1]:""),wa){var qE=JO();if(null!=qE&&qE>parseFloat(HE)){yf=String(qE);break e}}yf=HE}var Cee={};var Tee=Q.document&&wa&&(JO()||parseInt(yf,10))||void 0;function Pc(n,e){if(Kt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ZO){e:{try{jE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Aee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pc.X.h.call(this)}}Ot(Pc,Kt);var Aee={2:"touch",3:"pen",4:"mouse"};Pc.prototype.h=function(){Pc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fc="closure_listenable_"+(1e6*Math.random()|0),See=0;function xee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++See,this.ba=this.ea=!1}function _f(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function WE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eP(n){const e={};for(const t in n)e[t]=n[t];return e}const tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<tP.length;s++)t=tP[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vf(n){this.src=n,this.g={},this.h=0}function KE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=WO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_f(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function QE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}vf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=QE(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new xee(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var YE="closure_lm_"+(1e6*Math.random()|0),ZE={};function rP(n,e,t,r,i){if(r&&r.once)return sP(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rP(n,e[s],t,r,i);return null}return t=tI(t),n&&n[Fc]?n.N(e,t,Oc(r)?!!r.capture:!!r,i):iP(n,e,t,!1,r,i)}function iP(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Oc(i)?!!i.capture:!!i,a=XE(n);if(a||(n[YE]=a=new vf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Mee(){const e=kee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)wee||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sP(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sP(n,e[s],t,r,i);return null}return t=tI(t),n&&n[Fc]?n.O(e,t,Oc(r)?!!r.capture:!!r,i):iP(n,e,t,!0,r,i)}function oP(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)oP(n,e[s],t,r,i);else r=Oc(r)?!!r.capture:!!r,t=tI(t),n&&n[Fc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=QE(s=n.g[e],t,r,i))&&(_f(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=XE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=QE(e,t,r,i)),(t=-1<n?e[n]:null)&&JE(t))}function JE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Fc])KE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=XE(e))?(KE(t,n),0==t.h&&(t.src=null,e[YE]=null)):_f(n)}}}function aP(n){return n in ZE?ZE[n]:ZE[n]="on"+n}function kee(n,e){if(n.ba)n=!0;else{e=new Pc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&JE(n),n=t.call(r,e)}return n}function XE(n){return(n=n[YE])instanceof vf?n:null}var eI="__closure_events_fn_"+(1e9*Math.random()>>>0);function tI(n){return"function"==typeof n?n:(n[eI]||(n[eI]=function(e){return n.handleEvent(e)}),n[eI])}function It(){Ui.call(this),this.i=new vf(this),this.P=this,this.I=null}function Pt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Kt(e,n);else if(e instanceof Kt)e.target=e.target||n;else{var i=e;nP(e=new Kt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=wf(o,r,!0,e)&&i}if(i=wf(o=e.g=n,r,!0,e)&&i,i=wf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=wf(o=e.g=t[s],r,!1,e)&&i}function wf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&KE(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ot(It,Ui),It.prototype[Fc]=!0,It.prototype.removeEventListener=function(n,e,t,r){oP(this,n,e,t,r)},It.prototype.M=function(){if(It.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_f(t[r]);delete n.g[e],n.h--}}this.I=null},It.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},It.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var nI=Q.JSON.stringify;function Ree(){var n=lP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var rI,uP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Oee,n=>n.reset());class Oee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pee(n){Q.setTimeout(()=>{throw n},0)}function cP(n,e){rI||function Fee(){var n=Q.Promise.resolve(void 0);rI=function(){n.then(Lee)}}(),iI||(rI(),iI=!0),lP.add(n,e)}var iI=!1,lP=new class Nee{constructor(){this.h=this.g=null}add(e,t){const r=uP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Lee(){for(var n;n=Ree();){try{n.h.call(n.g)}catch(t){Pee(t)}var e=uP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}iI=!1}function bf(n,e){It.call(this),this.h=n||1,this.g=e||Q,this.j=Wt(this.lb,this),this.l=Date.now()}function sI(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function oI(n,e,t){if("function"==typeof n)t&&(n=Wt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wt(n.handleEvent,n)}return 2147483647<Number(e)?-1:Q.setTimeout(n,e||0)}function dP(n){n.g=oI(()=>{n.g=null,n.i&&(n.i=!1,dP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ot(bf,It),(L=bf.prototype).ca=!1,L.R=null,L.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pt(this,"tick"),this.ca&&(sI(this),this.start()))}},L.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.M=function(){bf.X.M.call(this),sI(this),delete this.g};class Vee extends Ui{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dP(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lc(n){Ui.call(this),this.h=n,this.g={}}Ot(Lc,Ui);var hP=[];function fP(n,e,t,r){Array.isArray(t)||(t&&(hP[0]=t.toString()),t=hP);for(var i=0;i<t.length;i++){var s=rP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function pP(n){WE(n.g,function(e,t){this.g.hasOwnProperty(t)&&JE(e)},n),n.g={}}function Ef(){this.g=!0}function ba(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $ee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nI(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Lc.prototype.M=function(){Lc.X.M.call(this),pP(this)},Lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ef.prototype.Aa=function(){this.g=!1},Ef.prototype.info=function(){};var Fs={},gP=null;function If(){return gP=gP||new It}function mP(n){Kt.call(this,Fs.Pa,n)}function Vc(n){const e=If();Pt(e,new mP(e))}function yP(n,e){Kt.call(this,Fs.STAT_EVENT,n),this.stat=e}function cn(n){const e=If();Pt(e,new yP(e,n))}function _P(n,e){Kt.call(this,Fs.Qa,n),this.size=e}function Uc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){n()},e)}Fs.Pa="serverreachability",Ot(mP,Kt),Fs.STAT_EVENT="statevent",Ot(yP,Kt),Fs.Qa="timingevent",Ot(_P,Kt);var Cf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function aI(){}function bP(){}aI.prototype.h=null;var lI,Bc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function uI(){Kt.call(this,"d")}function cI(){Kt.call(this,"c")}function Df(){}function jc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Lc(this),this.O=Hee,this.T=new bf(n=$E?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new EP}function EP(){this.i=null,this.g="",this.h=!1}Ot(uI,Kt),Ot(cI,Kt),Ot(Df,aI),Df.prototype.g=function(){return new XMLHttpRequest},Df.prototype.i=function(){return{}},lI=new Df;var Hee=45e3,dI={},Tf={};function hI(n,e,t){n.K=1,n.v=Mf(gi(e)),n.s=t,n.P=!0,IP(n,null)}function IP(n,e){n.F=Date.now(),$c(n),n.A=gi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),NP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new EP,n.g=rF(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Vee(Wt(n.La,n,n.g),n.N)),fP(n.S,n.g,"readystatechange",n.ib),e=n.H?eP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vc(),function Uee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function CP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function DP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Gee(n,t),i==Tf){4==e&&(n.o=4,cn(14),r=!1),ba(n.j,n.m,null,"[Incomplete Response]");break}if(i==dI){n.o=4,cn(15),ba(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ba(n.j,n.m,i,null),fI(n,i)}CP(n)&&i!=Tf&&i!=dI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,cn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),bI(e),e.K=!0,cn(11))):(ba(n.j,n.m,t,"[Invalid Chunked Response]"),Ls(n),Hc(n))}function Gee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Tf:(t=Number(e.substring(t,r)),isNaN(t)?dI:(r+=1)+t>e.length?Tf:(e=e.substr(r,t),n.C=r+t,e))}function $c(n){n.V=Date.now()+n.O,TP(n,n.O)}function TP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uc(Wt(n.gb,n),e)}function Af(n){n.B&&(Q.clearTimeout(n.B),n.B=null)}function Hc(n){0==n.l.G||n.I||XP(n.l,n)}function Ls(n){Af(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,sI(n.T),pP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function fI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pI(t.h,n)))if(!n.J&&pI(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Uc(Wt(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Ff(t),Of(t)}wI(t),cn(18)}if(1>=FP(t.h)&&t.ja){try{t.ja()}catch(c){}t.ja=void 0}}else Us(t,11)}else if((n.J||t.g==n)&&Ff(t),!gf(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const l=c[3];null!=l&&(t.ma=l,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Pe(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=nF(r,r.H?r.ka:null,r.V),o.J){LP(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Af(a),$c(a)),r.g=o}else ZP(r);0<t.i.length&&Pf(t)}else"stop"!=c[0]&&"close"!=c[0]||Us(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Us(t,7):vI(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Vc()}catch(c){}}function AP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ff(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function zee(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(ff(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function qee(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ff(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(L=jc.prototype).setTimeout=function(n){this.O=n},L.ib=function(n){n=n.target;const e=this.L;e&&3==mi(n)?e.l():this.La(n)},L.La=function(n){try{if(n==this.g)e:{const l=mi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||$E||this.g&&(this.h.h||this.g.fa()||qP(this.g)))){this.I||4!=l||7==e||Vc(),Af(this);var t=this.g.aa();this.Y=t;t:if(CP(this)){var r=qP(this.g);n="";var i=r.length,s=4==mi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ls(this),Hc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function Bee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,cn(12),Ls(this),Hc(this);break e}ba(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fI(this,t)}this.P?(DP(this,l,o),$E&&this.i&&3==l&&(fP(this.S,this.T,"tick",this.hb),this.T.start())):(ba(this.j,this.m,o,null),fI(this,o)),4==l&&Ls(this),this.i&&!this.I&&(4==l?XP(this.l,this):(this.i=!1,$c(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),Ls(this),Hc(this)}}}catch(l){}},L.hb=function(){if(this.g){var n=mi(this.g),e=this.g.fa();this.C<e.length&&(Af(this),DP(this,n,e),this.i&&4!=n&&$c(this))}},L.cancel=function(){this.I=!0,Ls(this)},L.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function jee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vc(),cn(17)),Ls(this),this.o=2,Hc(this)):TP(this,this.V-n)};var SP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vs){this.h=void 0!==e?e:n.h,Sf(this,n.j),this.s=n.s,this.g=n.g,xf(this,n.m),this.l=n.l,e=n.i;var t=new zc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xP(this,t),this.o=n.o}else n&&(t=String(n).match(SP))?(this.h=!!e,Sf(this,t[1]||"",!0),this.s=Gc(t[2]||""),this.g=Gc(t[3]||"",!0),xf(this,t[4]),this.l=Gc(t[5]||"",!0),xP(this,t[6]||"",!0),this.o=Gc(t[7]||"")):(this.h=!!e,this.i=new zc(null,this.h))}function gi(n){return new Vs(n)}function Sf(n,e,t){n.j=t?Gc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xP(n,e,t){e instanceof zc?(n.i=e,function Xee(n,e){e&&!n.j&&(Bi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(kP(this,r),NP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qc(e,Zee)),n.i=new zc(e,n.h))}function Pe(n,e,t){n.i.set(e,t)}function Mf(n){return Pe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Kee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Kee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qc(e,MP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qc(e,MP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qc(t,"/"==t.charAt(0)?Yee:Qee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qc(t,Jee)),n.join("")};var MP=/[#\/\?@]/g,Qee=/[#\?:]/g,Yee=/[#\?]/g,Zee=/[#\?@]/g,Jee=/#/g;function zc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bi(n){n.g||(n.g=new Map,n.h=0,n.i&&function Wee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kP(n,e){Bi(n),e=Ea(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RP(n,e){return Bi(n),e=Ea(n,e),n.g.has(e)}function NP(n,e,t){kP(n,e),0<t.length&&(n.i=null,n.g.set(Ea(n,e),UE(t)),n.h+=t.length)}function Ea(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function OP(n){this.l=n||tte,n=Q.PerformanceNavigationTiming?0<(n=Q.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=zc.prototype).add=function(n,e){Bi(this),this.i=null,n=Ea(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},L.forEach=function(n,e){Bi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},L.oa=function(){Bi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},L.W=function(n){Bi(this);let e=[];if("string"==typeof n)RP(this,n)&&(e=e.concat(this.g.get(Ea(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},L.set=function(n,e){return Bi(this),this.i=null,RP(this,n=Ea(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},L.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var tte=10;function PP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FP(n){return n.h?1:n.g?n.g.size:0}function pI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gI(n,e){n.g?n.g.add(e):n.h=e}function LP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function VP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return UE(n.i)}function mI(){}function nte(){this.g=new mI}function rte(n,e,t){const r=t||"";try{AP(n,function(i,s){let o=i;Oc(i)&&(o=nI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Wc(n){this.l=n.ac||null,this.j=n.jb||!1}function Rf(n,e){It.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}OP.prototype.cancel=function(){if(this.i=VP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mI.prototype.stringify=function(n){return Q.JSON.stringify(n,void 0)},mI.prototype.parse=function(n){return Q.JSON.parse(n,void 0)},Ot(Wc,aI),Wc.prototype.g=function(){return new Rf(this.l,this.j)},Wc.prototype.i=function(n){return function(){return n}}({}),Ot(Rf,It);var yI=0;function UP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Kc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qc(n)}function Qc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(L=Rf.prototype).open=function(n,e){if(this.readyState!=yI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qc(this)},L.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kc(this)),this.readyState=yI},L.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qc(this)),this.g&&(this.readyState=3,Qc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Q.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},L.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kc(this):Qc(this),3==this.readyState&&UP(this)}},L.Va=function(n){this.g&&(this.response=this.responseText=n,Kc(this))},L.Ua=function(n){this.g&&(this.response=n,Kc(this))},L.ga=function(){this.g&&Kc(this)},L.setRequestHeader=function(n,e){this.v.append(n,e)},L.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Rf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ste=Q.JSON.parse;function Ge(n){It.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BP,this.K=this.L=!1}Ot(Ge,It);var BP="",ote=/^https?$/i,ate=["POST","PUT"];function jP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$P(n),Nf(n)}function $P(n){n.D||(n.D=!0,Pt(n,"complete"),Pt(n,"error"))}function HP(n){if(n.h&&void 0!==LE&&(!n.C[1]||4!=mi(n)||2!=n.aa()))if(n.v&&4==mi(n))oI(n.Ha,0,n);else if(Pt(n,"readystatechange"),4==mi(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(SP)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!ote.test(i?i.toLowerCase():"")}t=r}if(t)Pt(n,"complete"),Pt(n,"success");else{n.m=6;try{var o=2<mi(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.aa()+"]",$P(n)}}finally{Nf(n)}}}function Nf(n,e){if(n.g){GP(n);const t=n.g,r=n.C[0]?hf:null;n.g=null,n.C=null,e||Pt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function GP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Q.clearTimeout(n.A),n.A=null)}function mi(n){return n.g?n.g.readyState:0}function qP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zP(n){let e="";return WE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _I(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=zP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pe(n,e,t))}function Yc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WP(n){this.Ca=0,this.i=[],this.j=new Ef,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yc("baseRetryDelayMs",5e3,n),this.bb=Yc("retryDelaySeedMs",1e4,n),this.$a=Yc("forwardChannelMaxRetries",2,n),this.ta=Yc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new OP(n&&n.concurrentRequestLimit),this.Fa=new nte,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vI(n){if(KP(n),3==n.G){var e=n.U++,t=gi(n.F);Pe(t,"SID",n.I),Pe(t,"RID",e),Pe(t,"TYPE","terminate"),Zc(n,t),(e=new jc(n,n.j,e,void 0)).K=2,e.v=Mf(gi(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon&&(t=Q.navigator.sendBeacon(e.v.toString(),"")),!t&&Q.Image&&((new Image).src=e.v,t=!0),t||(e.g=rF(e.l,null),e.g.da(e.v)),e.F=Date.now(),$c(e)}tF(n)}function Of(n){n.g&&(bI(n),n.g.cancel(),n.g=null)}function KP(n){Of(n),n.u&&(Q.clearTimeout(n.u),n.u=null),Ff(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Q.clearTimeout(n.m),n.m=null)}function Pf(n){PP(n.h)||n.m||(n.m=!0,cP(n.Ja,n),n.C=0)}function QP(n,e){var t;t=e?e.m:n.U++;const r=gi(n.F);Pe(r,"SID",n.I),Pe(r,"RID",t),Pe(r,"AID",n.T),Zc(n,r),n.o&&n.s&&_I(r,n.o,n.s),t=new jc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=YP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),gI(n.h,t),hI(t,r,e)}function Zc(n,e){n.ia&&WE(n.ia,function(t,r){Pe(e,r,t)}),n.l&&AP({},function(t,r){Pe(e,r,t)})}function YP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Wt(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{rte(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ZP(n){n.g||n.u||(n.Z=1,cP(n.Ia,n),n.A=0)}function wI(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Uc(Wt(n.Ia,n),eF(n,n.A)),n.A++,0))}function bI(n){null!=n.B&&(Q.clearTimeout(n.B),n.B=null)}function JP(n){n.g=new jc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=gi(n.sa);Pe(e,"RID","rpc"),Pe(e,"SID",n.I),Pe(e,"CI",n.L?"0":"1"),Pe(e,"AID",n.T),Pe(e,"TYPE","xmlhttp"),Zc(n,e),n.o&&n.s&&_I(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Mf(gi(e)),t.s=null,t.P=!0,IP(t,n)}function Ff(n){null!=n.v&&(Q.clearTimeout(n.v),n.v=null)}function XP(n,e){var t=null;if(n.g==e){Ff(n),bI(n),n.g=null;var r=2}else{if(!pI(n.h,e))return;t=e.D,LP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Pt(r=If(),new _P(r,t)),Pf(n)}else ZP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function cte(n,e){return!(FP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Uc(Wt(n.Ja,n,e),eF(n,n.C)),n.C++,0)))}(n,e)||2==r&&wI(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Us(n,5);break;case 4:Us(n,10);break;case 3:Us(n,6);break;default:Us(n,2)}}function eF(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Us(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Wt(n.kb,n);t||(t=new Vs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Sf(t,"https"),Mf(t)),function ite(n,e){const t=new Ef;if(Q.Image){const r=new Image;r.onload=pf(kf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pf(kf,t,r,"TestLoadImage: error",!1,e),r.onabort=pf(kf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pf(kf,t,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else cn(2);n.G=0,n.l&&n.l.va(e),tF(n),KP(n)}function tF(n){if(n.G=0,n.la=[],n.l){const e=VP(n.h);(0!=e.length||0!=n.i.length)&&(KO(n.la,e),KO(n.la,n.i),n.h.i.length=0,UE(n.i),n.i.length=0),n.l.ua()}}function nF(n,e,t){var r=t instanceof Vs?gi(t):new Vs(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),xf(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vs(null,void 0);r&&Sf(s,r),e&&(s.g=e),i&&xf(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Pe(r,t,e),Pe(r,"VER",n.ma),Zc(n,r),r}function rF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(t&&n.Da&&!n.ra?new Wc({jb:!0}):n.ra)).Ka(n.H),e}function iF(){}function Lf(){if(wa&&!(10<=Number(Tee)))throw Error("Environmental error: no available transport.")}function Nn(n,e){It.call(this),this.g=new WP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!gf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ia(this)}function sF(n){uI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function oF(){cI.call(this),this.status=1}function Ia(n){this.g=n}(L=Ge.prototype).Ka=function(n){this.L=n},L.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lI.g(),this.C=function wP(n){return n.h||(n.h=n.i())}(this.u?this.u:lI),this.g.onreadystatechange=Wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void jP(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&n instanceof Q.FormData,!(0<=WO(ate,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GP(this),0<this.B&&((this.K=function ute(n){return wa&&function Dee(){return function bee(n){var e=Cee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=QO(String(yf)).split("."),t=QO("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=BE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||BE(0==i[2].length,0==s[2].length)||BE(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.qa,this)):this.A=oI(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){jP(this,s)}},L.qa=function(){void 0!==LE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))},L.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pt(this,"complete"),Pt(this,"abort"),Nf(this))},L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nf(this,!0)),Ge.X.M.call(this)},L.Ha=function(){this.s||(this.F||this.v||this.l?HP(this):this.fb())},L.fb=function(){HP(this)},L.aa=function(){try{return 2<mi(this)?this.g.status:-1}catch(n){return-1}},L.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},L.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ste(e)}},L.Ea=function(){return this.m},L.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=WP.prototype).ma=8,L.G=1,L.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new jc(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=eP(s),nP(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=YP(this,i,e),Pe(t=gi(this.F),"RID",n),Pe(t,"CVER",22),this.D&&Pe(t,"X-HTTP-Session-Id",this.D),Zc(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(zP(s)))+"&"+e:this.o&&_I(t,this.o,s)),gI(this.h,i),this.Ya&&Pe(t,"TYPE","init"),this.O?(Pe(t,"$req",e),Pe(t,"SID","null"),i.Z=!0,hI(i,t,null)):hI(i,t,e),this.G=2}}else 3==this.G&&(n?QP(this,n):0==this.i.length||PP(this.h)||QP(this))},L.Ia=function(){if(this.u=null,JP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Uc(Wt(this.eb,this),n)}},L.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cn(10),Of(this),JP(this))},L.cb=function(){null!=this.v&&(this.v=null,Of(this),wI(this),cn(19))},L.kb=function(n){n?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))},(L=iF.prototype).xa=function(){},L.wa=function(){},L.va=function(){},L.ua=function(){},L.Ra=function(){},Lf.prototype.g=function(n,e){return new Nn(n,e)},Ot(Nn,It),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;cn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=nF(n,null,n.V),Pf(n)},Nn.prototype.close=function(){vI(this.g)},Nn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Pf(e)},Nn.prototype.M=function(){this.g.l=null,delete this.j,vI(this.g),delete this.g,Nn.X.M.call(this)},Ot(sF,uI),Ot(oF,cI),Ot(Ia,iF),Ia.prototype.xa=function(){Pt(this.g,"a")},Ia.prototype.wa=function(n){Pt(this.g,new sF(n))},Ia.prototype.va=function(n){Pt(this.g,new oF)},Ia.prototype.ua=function(){Pt(this.g,"b")},Lf.prototype.createWebChannel=Lf.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,vP.COMPLETE="complete",bP.EventType=Bc,Bc.OPEN="a",Bc.CLOSE="b",Bc.ERROR="c",Bc.MESSAGE="d",It.prototype.listen=It.prototype.N,Ge.prototype.listenOnce=Ge.prototype.O,Ge.prototype.getLastError=Ge.prototype.Oa,Ge.prototype.getLastErrorCode=Ge.prototype.Ea,Ge.prototype.getStatus=Ge.prototype.aa,Ge.prototype.getResponseJson=Ge.prototype.Sa,Ge.prototype.getResponseText=Ge.prototype.fa,Ge.prototype.send=Ge.prototype.da,Ge.prototype.setWithCredentials=Ge.prototype.Ka;var lte=pi.createWebChannelTransport=function(){return new Lf},dte=pi.getStatEventTarget=function(){return If()},EI=pi.ErrorCode=Cf,hte=pi.EventType=vP,fte=pi.Event=Fs,aF=pi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pte=pi.FetchXmlHttpFactory=Wc,Vf=pi.WebChannel=bP,gte=pi.XhrIo=Ge;const uF="@firebase/firestore";class Ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");let Ca="9.14.0";const ji=new ca("@firebase/firestore");function II(){return ji.logLevel}function T(n,...e){if(ji.logLevel<=ge.DEBUG){const t=e.map(CI);ji.debug(`Firestore (${Ca}): ${n}`,...t)}}function Ye(n,...e){if(ji.logLevel<=ge.ERROR){const t=e.map(CI);ji.error(`Firestore (${Ca}): ${n}`,...t)}}function Da(n,...e){if(ji.logLevel<=ge.WARN){const t=e.map(CI);ji.warn(`Firestore (${Ca}): ${n}`,...t)}}function CI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function F(n="Unexpected state"){const e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+n;throw Ye(e),new Error(e)}function G(n,e){n||F()}function x(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ct.UNAUTHENTICATED))}shutdown(){}}class yte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _te{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new cF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Ct(e)}}class vte{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(G(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class wte{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new vte(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bte{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.A=t.token,new lF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ete(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class dF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ete(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(n,e){return n<e?-1:n>e?1:0}function Ta(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ue{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ue(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ue(0,0))}static max(){return new q(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jc{constructor(e,t,r){void 0===t?t=0:t>e.length&&F(),void 0===r?r=e.length-t:r>e.length-t&&F(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class me extends Jc{construct(e,t,r){return new me(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new me(t)}static emptyPath(){return new me([])}}const Ite=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Jc{construct(e,t,r){return new Ze(e,t,r)}static isValidIdentifier(e){return Ite.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(t)}static emptyPath(){return new Ze([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(me.fromString(e))}static fromName(e){return new S(me.fromString(e).popFirst(5))}static empty(){return new S(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new me(e.slice()))}}function pF(n){return new On(n.readTime,n.key,-1)}class On{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new On(q.min(),S.empty(),-1)}static max(){return new On(q.max(),S.empty(),-1)}}function TI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=S.comparator(n.documentKey,e.documentKey),0!==t?t:Y(n.largestBatchId,e.largestBatchId))}const gF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function $i(n){return AI.apply(this,arguments)}function AI(){return AI=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==gF)throw n;T("LocalStore","Unexpectedly lost primary lease")}),AI.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof v?t:v.resolve(t)}catch(t){return v.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):v.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):v.reject(t)}static resolve(e){return new v((t,r)=>{t(e)})}static reject(e){return new v((t,r)=>{r(e)})}static waitFor(e){return new v((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=v.resolve(!1);for(const r of e)t=t.next(i=>i?v.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new v((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Hi(n){return"IndexedDbTransactionError"===n.name}class bn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function yF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _F(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}bn.at=-1;class qe{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new qe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Ft.RED,this.left=null!=i?i:Ft.EMPTY,this.right=null!=s?s:Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ft(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1,Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ft(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ee{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vF(this.data.getIterator())}getIteratorFrom(e){return new vF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ee)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ee(this.comparator);return t.data=e,t}}class vF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Ee(Ze.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(n){if(G(!!n),"string"==typeof n){let e=0;const t=kte.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hs(n){return"string"==typeof n?gt.fromBase64String(n):gt.fromUint8Array(n)}function xI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wF(n){const e=n.mapValue.fields.__previous_value__;return xI(e)?wF(e):e}function tl(n){const e=Gi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}class Rte{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Gs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gs&&e.projectId===this.projectId&&e.database===this.database}}function nl(n){return null==n}function rl(n){return 0===n&&1/n==-1/0}const qi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xI(n)?4:DF(n)?9007199254740991:10:F()}function Pr(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gi(r.timestampValue),o=Gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Hs(n.bytesValue).isEqual(Hs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?rl(s)===rl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ta(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(yF(s)!==yF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Pr(s[a],o[a])))return!1;return!0}(n,e);default:return F()}var i}function il(n,e){return void 0!==(n.values||[]).find(t=>Pr(t,e))}function zi(n,e){if(n===e)return 0;const t=qs(n),r=qs(e);if(t!==r)return Y(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Y(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return EF(n.timestampValue,e.timestampValue);case 4:return EF(tl(n),tl(e));case 5:return Y(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Hs(i),a=Hs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(ze(i.latitude),ze(s.latitude));return 0!==o?o:Y(ze(i.longitude),ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=zi(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qi_mapValue&&s===qi_mapValue)return 0;if(i===qi_mapValue)return 1;if(s===qi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=zi(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(n.mapValue,e.mapValue);default:throw F()}}function EF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Y(n,e);const t=Gi(n),r=Gi(e),i=Y(t.seconds,r.seconds);return 0!==i?i:Y(t.nanos,r.nanos)}function Sa(n){return MI(n)}function MI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Gi(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hs(n.bytesValue).toBase64():"referenceValue"in n?S.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=MI(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${MI(r.fields[a])}`;return s+"}"}(n.mapValue):F();var e}function kI(n){return!!n&&"integerValue"in n}function sl(n){return!!n&&"arrayValue"in n}function IF(n){return!!n&&"nullValue"in n}function CF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ol(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ol(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$s(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(ol(this.value))}}function SF(n){const e=[];return $s(n.fields,(t,r)=>{const i=new Ze([t]);if(Gf(r)){const s=SF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}class xe{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xe(e,0,q.min(),q.min(),Lt.empty(),0)}static newFoundDocument(e,t,r){return new xe(e,1,t,q.min(),r,0)}static newNoDocument(e,t){return new xe(e,2,t,q.min(),Lt.empty(),0)}static newUnknownDocument(e,t){return new xe(e,3,t,q.min(),Lt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pte{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function xF(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Pte(n,e,t,r,i,s,o)}function Ws(n){const e=x(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Sa(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),nl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sa(r)).join(",")),e.ht=t}return e.ht}function al(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Gte(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Pr(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OF(n.startAt,e.startAt)&&OF(n.endAt,e.endAt)}function qf(n){return S.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Vt extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Lte(e,t,r):"array-contains"===t?new Bte(e,r):"in"===t?new jte(e,r):"not-in"===t?new $te(e,r):"array-contains-any"===t?new Hte(e,r):new Vt(e,t,r)}static lt(e,t,r){return"in"===t?new Vte(e,r):new Ute(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(zi(t,this.value)):null!==t&&qs(this.value)===qs(t)&&this.ft(zi(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Lte extends Vt{constructor(e,t,r){super(e,t,r),this.key=S.fromName(r.referenceValue)}matches(e){const t=S.comparator(e.key,this.key);return this.ft(t)}}class Vte extends Vt{constructor(e,t){super(e,"in",t),this.keys=RF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ute extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=RF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>S.fromName(r.referenceValue))}class Bte extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sl(t)&&il(t.arrayValue,this.value)}}class jte extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&il(this.value.arrayValue,t)}}class $te extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!il(this.value.arrayValue,t)}}class Hte extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}class Wi{constructor(e,t){this.position=e,this.inclusive=t}}class xa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function NF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),t.key):zi(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function OF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}class yi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function Ma(n){return new yi(n)}function FF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ka(n){const e=x(n);if(null===e._t){e._t=[];const t=function NI(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function RI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new xa(t)),e._t.push(new xa(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new xa(Ze.keyField(),s))}}}return e._t}function ln(n){const e=x(n);if(!e.wt)if("F"===e.limitType)e.wt=xF(e.path,e.collectionGroup,ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ka(e))t.push(new xa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Wi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wi(e.startAt.position,e.startAt.inclusive):null;e.wt=xF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Wf(n,e,t){return new yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ul(n,e){return al(ln(n),ln(e))&&n.limitType===e.limitType}function LF(n){return`${Ws(ln(n))}|lt:${n.limitType}`}function PI(n){return`Query(target=${function Fte(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sa(r.value)}`;var r}).join(", ")}]`),nl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sa(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sa(t)).join(",")),`Target(${e})`}(ln(n))}; limitType=${n.limitType})`}function FI(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):S.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=NF(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ka(t),r)||t.endAt&&!function(i,s,o){const a=NF(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ka(t),r)));var t,r}function UF(n){return(e,t)=>{let r=!1;for(const i of ka(n)){const s=qte(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function qte(n,e,t){const r=n.field.isKeyField()?S.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?zi(a,u):F()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function BF(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(e)?"-0":e}}function jF(n){return{integerValue:""+n}}function $F(n,e){return function bF(n){return"number"==typeof n&&Number.isInteger(n)&&!rl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?jF(e):BF(n,e)}class Kf{constructor(){this._=void 0}}function zte(n,e,t){return n instanceof Ra?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ks?GF(n,e):n instanceof Qs?qF(n,e):function(r,i){const s=HF(r,i),o=zF(s)+zF(r.yt);return kI(s)&&kI(r.yt)?jF(o):BF(r.It,o)}(n,e)}function Wte(n,e,t){return n instanceof Ks?GF(n,e):n instanceof Qs?qF(n,e):t}function HF(n,e){return n instanceof Na?kI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ra extends Kf{}class Ks extends Kf{constructor(e){super(),this.elements=e}}function GF(n,e){const t=WF(e);for(const r of n.elements)t.some(i=>Pr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qs extends Kf{constructor(e){super(),this.elements=e}}function qF(n,e){let t=WF(e);for(const r of n.elements)t=t.filter(i=>!Pr(i,r));return{arrayValue:{values:t}}}class Na extends Kf{constructor(e,t){super(),this.It=e,this.yt=t}}function zF(n){return ze(n.integerValue||n.doubleValue)}function WF(n){return sl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qte{constructor(e,t){this.version=e,this.transformResults=t}}class Fe{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yf{}function KF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Pa(n.key,Fe.none()):new Oa(n.key,n.data,Fe.none());{const t=n.data,r=Lt.empty();let i=new Ee(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new _i(n.key,r,new Pn(i.toArray()),Fe.none())}}function Yte(n,e,t){n instanceof Oa?function(r,i,s){const o=r.value.clone(),a=ZF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof _i?function(r,i,s){if(!Qf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ZF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(YF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ll(n,e,t,r){return n instanceof Oa?function(i,s,o,a){if(!Qf(i.precondition,s))return o;const u=i.value.clone(),c=JF(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof _i?function(i,s,o,a){if(!Qf(i.precondition,s))return o;const u=JF(i.fieldTransforms,a,s),c=s.data;return c.setAll(YF(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,Qf(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Zte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=HF(r.transform,i||null);null!=s&&(null===t&&(t=Lt.empty()),t.set(r.field,s))}return t||null}function QF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ta(t,r,(i,s)=>function Kte(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ks&&r instanceof Ks||t instanceof Qs&&r instanceof Qs?Ta(t.elements,r.elements,Pr):t instanceof Na&&r instanceof Na?Pr(t.yt,r.yt):t instanceof Ra&&r instanceof Ra);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Oa extends Yf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _i extends Yf{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ZF(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wte(o,a,t[i]))}return r}function JF(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,zte(s,o,e))}return r}class Pa extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jte{constructor(e){this.count=e}}var st,ye;function XF(n){switch(n){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function eL(n){if(void 0===n)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(n){case st.OK:return w.OK;case st.CANCELLED:return w.CANCELLED;case st.UNKNOWN:return w.UNKNOWN;case st.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case st.INTERNAL:return w.INTERNAL;case st.UNAVAILABLE:return w.UNAVAILABLE;case st.UNAUTHENTICATED:return w.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case st.NOT_FOUND:return w.NOT_FOUND;case st.ALREADY_EXISTS:return w.ALREADY_EXISTS;case st.PERMISSION_DENIED:return w.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case st.ABORTED:return w.ABORTED;case st.OUT_OF_RANGE:return w.OUT_OF_RANGE;case st.UNIMPLEMENTED:return w.UNIMPLEMENTED;case st.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(ye=st||(st={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class Ki{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _F(this.inner)}size(){return this.innerSize}}const Xte=new qe(S.comparator);function En(){return Xte}const tL=new qe(S.comparator);function dl(...n){let e=tL;for(const t of n)e=e.insert(t.key,t);return e}function nL(n){let e=tL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fr(){return hl()}function rL(){return hl()}function hl(){return new Ki(n=>n.toString(),(n,e)=>n.isEqual(e))}const ene=new qe(S.comparator),tne=new Ee(S.comparator);function X(...n){let e=tne;for(const t of n)e=e.add(t);return e}const nne=new Ee(Y);function Zf(){return nne}class fl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fl(q.min(),i,Zf(),En(),X())}}class pl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pl(r,t,X(),X(),X())}}class Jf{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class iL{constructor(e,t){this.targetId=e,this.At=t}}class sL{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class oL{constructor(){this.Rt=0,this.bt=uL(),this.Pt=gt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=X(),t=X(),r=X();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:F()}}),new pl(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=uL()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class rne{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=En(),this.qt=aL(),this.Kt=new Ee(Y)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:F()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(qf(s))if(0===r){const o=new S(s.path);this.jt(t,o,xe.newNoDocument(o,q.min()))}else G(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&qf(a.target)){const u=new S(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,xe.newNoDocument(u,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=X();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new fl(e,t,this.Kt,this.Ut,r);return this.Ut=En(),this.qt=aL(),this.Kt=new Ee(Y),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new oL,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ee(Y),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new oL),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function aL(){return new qe(S.comparator)}function uL(){return new qe(S.comparator)}const ine={asc:"ASCENDING",desc:"DESCENDING"},sne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class one{constructor(e,t){this.databaseId=e,this.gt=t}}function gl(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cL(n,e){return n.gt?e.toBase64():e.toUint8Array()}function ane(n,e){return gl(n,e.toTimestamp())}function Dt(n){return G(!!n),q.fromTimestamp(function(e){const t=Gi(e);return new Ue(t.seconds,t.nanos)}(n))}function VI(n,e){return(t=n,new me(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lL(n){const e=me.fromString(n);return G(_L(e)),e}function ml(n,e){return VI(n.databaseId,e.path)}function Lr(n,e){const t=lL(e);if(t.get(1)!==n.databaseId.projectId)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new S(hL(t))}function UI(n,e){return VI(n.databaseId,e)}function yl(n){return new me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hL(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fL(n,e,t){return{name:ml(n,e),fields:t.value.mapValue.fields}}function gL(n,e){return{documents:[UI(n,e.path)]}}function jI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(CF(d.value))return{unaryFilter:{field:Fa(d.field),op:"IS_NAN"}};if(IF(d.value))return{unaryFilter:{field:Fa(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(CF(d.value))return{unaryFilter:{field:Fa(d.field),op:"IS_NOT_NAN"}};if(IF(d.value))return{unaryFilter:{field:Fa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(d.field),op:fne(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Fa((l=c).field),direction:hne(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||nl(c)?c:{value:c});var c,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function mL(n){let e=function dL(n){const e=lL(n);return 4===e.length?me.emptyPath():hL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=yL(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new xa(La((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,nl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new Wi((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new Wi(l.values||[],!l.before)}(t.endAt)),function PF(n,e,t,r,i,s,o,a){return new yi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function yL(n){return n?void 0!==n.unaryFilter?[gne(n)]:void 0!==n.fieldFilter?[pne(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>yL(e)).reduce((e,t)=>e.concat(t)):F():[]}function hne(n){return ine[n]}function fne(n){return sne[n]}function Fa(n){return{fieldPath:n.canonicalString()}}function La(n){return Ze.fromServerFormat(n.fieldPath)}function pne(n){return Vt.create(La(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}function gne(n){switch(n.unaryFilter.op){case"IS_NAN":const e=La(n.unaryFilter.field);return Vt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=La(n.unaryFilter.field);return Vt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=La(n.unaryFilter.field);return Vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=La(n.unaryFilter.field);return Vt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F()}}function mne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _L(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class HI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yte(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=KF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),X())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(t,r)=>QF(t,r))&&Ta(this.baseMutations,e.baseMutations,(t,r)=>QF(t,r))}}class GI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=ene;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new GI(e,t,r,i)}}class qI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qi{constructor(e,t,r,i,s=q.min(),o=q.min(),a=gt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class DL{constructor(e){this.re=e}}function zI(n){const e=mL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Wf(e,e.limit,"L"):e}class Xs{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),rl(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Hs(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?DF(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):F()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),S.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Xs.Te=new Xs;class $ne{constructor(){this.Ye=new KI}addToCollectionParentIndex(e,t){return this.Ye.add(t),v.resolve()}getCollectionParents(e,t){return v.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return v.resolve()}deleteFieldIndex(e,t){return v.resolve()}getDocumentsMatchingTarget(e,t){return v.resolve(null)}getIndexType(e,t){return v.resolve(0)}getFieldIndexes(e,t){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,t){return v.resolve(On.min())}getMinOffsetFromCollectionGroup(e,t){return v.resolve(On.min())}updateCollectionGroup(e,t,r){return v.resolve()}updateIndexEntries(e,t){return v.resolve()}}class KI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ee(me.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ee(me.comparator)).toArray()}}new Uint8Array(0);class In{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class no{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new no(0)}static vn(){return new no(-1)}}class Jne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&ll(r.mutation,i,Pn.empty(),Ue.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,t,r=X()){const i=Fr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=dl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Fr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,X()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=En();const o=hl(),a=hl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof _i)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),ll(l.mutation,c,l.mutation.getFieldMask(),Ue.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Jne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=hl();let i=new qe((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||X()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=rL();l.forEach(h=>{if(!s.has(h)){const f=KF(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return S.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function OI(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):v.resolve(Fr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,X())).next(l=>({batchId:a,changes:nL(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new S(t)).next(r=>{let i=dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=dl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=t,l=a.child(i),new yi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,xe.newInvalidDocument(c)))});let o=dl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&ll(c.mutation,u,Pn.empty(),Ue.now()),FI(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):v.resolve(xe.newInvalidDocument(t))}}class Xne{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return v.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Dt(r.createTime)}),v.resolve()}getNamedQuery(e,t){return v.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:zI(r.bundledQuery),readTime:Dt(r.readTime)}),v.resolve();var r}}class ere{constructor(){this.overlays=new qe(S.comparator),this.es=new Map}getOverlay(e,t){return v.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fr();return v.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),v.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,t,r){const i=Fr(),s=t.length+1,o=new S(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new qe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Fr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Fr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qI(t,r));let s=this.es.get(t);void 0===s&&(s=X(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class QI{constructor(){this.ns=new Ee(At.ss),this.rs=new Ee(At.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new At(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new At(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new S(new me([])),r=new At(t,e),i=new At(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new S(new me([])),r=new At(t,e),i=new At(t,e+1);let s=X();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new At(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class At{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return S.comparator(e.key,t.key)||Y(e._s,t._s)}static os(e,t){return Y(e._s,t._s)||S.comparator(e.key,t.key)}}class tre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ee(At.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new HI(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,t){return v.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new At(t,0),i=new At(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ee(Y);return t.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new At(new S(s),0);let a=new Ee(Y);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(t.mutations,i=>{const s=new At(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new At(t,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nre{constructor(e){this.Es=e,this.docs=new qe(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return v.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(t))}getEntries(e,t){let r=En();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,t,r){let i=En();const s=new S(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||TI(pF(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,t,r,i){F()}As(e,t){return v.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rre(this)}getSize(e){return v.resolve(this.size)}}class rre extends class Qne{constructor(){this.changes=new Ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?v.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ire{constructor(e){this.persistence=e,this.Rs=new Ki(t=>Ws(t),al),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new QI,this.targetCount=0,this.vs=no.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),v.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new no(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,v.resolve()}updateTargetData(e,t){return this.Dn(t),v.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return v.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),v.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),v.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return v.resolve(r)}containsKey(e,t){return v.resolve(this.Ps.containsKey(t))}}class WL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new bn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ire(this),this.indexManager=new $ne,this.remoteDocumentCache=new nre(r=>this.referenceDelegate.xs(r)),this.It=new DL(t),this.Ns=new Xne(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ere,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new tre(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new sre(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class sre extends class Tte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Fs=new QI,this.$s=null}static Bs(e){return new ap(e)}get Ls(){if(this.$s)return this.$s;throw F()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),v.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=S.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return v.or([()=>v.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class XI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=X(),i=X();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new XI(e,t.fromCache,r,i)}}class QL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(FF(t))return v.resolve(null);let r=ln(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Wf(t,null,"F"),r=ln(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=X(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(t,a);return this.$i(t,c,o,u.readTime)?this.ki(e,Wf(t,null,"F")):this.Bi(e,c,t,u)}))})))}Oi(e,t,r,i){return FF(t)||i.isEqual(q.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(II()<=ge.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),PI(t)),this.Bi(e,o,t,function fF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new Ue(t+1,0):new Ue(t,r));return new On(i,S.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Ee(UF(e));return t.forEach((i,s)=>{FI(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return II()<=ge.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",PI(t)),this.Ni.getDocumentsMatchingQuery(e,t,On.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class are{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new qe(Y),this.qi=new Ki(s=>Ws(s),al),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function ZL(n,e){return eC.apply(this,arguments)}function eC(){return eC=g(function*(n,e){const t=x(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=X();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),eC.apply(this,arguments)}function ure(n,e){const t=x(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);G(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=X();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function JL(n){const e=x(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function cre(n,e){const t=x(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(gt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let u=En(),c=X();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function XL(n,e,t){let r=X(),i=X();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=En();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(q.min())){const l=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ui=i,s))}function lre(n,e){const t=x(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ba(n,e){const t=x(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new Qi(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function ja(n,e,t){return tC.apply(this,arguments)}function tC(){return tC=g(function*(n,e,t){const r=x(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Hi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),tC.apply(this,arguments)}function cp(n,e,t){const r=x(n);let i=q.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.qi.get(c);return void 0!==d?v.resolve(l.Ui.get(d)):l.Cs.getTargetData(u,c)}(r,o,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:X())).next(a=>(function nV(n,e,t){let r=n.Ki.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function VF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class oC{constructor(){this.activeTargetIds=Zf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sV{constructor(){this.Lr=new oC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fre{qr(e){}shutdown(){}}class oV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const pre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gre{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class mre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Da("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ca,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${pre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new gte;a.setWithCredentials(!0),a.listenOnce(hte.COMPLETE,()=>{var c;try{switch(a.getLastErrorCode()){case EI.NO_ERROR:const l=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(l)),s(l);break;case EI.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case EI.HTTP_ERROR:const d=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null===(c=h)||void 0===c?void 0:c.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);o(new C(p,f.message))}else o(new C(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lte(),o=dte(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new pte({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new gre({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,b=>{try{y(b)}catch(_){setTimeout(()=>{throw _},0)}})};return f(c,Vf.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Vf.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,Vf.EventType.ERROR,p=>{d||(d=!0,Da("Connection","WebChannel transport errored:",p),h.io(new C(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Vf.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];G(!!y);const b=y,_=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(_){T("Connection","WebChannel received error:",_);const D=_.status;let R=function($){const Ie=st[$];if(void 0!==Ie)return eL(Ie)}(D),N=_.message;void 0===R&&(R=w.INTERNAL,N="Unknown error status: "+D+" with message "+_.message),d=!0,h.io(new C(R,N)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,fte.STAT_EVENT,p=>{p.stat===aF.PROXY?T("Connection","Detected buffering proxy"):p.stat===aF.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function hp(){return"undefined"!=typeof document?document:null}function Al(n){return new one(n,!0)}class uC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class uV{constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new uC(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return g(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Ye(t.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new C(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yre extends uV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function cne(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.gt?(G(void 0===c||"string"==typeof c),gt.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:eL(u.code);return new C(c,u.message||"")}(o);t=new sL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Lr(n,r.document.name),s=Dt(r.document.updateTime),o=new Lt({mapValue:{fields:r.document.fields}}),a=xe.newFoundDocument(i,s,o);t=new Jf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Lr(n,r.document),s=r.readTime?Dt(r.readTime):q.min(),o=xe.newNoDocument(i,s);t=new Jf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Lr(n,r.document);t=new Jf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new Jte(r.count||0);t=new iL(r.targetId,s)}}var u;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?Dt(s.readTime):q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=yl(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=qf(a)?{documents:gL(i,a)}:{query:jI(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=cL(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=gl(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function dne(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=yl(this.It),t.removeTarget=e,this.Bo(t)}}class _re extends uV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function lne(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(r,i){let s=Dt(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=Dt(i)),new Qte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Dt(e.commitTime);return this.listener.Zo(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=yl(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function _l(n,e){let t;if(e instanceof Oa)t={update:fL(n,e.key,e.value)};else if(e instanceof Pa)t={delete:ml(n,e.key)};else if(e instanceof _i)t={update:fL(n,e.key,e.data),updateMask:mne(e.fieldMask)};else{if(!(e instanceof LI))return F();t={verify:ml(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ra)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Na)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw F()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ane(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),t;var i}(this.It,r))};this.Bo(t)}}class vre extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class bre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ye(t),this.ou=!1):T("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ere{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(g(function*(){var u;vi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l._u.add(4),yield $a(l),l.gu.set("Unknown"),l._u.delete(4),yield Sl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new bre(r,i)}}function Sl(n){return lC.apply(this,arguments)}function lC(){return lC=g(function*(n){if(vi(n))for(const e of n.wu)yield e(!0)}),lC.apply(this,arguments)}function $a(n){return dC.apply(this,arguments)}function dC(){return dC=g(function*(n){for(const e of n.wu)yield e(!1)}),dC.apply(this,arguments)}function fp(n,e){const t=x(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),pC(t)?fC(t):Ga(t).ko()&&hC(t,e))}function xl(n,e){const t=x(n),r=Ga(t);t.du.delete(e),r.ko()&&cV(t,e),0===t.du.size&&(r.ko()?r.Fo():vi(t)&&t.gu.set("Unknown"))}function hC(n,e){n.yu.Mt(e.targetId),Ga(n).zo(e)}function cV(n,e){n.yu.Mt(e),Ga(n).Ho(e)}function fC(n){n.yu=new rne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Ga(n).start(),n.gu.uu()}function pC(n){return vi(n)&&!Ga(n).No()&&n.du.size>0}function vi(n){return 0===x(n)._u.size}function lV(n){n.yu=void 0}function Ire(n){return gC.apply(this,arguments)}function gC(){return gC=g(function*(n){n.du.forEach((e,t)=>{hC(n,e)})}),gC.apply(this,arguments)}function Cre(n,e){return mC.apply(this,arguments)}function mC(){return mC=g(function*(n,e){lV(n),pC(n)?(n.gu.hu(e),fC(n)):n.gu.set("Unknown")}),mC.apply(this,arguments)}function Dre(n,e,t){return yC.apply(this,arguments)}function yC(){return yC=g(function*(n,e,t){if(n.gu.set("Online"),e instanceof sL&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pp(n,r)}else if(e instanceof Jf?n.yu.Gt(e):e instanceof iL?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(q.min()))try{const r=yield JL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(gt.EMPTY_BYTE_STRING,u.snapshotVersion)),cV(i,a);const c=new Qi(u.target,a,1,u.sequenceNumber);hC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield pp(n,r)}var r}),yC.apply(this,arguments)}function pp(n,e,t){return _C.apply(this,arguments)}function _C(){return _C=g(function*(n,e,t){if(!Hi(e))throw e;n._u.add(1),yield $a(n),n.gu.set("Offline"),t||(t=()=>JL(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Sl(n)}))}),_C.apply(this,arguments)}function dV(n,e){return e().catch(t=>pp(n,t,e))}function Ha(n){return vC.apply(this,arguments)}function vC(){return vC=g(function*(n){const e=x(n),t=Ji(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Tre(e);)try{const i=yield lre(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Are(e,i)}catch(i){yield pp(e,i)}hV(e)&&fV(e)}),vC.apply(this,arguments)}function Tre(n){return vi(n)&&n.fu.length<10}function Are(n,e){n.fu.push(e);const t=Ji(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function hV(n){return vi(n)&&!Ji(n).No()&&n.fu.length>0}function fV(n){Ji(n).start()}function Sre(n){return wC.apply(this,arguments)}function wC(){return wC=g(function*(n){Ji(n).eu()}),wC.apply(this,arguments)}function xre(n){return bC.apply(this,arguments)}function bC(){return bC=g(function*(n){const e=Ji(n);for(const t of n.fu)e.Xo(t.mutations)}),bC.apply(this,arguments)}function Mre(n,e,t){return EC.apply(this,arguments)}function EC(){return EC=g(function*(n,e,t){const r=n.fu.shift(),i=GI.from(r,e,t);yield dV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ha(n)}),EC.apply(this,arguments)}function kre(n,e){return IC.apply(this,arguments)}function IC(){return IC=g(function*(n,e){var t;e&&Ji(n).Yo&&(yield(t=g(function*(r,i){if(XF(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();Ji(r).Mo(),yield dV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ha(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),hV(n)&&fV(n)}),IC.apply(this,arguments)}function pV(n,e){return CC.apply(this,arguments)}function CC(){return CC=g(function*(n,e){const t=x(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=vi(t);t._u.add(3),yield $a(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Sl(t)}),CC.apply(this,arguments)}function TC(){return TC=g(function*(n,e){const t=x(n);e?(t._u.delete(2),yield Sl(t)):e||(t._u.add(2),yield $a(t),t.gu.set("Unknown"))}),TC.apply(this,arguments)}function Ga(n){return n.pu||(n.pu=function(e,t,r){const i=x(e);return i.su(),new yre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Ire.bind(null,n),Zr:Cre.bind(null,n),Wo:Dre.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.pu.Mo(),pC(n)?fC(n):n.gu.set("Unknown")):(yield n.pu.stop(),lV(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ji(n){return n.Iu||(n.Iu=function(e,t,r){const i=x(e);return i.su(),new _re(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Sre.bind(null,n),Zr:kre.bind(null,n),tu:xre.bind(null,n),Zo:Mre.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.Iu.Mo(),yield Ha(n)):(yield n.Iu.stop(),n.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class AC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new AC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qa(n,e){if(Ye("AsyncQueue",`${e}: ${n}`),Hi(n))return new C(w.UNAVAILABLE,`${e}: ${n}`);throw n}class za{constructor(e){this.comparator=e?(t,r)=>e(t,r)||S.comparator(t.key,r.key):(t,r)=>S.comparator(t.key,r.key),this.keyedMap=dl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new za(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gV{constructor(){this.Tu=new qe(S.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):F():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wa{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Wa(e,t,za.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ul(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Rre{constructor(){this.Au=void 0,this.listeners=[]}}class Nre{constructor(){this.queries=new Ki(e=>LF(e),ul),this.onlineState="Unknown",this.Ru=new Set}}function xC(){return xC=g(function*(n,e){const t=x(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Rre),i)try{s.Au=yield t.onListen(r)}catch(o){const a=qa(o,`Initialization of query '${PI(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&RC(t)}),xC.apply(this,arguments)}function kC(){return kC=g(function*(n,e){const t=x(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),kC.apply(this,arguments)}function Ore(n,e){const t=x(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&RC(t)}function Pre(n,e,t){const r=x(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function RC(n){n.Ru.forEach(e=>{e.next()})}class NC{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class _V{constructor(e){this.key=e}}class vV{constructor(e){this.key=e}}class wV{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=X(),this.mutatedKeys=X(),this.Gu=UF(e),this.Qu=new za(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new gV,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=FI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Wa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=X(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new vV(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new _V(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=X();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Wa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Vre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ure{constructor(e){this.key=e,this.nc=!1}}class Bre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ki(a=>LF(a),ul),this.rc=new Map,this.oc=new Set,this.uc=new qe(S.comparator),this.cc=new Map,this.ac=new QI,this.hc={},this.lc=new Map,this.fc=no.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function jre(n,e){return OC.apply(this,arguments)}function OC(){return OC=g(function*(n,e){const t=rD(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Ba(t.localStore,ln(e));t.isPrimaryClient&&fp(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield PC(t,e,r,"current"===a,o.resumeToken)}return i}),OC.apply(this,arguments)}function PC(n,e,t,r,i){return FC.apply(this,arguments)}function FC(){return FC=g(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=g(function*(m,y,b,_){let D=y.view.Wu(b);D.$i&&(D=yield cp(m.localStore,y.query,!1).then(({documents:$})=>y.view.Wu($,D)));const R=_&&_.targetChanges.get(y.targetId),N=y.view.applyChanges(D,m.isPrimaryClient,R);return zC(m,y.targetId,N.Xu),N.snapshot}),function(m,y,b,_){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield cp(n.localStore,e,!0),o=new wV(e,s.Hi),a=o.Wu(s.documents),u=pl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);zC(n,t,c.Xu);const l=new Vre(e,t,o);return n.ic.set(e,l),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),FC.apply(this,arguments)}function $re(n,e){return LC.apply(this,arguments)}function LC(){return LC=g(function*(n,e){const t=x(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!ul(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ja(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xl(t.remoteStore,r.targetId),Ka(t,r.targetId)}).catch($i))):(Ka(t,r.targetId),yield ja(t.localStore,r.targetId,!0))}),LC.apply(this,arguments)}function VC(){return VC=g(function*(n,e,t){const r=iD(n);try{const i=yield function(s,o){const a=x(s),u=Ue.now(),c=o.reduce((h,f)=>h.add(f.key),X());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=En(),p=X();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const b of o){const _=Zte(b,l.get(b.key).overlayedDocument);null!=_&&y.push(new _i(b.key,_,SF(_.value.mapValue),Fe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:nL(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new qe(Y)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield wi(r,i.changes),yield Ha(r.remoteStore)}catch(i){const s=qa(i,"Failed to persist write");t.reject(s)}}),VC.apply(this,arguments)}function bV(n,e){return UC.apply(this,arguments)}function UC(){return UC=g(function*(n,e){const t=x(n);try{const r=yield cre(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?G(o.nc):i.removedDocuments.size>0&&(G(o.nc),o.nc=!1))}),yield wi(t,r,e)}catch(r){yield $i(r)}}),UC.apply(this,arguments)}function EV(n,e,t){const r=x(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&RC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Gre(n,e,t){return BC.apply(this,arguments)}function BC(){return BC=g(function*(n,e,t){const r=x(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new qe(S.comparator);o=o.insert(s,xe.newNoDocument(s,q.min()));const a=X().add(s),u=new fl(q.min(),new Map,new Ee(Y),o,a);yield bV(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),WC(r)}else yield ja(r.localStore,e,!1).then(()=>Ka(r,e,t)).catch($i)}),BC.apply(this,arguments)}function qre(n,e){return jC.apply(this,arguments)}function jC(){return jC=g(function*(n,e){const t=x(n),r=e.batch.batchId;try{const i=yield ure(t.localStore,e);qC(t,r,null),GC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wi(t,i)}catch(i){yield $i(i)}}),jC.apply(this,arguments)}function zre(n,e,t){return $C.apply(this,arguments)}function $C(){return $C=g(function*(n,e,t){const r=x(n);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(G(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);qC(r,e,t),GC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wi(r,i)}catch(i){yield $i(i)}}),$C.apply(this,arguments)}function GC(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function qC(n,e,t){const r=x(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ka(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||IV(n,r)})}function IV(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(xl(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),WC(n))}function zC(n,e,t){for(const r of t)r instanceof _V?(n.ac.addReference(r.key,e),Kre(n,r)):r instanceof vV?(T("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||IV(n,r.key)):F()}function Kre(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.oc.add(r),WC(n))}function WC(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new S(me.fromString(e)),r=n.fc.next();n.cc.set(r,new Ure(t)),n.uc=n.uc.insert(t,r),fp(n.remoteStore,new Qi(ln(Ma(t.path)),r,2,bn.at))}}function wi(n,e,t){return KC.apply(this,arguments)}function KC(){return KC=g(function*(n,e,t){const r=x(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const l=XI.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Hi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ui=l.Ui.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),KC.apply(this,arguments)}function Qre(n,e){return QC.apply(this,arguments)}function QC(){return QC=g(function*(n,e){const t=x(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield ZL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new C(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wi(t,r.ji)}var i}),QC.apply(this,arguments)}function Yre(n,e){const t=x(n),r=t.cc.get(e);if(r&&r.nc)return X().add(r.key);{let i=X();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function rD(n){const e=x(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gre.bind(null,e),e.sc.Wo=Ore.bind(null,e.eventManager),e.sc.wc=Pre.bind(null,e.eventManager),e}function iD(n){const e=x(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zre.bind(null,e),e}class sie{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.It=Al(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function YL(n,e,t,r){return new are(n,e,t,r)}(this.persistence,new QL,e.initialUser,this.It)}yc(e){return new WL(ap.Bs,this.It)}gc(e){return new sV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sD{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Qre.bind(null,r.syncEngine),yield function DC(n,e){return TC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Nre}createDatastore(e){const t=Al(e.databaseInfo.databaseId),r=new mre(e.databaseInfo);return new vre(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>EV(this.syncEngine,a,0),o=oV.C()?new oV:new fre,new Ere(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Bre(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=x(t);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield $a(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oD(n,e,t){if(!t)throw new C(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TV(n){if(!S.isDocumentKey(n))throw new C(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AV(n){if(S.isDocumentKey(n))throw new C(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":F()}function he(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gp(n);throw new C(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const xV=new Map;class MV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function uie(n,e,t,r){if(!0===e&&!0===r)throw new C(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ml{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mte;switch(t.type){case"gapi":return new wte(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xV.get(e);t&&(T("ComponentProvider","Removing Datastore"),xV.delete(e),t.terminate())}(this),Promise.resolve()}}class Je{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Qt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class Ur extends Qt{constructor(e,t,r){super(e,t,Ma(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new S(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function lie(n,e,...t){if(n=qt(n),oD("collection","path",e),n instanceof Ml){const r=me.fromString(e,...t);return AV(r),new Ur(n,null,r)}{if(!(n instanceof Je||n instanceof Ur))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(me.fromString(e,...t));return AV(r),new Ur(n.firestore,null,r)}}function kV(n,e,...t){if(n=qt(n),1===arguments.length&&(e=dF.R()),oD("doc","path",e),n instanceof Ml){const r=me.fromString(e,...t);return TV(r),new Je(n,null,new S(r))}{if(!(n instanceof Je||n instanceof Ur))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(me.fromString(e,...t));return TV(r),new Je(n.firestore,n instanceof Ur?n.converter:null,new S(r))}}class mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mie{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=dF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=qa(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function OV(n,e){return aD.apply(this,arguments)}function aD(){return aD=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield ZL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aD.apply(this,arguments)}function PV(n,e){return uD.apply(this,arguments)}function uD(){return uD=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cD(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>pV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>pV(e.remoteStore,s)),n.onlineComponents=e}),uD.apply(this,arguments)}function cD(n){return lD.apply(this,arguments)}function lD(){return lD=g(function*(n){return n.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield OV(n,new sie)),n.offlineComponents}),lD.apply(this,arguments)}function yp(n){return dD.apply(this,arguments)}function dD(){return dD=g(function*(n){return n.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield PV(n,new sD)),n.onlineComponents}),dD.apply(this,arguments)}function Qa(n){return pD.apply(this,arguments)}function pD(){return pD=g(function*(n){const e=yield yp(n),t=e.eventManager;return t.onListen=jre.bind(null,e.syncEngine),t.onUnlisten=$re.bind(null,e.syncEngine),t}),pD.apply(this,arguments)}class Cie{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new uC(this,"async_queue_retry"),this.Wc=()=>{const t=hp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=hp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=hp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new pt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Hi(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=AC.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&F()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function gD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ke extends Ml{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Cie,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BV(this),this._firestoreClient.terminate()}}function Tie(n,e){const r="string"==typeof n?n:e||"(default)",i=la("object"==typeof n?n:R_(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=rR("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function cie(n,e,t,r={}){var i;const s=(n=he(n,Ml))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Da("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Ct.MOCK_USER;else{o=function w5(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sh(JSON.stringify({alg:"none",type:"JWT"})),Sh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ct(u)}n._authCredentials=new yte(new cF(o,a))}}(i,...s)}return i}function ot(n){return n._firestoreClient||BV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BV(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Rte(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new mie(n._authCredentials,n._appCheckCredentials,n._queue,r)}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(gt.fromBase64String(e))}catch(t){throw new C(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new io(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HV{constructor(e){this._methodName=e}}class mD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const Aie=/^__.*__$/;class Sie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _i(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oa(e,this.data,t,this.fieldTransforms)}}function qV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class vp{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(qV(this.sa)&&Aie.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class xie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Al(e)}da(e,t,r,i=!1){return new vp({sa:e,methodName:t,fa:r,path:Ze.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Za(n){const e=n._freezeSettings(),t=Al(n._databaseId);return new xie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yD(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);vD("Data must be an object, but it was:",o,r);const a=YV(r,o);let u,c;if(s.merge)u=new Pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=wD(e,d,t);if(!o.contains(h))throw new C(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JV(l,h)||l.push(h)}u=new Pn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Sie(new Lt(a),u,c)}function so(n,e){if(ZV(n=qt(n)))return vD("Unsupported field value:",e,n),YV(n,e);if(n instanceof HV)return function(t,r){if(!qV(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=so(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=qt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $F(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ue.fromDate(t);return{timestampValue:gl(r.It,i)}}if(t instanceof Ue){const i=new Ue(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gl(r.It,i)}}if(t instanceof mD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof io)return{bytesValue:cL(r.It,t._byteString)};if(t instanceof Je){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${gp(t)}`)}(n,e)}function YV(n,e){const t={};return _F(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(n,(r,i)=>{const s=so(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function ZV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof mD||n instanceof io||n instanceof Je||n instanceof HV)}function vD(n,e,t){if(!ZV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function wD(n,e,t){if((e=qt(e))instanceof Ya)return e._internalPath;if("string"==typeof e)return wp(n,e);throw bp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Nie=new RegExp("[~\\*/\\[\\]]");function wp(n,e,t){if(e.search(Nie)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch(r){throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(w.INVALID_ARGUMENT,a+n+u)}function JV(n,e){return n.some(t=>t.isEqual(e))}class bD{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Oie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ep("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Oie extends bD{data(){return super.data()}}function Ep(n,e){return"string"==typeof e?wp(n,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}class oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends bD{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ep("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ip extends Ja{data(e={}){return super.data(e)}}class Xa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ip(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ip(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ip(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Vie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Xi extends class Lie{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw F()}}convertObject(e,t){const r={};return $s(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new mD(ze(e.latitude),ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new Ue(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=me.fromString(e);G(_L(r));const i=new Gs(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(t)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}}function Uie(n,e,t){n=he(n,Je);const r=he(n.firestore,ke),i=function ED(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Rl(r,[yD(Za(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Fe.none())])}function Bie(n){return Rl(he(n.firestore,ke),[new Pa(n._key,Fe.none())])}function Rl(n,e){return function(t,r){const i=new pt;return t.asyncQueue.enqueueAndForget(g(function*(){return function Hre(n,e,t){return VC.apply(this,arguments)}(yield function fD(n){return yp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(ot(n),e)}!function(n,e=!0){Ca="9.14.0",an(new zt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new ke(new _te(t.getProvider("auth-internal")),new bte(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),He(uF,"3.7.3",n),He(uF,"3.7.3","esm2017")}();var qie={includeMetadataChanges:!1};function CD(n,e){return void 0===e&&(e=qie),new Re(function(t){var r=function jie(n,...e){var t,r,i;n=qt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||gD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(gD(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(n instanceof Je)c=he(n.firestore,ke),l=Ma(n._key.path),u={next:d=>{e[o]&&e[o](function ID(n,e,t){const r=t.docs.get(e._key),i=new Xi(n);return new Ja(n,i,e._key,r,new oo(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=he(n,Qt);c=he(d.firestore,ke),l=d._query;const h=new Xi(c);u={next:f=>{e[o]&&e[o](new Xa(c,h,d,f))},error:e[o+1],complete:e[o+2]},function XV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new mp(p),y=new NC(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function SC(n,e){return xC.apply(this,arguments)}(yield Qa(d),y)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function MC(n,e){return kC.apply(this,arguments)}(yield Qa(d),y)}))}}(ot(c),l,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Jie(n,e){return void 0===e&&(e={}),function Zie(n){return CD(n,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(n).pipe(_e(function(t){return t.map(function(r){return function u2(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Dp{constructor(e){return e}}const h2="firestore",AD=new ne("angularfire2.firestore-instances");function tse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dp(r)}}const nse={provide:class Xie{constructor(){return _w(h2)}},deps:[[new ct,AD]]},rse={provide:Dp,useFactory:function ese(n,e){const t=yw(h2,n,e);return t&&new Dp(t)},deps:[[new ct,AD],ma]};let ise=(()=>{class n{constructor(){He("angularfire",Hh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({providers:[rse,nse]}),n})();function sse(n,...e){return{ngModule:ise,providers:[{provide:AD,useFactory:tse(n),multi:!0,deps:[Ke,wt,vw,ww,[new ct,zO],[new ct,Uw],...e]}]}}const ose=Yn(Jie,!0),ase=Yn(lie,!0),use=Yn(Bie,!0),f2=Yn(kV,!0),cse=Yn(Tie,!0),lse=Yn(Uie,!0);let SD=(()=>{class n{constructor(t){this.firestore=t,this.playersList=!1}listPlayers(){var t=this;return g(function*(){if(t.playersList)return t.playersList;{const r=yield fetch("../../assets/players.json").then(function(){var i=g(function*(s){return yield s.json()});return function(s){return i.apply(this,arguments)}}());return t.playersList=r,t.playersList.forEach(i=>{}),t.playersList}})()}savePlayer(t){const r=f2(this.firestore,`players/${t.id}`);return lse(r,t)}getPlayers(){const t=ase(this.firestore,"players");return ose(t,{idField:"id"})}deletePlayer(t){const r=f2(this.firestore,`players/${t.id}`);return use(r)}}return n.\u0275fac=function(t){return new(t||n)(V(Dp))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dse=(()=>{class n{constructor(t,r){this.renderer=t,this.targetElem=r}sortData(){const t=this.targetElem.nativeElement,r=t.getAttribute("data-order"),s=(t.getAttribute("data-type"),t.getAttribute("data-name"));"asc"===r?(this.reset(),this.appSort.sort((o,a)=>o[s]<a[s]?-1:1),t.setAttribute("data-order","desc")):(this.reset(),this.appSort.sort((o,a)=>o[s]<a[s]?1:-1),t.setAttribute("data-order","asc"))}reset(){["name","points","wins","losses","games","warnings","winrate","extra"].forEach(r=>{var i;null===(i=document.getElementById(r))||void 0===i||i.setAttribute("data-order","none")})}}return n.\u0275fac=function(t){return new(t||n)(E(cr),E(sn))},n.\u0275dir=H({type:n,selectors:[["","appSort",""]],hostBindings:function(t,r){1&t&&nt("click",function(){return r.sortData()})},inputs:{appSort:"appSort"}}),n})(),xD=(()=>{class n{constructor(t,r){this.el=t,this.renderer=r,this.loaded=new Le,this.isApplied=!1,this.ERROR_EVENT_TYPE="error",this.LOAD_EVENT_TYPE="load",this.nativeElement=t.nativeElement,this.onError=this.onError.bind(this),this.onLoad=this.onLoad.bind(this),this.addEvents()}ngOnDestroy(){this.removeErrorEvent(),this.removeOnLoadEvent()}onError(){this.nativeElement.getAttribute("src")!==this.imgSrc?(this.isApplied=!0,this.renderer.setAttribute(this.nativeElement,"src",this.imgSrc)):this.removeOnLoadEvent()}onLoad(){this.loaded.emit(this.isApplied)}removeErrorEvent(){this.cancelOnError&&this.cancelOnError()}removeOnLoadEvent(){this.cancelOnLoad&&this.cancelOnLoad()}addEvents(){this.cancelOnError=this.renderer.listen(this.nativeElement,this.ERROR_EVENT_TYPE,this.onError),this.cancelOnLoad=this.renderer.listen(this.nativeElement,this.LOAD_EVENT_TYPE,this.onLoad)}}return n.\u0275fac=function(t){return new(t||n)(E(sn),E(cr))},n.\u0275dir=H({type:n,selectors:[["","src-fallback",""]],inputs:{imgSrc:["src-fallback","imgSrc"]},outputs:{loaded:"loaded"}}),n})(),hse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({}),n})();function fse(n,e){if(1&n&&(Rd(0),P(1,"td"),U(2),O(),re(3,"td"),P(4,"td",21),re(5,"img",22),U(6),O(),P(7,"td"),U(8),O(),P(9,"td",23),U(10),O(),P(11,"td",24),U(12),O(),P(13,"td"),U(14),O(),P(15,"td",25),U(16),O(),P(17,"td",26),U(18),O(),P(19,"td")(20,"div",27),U(21),O(),P(22,"div",28),re(23,"div",29),O()(),Nd()),2&n){const t=Zr().$implicit,r=Zr();B(2),ur(r.players.indexOf(t)+1),B(3),ps("src","../../assets/images/",t.name,".png",xi),B(1),Hn(" ",t.name," "),B(2),ur(t.points),B(2),ur(t.wins),B(2),ur(t.losses),B(2),ur(t.games),B(2),ur(t.extra),B(2),ur(t.warnings),B(3),Hn("",t.winrate," %"),B(2),mx("width: ",t.winrate,"%;")}}function pse(n,e){if(1&n&&(P(0,"tr"),Pu(1,fse,24,13,"ng-container",20),O()),2&n){const t=e.$implicit;B(1),tt("ngIf",0!=t.points||t.games>0)}}const gse=function(){return["/elo"]},mse=function(){return["/admin"]},yse=function(){return["/login"]};let _se=(()=>{class n{constructor(t){this.playersService=t,this.players=[],this.dataList=[]}ngOnInit(){this.playersService.getPlayers().subscribe(t=>{this.players=t,this.players=this.orderBy(this.players),this.players.forEach(r=>{r.winrate=this.getWinrate(r),r.extra||(r.extra=0)}),this.dataList=this.players})}onLoad(){return g(function*(){})()}orderBy(t){return t.sort((r,i)=>r.points<i.points?1:-1)}getWinrate(t){let r=t.wins/t.games*100;return r=parseInt(r.toFixed(2)),r||0}getIcon(t){var r;let i=null===(r=document.getElementById(t))||void 0===r?void 0:r.getAttribute("data-order");return"asc"===i?"fa-sort-down":"desc"===i?"fa-sort-up":""}}return n.\u0275fac=function(t){return new(t||n)(E(SD))},n.\u0275cmp=Ii({type:n,selectors:[["app-list"]],decls:54,vars:39,consts:[["id","main",1,"container"],[1,"row"],["id","photo",1,"col-sm-3"],["id","sm","src","../../../assets/logo.png","alt",""],["id","detail",1,"col-sm-8"],["id","shawn"],["id","play",1,"btn","bg-primary",3,"routerLink"],[1,"fas","fa-solid","fa","lock"],[1,"table"],["data-order","none","data-name","name","id","name",3,"appSort"],["data-order","none","data-name","points","id","points",3,"appSort"],["data-order","none","data-name","wins","id","wins",3,"appSort"],["data-order","none","data-name","losses","id","losses",3,"appSort"],["data-order","none","data-name","games","id","games",3,"appSort"],["data-order","none","data-name","extra","id","extra",3,"appSort"],[1,"fas","fa-award"],["data-order","none","data-name","warnings","id","warnings",3,"appSort"],[1,"fa-solid","fa-triangle-exclamation"],["data-order","none","data-name","winrate","id","winrate",3,"appSort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,""],["src-fallback","https://w7.pngwing.com/pngs/347/642/png-transparent-facebook-social-media-councillor-okehampton-anonymous-silhouette-anonymous-logos-thumbnail.png",2,"vertical-align","middle","height","30px","width","30px","border-radius","30px",3,"src"],[1,"text-success"],[1,"text-danger"],[1,"text-primary"],[1,"text-warning"],[1,"progress-text"],["data-height","6",1,"progress",2,"height","6px"],["data-width","50%",1,"progress-bar","bg-primary"]],template:function(t,r){1&t&&(P(0,"div",0)(1,"div",1)(2,"div",2),re(3,"img",3),O(),P(4,"div",4)(5,"h1",5)(6,"b"),U(7,"Ambush Season 4"),O()(),P(8,"button",6),re(9,"i",7),U(10,"Stats"),O(),U(11," \xa0 "),P(12,"button",6),re(13,"i",7),U(14,"Edit"),O(),U(15," \xa0 "),P(16,"button",6),re(17,"i",7),U(18,"Login"),O()()(),P(19,"table",8)(20,"thead")(21,"tr")(22,"td"),U(23,"#"),O(),P(24,"td"),U(25,"\xa0"),O(),P(26,"td",9),U(27,"Nickname "),re(28,"i"),O(),P(29,"td",10),U(30,"Points "),re(31,"i"),O(),P(32,"td",11),U(33,"Wins "),re(34,"i"),O(),P(35,"td",12),U(36,"Losses "),re(37,"i"),O(),P(38,"td",13),U(39,"Games "),re(40,"i"),O(),P(41,"td",14),re(42,"i",15),U(43,"\xa0"),re(44,"i"),O(),P(45,"td",16),re(46,"i",17),U(47,"\xa0"),re(48,"i"),O(),P(49,"td",18),U(50,"WR "),re(51,"i"),O()()(),P(52,"tbody"),Pu(53,pse,2,1,"tr",19),O()()()),2&t&&(B(8),tt("routerLink",Xo(36,gse)),B(4),tt("routerLink",Xo(37,mse)),B(4),tt("routerLink",Xo(38,yse)),B(10),tt("appSort",r.dataList),B(2),Gn("fa-solid ",r.getIcon("name"),""),B(1),tt("appSort",r.dataList),B(2),Gn("fa-solid ",r.getIcon("points"),""),B(1),tt("appSort",r.dataList),B(2),Gn("fa-solid ",r.getIcon("wins"),""),B(1),tt("appSort",r.dataList),B(2),Gn("fa-solid ",r.getIcon("losses"),""),B(1),tt("appSort",r.dataList),B(2),Gn("fa-solid ",r.getIcon("games"),""),B(1),tt("appSort",r.dataList),B(3),Gn("fa-solid ",r.getIcon("extra"),""),B(1),tt("appSort",r.dataList),B(3),Gn("fa-solid ",r.getIcon("warnings"),""),B(1),tt("appSort",r.dataList),B(2),Gn("fa-solid ",r.getIcon("winrate"),""),B(2),tt("ngForOf",r.dataList))},directives:[aa,dse,oh,T1,xD],styles:["table[_ngcontent-%COMP%]{z-index:2;width:97%;margin-left:2em}body[_ngcontent-%COMP%]{background-color:#f6f6f6;margin-top:20px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.bg-custom[_ngcontent-%COMP%]{background-color:#753bbc!important;color:#fff}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}.bg-success[_ngcontent-%COMP%]{background-color:#54ca68!important}.bg-purple[_ngcontent-%COMP%]{background-color:#9c27b0!important;color:#fff}.bg-cyan[_ngcontent-%COMP%]{background-color:#10cfbd!important;color:#fff}.bg-red[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}.progress[_ngcontent-%COMP%]{box-shadow:0 .4rem .6rem #00000026}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.container[_ngcontent-%COMP%]{margin-top:50px}#baf[_ngcontent-%COMP%]{position:absolute;left:0vw;font-size:2.5vw}#baf[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffff80}#upg[_ngcontent-%COMP%]{border-radius:25px;margin:1vh;background:inherit;color:#fff;border:1px solid white}#user[_ngcontent-%COMP%]{font-size:3vh;color:#fff;position:relative;bottom:.5vh}#user[_ngcontent-%COMP%]:hover{background:inherit}.input-group-addon[_ngcontent-%COMP%]{background-color:#000;color:#fff}.navbar[_ngcontent-%COMP%]{background-color:inherit}#sm[_ngcontent-%COMP%]{height:20vh;width:20vh;border-radius:5vw}#photo[_ngcontent-%COMP%]{padding:2vw 2vw 2vw 5vw;padding-bottom:2vh}#detail[_ngcontent-%COMP%]{padding:2vw;color:#fff;padding-bottom:2vh}#play[_ngcontent-%COMP%]{background-color:green;color:#fff;width:80px;border-radius:25px}#like[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{color:#fff;height:40px;width:40px;border-radius:25px;background:inherit;border:1px solid white}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:7vh}tbody[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]{color:#ffffff80}.table[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.5)}#dir[_ngcontent-%COMP%]{font-size:5vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;position:relative;bottom:1vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:inherit}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background:inherit}#play[_ngcontent-%COMP%]:hover{background-color:#a5d6a7}@media only screen and (max-width: 425px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:30vw;border-radius:10vh}}@media only screen and (min-width: 426px) and (max-width: 767px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:35vw;border-radius:10vh}}"]}),n})();const Br_firebase={projectId:"ambush-rankings",appId:"1:27892416565:web:68d711498ba1410acb717c",storageBucket:"ambush-rankings.appspot.com",apiKey:"AIzaSyAG8taSDgbTOjHF3dD8Z3odOICSYjKDgz0",authDomain:"ambush-rankings.firebaseapp.com",messagingSenderId:"27892416565"},Br_options={method:"GET",headers:{"X-RapidAPI-Key":"b697ef954amsh1d11247defa3d16p18ecedjsndcb20329165d","X-RapidAPI-Host":"lol_stats.p.rapidapi.com"}};function vse(n,e){if(1&n){const t=function PS(){return I()}();P(0,"tr")(1,"th",17),U(2),O(),re(3,"td"),P(4,"td"),re(5,"img",18),U(6),O(),P(7,"td",19)(8,"i",20),U(9),O()(),P(10,"td",21)(11,"i",22),U(12),O()(),P(13,"td",23)(14,"i",24),U(15),O()(),P(16,"td",25)(17,"i",26),U(18),O()(),P(19,"td",27)(20,"button",28),nt("click",function(){const s=uu(t).$implicit;return Zr().winGame(s)}),re(21,"i",20),O(),P(22,"button",29),nt("click",function(){const s=uu(t).$implicit;return Zr().lossGame(s)}),re(23,"i",22),O(),P(24,"button",30),nt("click",function(){const s=uu(t).$implicit;return Zr().bo3Game(s)}),re(25,"i",24),O(),P(26,"button",31),nt("click",function(){const s=uu(t).$implicit;return Zr().warningPlayer(s)}),re(27,"i",26),O()()()}if(2&n){const t=e.$implicit,r=Zr();B(2),ur(r.players.indexOf(t)+1),B(3),ps("src","../../assets/images/",t.name,".png",xi),B(1),Hn(" ",t.name," "),B(3),Hn(" ",t.status.wins,""),B(3),Hn(" ",t.status.losses,""),B(3),Hn(" ",t.status.extra,""),B(3),Hn(" ",t.status.warnings,"")}}const wse=function(){return[""]};let bse=(()=>{class n{constructor(t,r){this.playersService=t,this.router=r,this.players=[]}ngOnInit(){this.playersService.getPlayers().subscribe(t=>{this.players=t,this.players=this.orderBy(this.players)})}onLoad(){return g(function*(){})()}winGame(t){t.games++,t.wins++,t.points+=10,t.status.wins++}lossGame(t){t.games++,t.losses++,t.points-=8,t.status.losses++}bo3Game(t){t.points+=10,t.extra?t.extra++:t.extra=1,t.status.extra++}warningPlayer(t){t.points-=4,t.warnings++,t.status.warnings++}orderBy(t){return t.sort((r,i)=>r.points<i.points?1:-1)}getWinrate(t){let r=t.wins/t.games*100;return r=parseInt(r.toFixed(2)),r||0}download(){this.players.forEach(t=>{t.status={wins:0,losses:0,warnings:0,extra:0},this.playersService.savePlayer(t)}),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(E(SD),E(Gt))},n.\u0275cmp=Ii({type:n,selectors:[["app-edit"]],decls:30,vars:3,consts:[["id","main",1,"container"],[1,"row"],["id","photo",1,"col-sm-3"],["id","sm","src","../../../assets/logo.png","alt",""],["id","detail",1,"col-sm-8"],["id","shawn"],["id","play",1,"btn","bg-primary",3,"routerLink"],[1,"fas","fa-solid","fa-arrow-left"],["id","play",1,"btn","bg-primary",2,"width","3em",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"table"],["scope","col",2,"width","42.5469px"],["rowspan","1","colspan","1","aria-label","&nbsp;",1,"sorting_disabled",2,"width","25px"],["scope","col"],["scope","col","colspan","4",1,"text-center"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],["src-fallback","https://w7.pngwing.com/pngs/347/642/png-transparent-facebook-social-media-councillor-okehampton-anonymous-silhouette-anonymous-logos-thumbnail.png",2,"vertical-align","middle","height","30px","width","30px","border-radius","30px",3,"src"],[1,"text-success","text-center"],[1,"fas","fa-solid","fa-thumbs-up"],[1,"text-danger","text-center"],[1,"fas","fa-solid","fa-thumbs-down"],[1,"text-primary","text-center"],[1,"fas","fa-award"],[1,"text-warning","text-center"],[1,"fas","fa-solid","fa-triangle-exclamation"],[1,"text-center"],[1,"btn","btn-outline-success","m-1",3,"click"],[1,"btn","btn-outline-danger","m-1",3,"click"],[1,"btn","btn-outline-primary","m-1",3,"click"],[1,"btn","btn-outline-warning","m-1",3,"click"]],template:function(t,r){1&t&&(P(0,"div",0)(1,"div",1)(2,"div",2),re(3,"img",3),O(),P(4,"div",4)(5,"h1",5)(6,"b"),U(7,"Ambush Season 3"),O(),U(8," (Edit)"),O(),P(9,"button",6),re(10,"i",7),U(11," Back"),O(),U(12," \xa0\xa0 "),P(13,"button",8),nt("click",function(){return r.download()}),re(14,"i",9),O()()(),P(15,"table",10)(16,"thead")(17,"tr")(18,"th",11),U(19,"#"),O(),P(20,"th",12),U(21,"\xa0"),O(),P(22,"th",13),U(23,"Nickname"),O(),P(24,"th",14),U(25,"Status"),O(),P(26,"th",15),U(27,"Actions"),O()()(),P(28,"tbody"),Pu(29,vse,28,7,"tr",16),O()()()),2&t&&(B(9),tt("routerLink",Xo(2,wse)),B(20),tt("ngForOf",r.players))},directives:[aa,oh,xD],styles:["table[_ngcontent-%COMP%]{z-index:2;width:97%;margin-left:2em}body[_ngcontent-%COMP%]{background-color:#f6f6f6;margin-top:20px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.bg-custom[_ngcontent-%COMP%]{background-color:#753bbc!important;color:#fff}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}.bg-success[_ngcontent-%COMP%]{background-color:#54ca68!important}.bg-purple[_ngcontent-%COMP%]{background-color:#9c27b0!important;color:#fff}.bg-cyan[_ngcontent-%COMP%]{background-color:#10cfbd!important;color:#fff}.bg-red[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}.progress[_ngcontent-%COMP%]{box-shadow:0 .4rem .6rem #00000026}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.container[_ngcontent-%COMP%]{margin-top:50px}#baf[_ngcontent-%COMP%]{position:absolute;left:0vw;font-size:2.5vw}#baf[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffff80}#upg[_ngcontent-%COMP%]{border-radius:25px;margin:1vh;background:inherit;color:#fff;border:1px solid white}#user[_ngcontent-%COMP%]{font-size:3vh;color:#fff;position:relative;bottom:.5vh}#user[_ngcontent-%COMP%]:hover{background:inherit}.input-group-addon[_ngcontent-%COMP%]{background-color:#000;color:#fff}.navbar[_ngcontent-%COMP%]{background-color:inherit}#sm[_ngcontent-%COMP%]{height:20vh;width:20vh;border-radius:5vw}#photo[_ngcontent-%COMP%]{padding:2vw 2vw 2vw 5vw;padding-bottom:2vh}#detail[_ngcontent-%COMP%]{padding:2vw;color:#fff;padding-bottom:2vh}#play[_ngcontent-%COMP%]{background-color:green;color:#fff;width:80px;border-radius:25px}#like[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{color:#fff;height:40px;width:40px;border-radius:25px;background:inherit;border:1px solid white}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:7vh}tbody[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]{color:#ffffff80}.table[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.5)}#dir[_ngcontent-%COMP%]{font-size:5vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;position:relative;bottom:1vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:inherit}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background:inherit}#play[_ngcontent-%COMP%]:hover{background-color:#a5d6a7}@media only screen and (max-width: 425px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:30vw;border-radius:10vh}}@media only screen and (min-width: 426px) and (max-width: 767px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:35vw;border-radius:10vh}}"]}),n})(),p2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(cr),E(sn))},n.\u0275dir=H({type:n}),n})(),ao=(()=>{class n extends p2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function jt(n){return Ei(()=>{const e=n.prototype.constructor,t=e[zr]||Cg(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[zr]||Cg(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=H({type:n,features:[we]}),n})();const jr=new ne("NgValueAccessor"),Cse={provide:jr,useExisting:Te(()=>Tp),multi:!0},Tse=new ne("CompositionEventMode");let Tp=(()=>{class n extends p2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dse(){const n=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(cr),E(sn),E(Tse,8))},n.\u0275dir=H({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&nt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Oe([Cse]),we]}),n})();const Yt=new ne("NgValidators"),ts=new ne("NgAsyncValidators");function D2(n){return null!=n}function T2(n){const e=Fu(n)?xt(n):n;return Pm(e),e}function A2(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function S2(n,e){return e.map(t=>t(n))}function x2(n){return n.map(e=>function Sse(n){return!n.validate}(e)?e:t=>e.validate(t))}function MD(n){return null!=n?function M2(n){if(!n)return null;const e=n.filter(D2);return 0==e.length?null:function(t){return A2(S2(t,e))}}(x2(n)):null}function kD(n){return null!=n?function k2(n){if(!n)return null;const e=n.filter(D2);return 0==e.length?null:function(t){return function Ese(...n){const e=M0(n),{args:t,keys:r}=G1(n),i=new Re(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Jn(t[l]).subscribe(yt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?z1(r,a):a),s.complete())}))}});return e?i.pipe(q1(e)):i}(S2(t,e).map(T2)).pipe(_e(A2))}}(x2(n)):null}function R2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function N2(n){return n._rawValidators}function O2(n){return n._rawAsyncValidators}function RD(n){return n?Array.isArray(n)?n:[n]:[]}function Sp(n,e){return Array.isArray(n)?n.includes(e):n===e}function P2(n,e){const t=RD(e);return RD(n).forEach(i=>{Sp(t,i)||t.push(i)}),t}function F2(n,e){return RD(e).filter(t=>!Sp(n,t))}class L2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ns extends L2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn extends L2{get formDirective(){return null}get path(){return null}}class V2{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let U2=(()=>{class n extends V2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(ns,2))},n.\u0275dir=H({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Od("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[we]}),n})(),B2=(()=>{class n extends V2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(hn,10))},n.\u0275dir=H({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Od("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[we]}),n})();function Nl(n,e){PD(n,e),e.valueAccessor.writeValue(n.value),function Fse(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$2(n,e)})}(n,e),function Vse(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Lse(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Pse(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function kp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PD(n,e){const t=N2(n);null!==e.validator?n.setValidators(R2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=O2(n);null!==e.asyncValidator?n.setAsyncValidators(R2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Rp(e._rawValidators,i),Rp(e._rawAsyncValidators,i)}function Np(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=N2(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=O2(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Rp(e._rawValidators,r),Rp(e._rawAsyncValidators,r),t}function $2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ol="VALID",Op="INVALID",eu="PENDING",Pl="DISABLED";function BD(n){return(Pp(n)?n.validators:n)||null}function z2(n){return Array.isArray(n)?MD(n):n||null}function jD(n,e){return(Pp(e)?e.asyncValidators:n)||null}function W2(n){return Array.isArray(n)?kD(n):n||null}function Pp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const K2=n=>n instanceof Fp,$D=n=>n instanceof Lp;function Q2(n){return K2(n)?n.value:n.getRawValue()}function Y2(n,e){const t=$D(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new fe(1e3,"");if(!r[e])throw new fe(1001,"")}function Z2(n,e){$D(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new fe(1002,"")})}class HD{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=z2(this._rawValidators),this._composedAsyncValidatorFn=W2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ol}get invalid(){return this.status===Op}get pending(){return this.status==eu}get disabled(){return this.status===Pl}get enabled(){return this.status!==Pl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=z2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=W2(e)}addValidators(e){this.setValidators(P2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(P2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(F2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(F2(e,this._rawAsyncValidators))}hasValidator(e){return Sp(this._rawValidators,e)}hasAsyncValidator(e){return Sp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ol,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ol||this.status===eu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pl:Ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eu,this._hasOwnPendingAsyncValidator=!0;const t=T2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function $se(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=$D(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Gse)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Pl:this.errors?Op:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eu)?eu:this._anyControlsHaveStatus(Op)?Op:Ol}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fp extends HD{constructor(e=null,t,r){super(BD(t),jD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Lp extends HD{constructor(e,t,r){super(BD(t),jD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Z2(this,e),Object.keys(e).forEach(r=>{Y2(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Q2(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Gse extends HD{constructor(e,t,r){super(BD(t),jD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Z2(this,e),e.forEach((r,i)=>{Y2(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Q2(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=H({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({}),n})();const qD=new ne("NgModelWithFormControlWarning"),Xse={provide:hn,useExisting:Te(()=>Vp)};let Vp=(()=>{class n extends hn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Nl(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){kp(t.control||null,t,!1),VD(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function q2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(kp(r||null,t),K2(i)&&(Nl(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function H2(n,e){PD(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Use(n,e){return Np(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PD(this.form,this),this._oldForm&&Np(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(E(Yt,10),E(ts,10))},n.\u0275dir=H({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&nt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([Xse]),we,Vn]}),n})();const noe={provide:ns,useExisting:Te(()=>KD)};let KD=(()=>{class n extends ns{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Le,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function LD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Tp?t=s:function jse(n){return Object.getPrototypeOf(n.constructor)===ao}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function FD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Mp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(E(hn,13),E(Yt,10),E(ts,10),E(jr,10),E(qD,8))},n.\u0275dir=H({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([noe]),we,Vn]}),n})(),_oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({imports:[[iU]]}),n})(),voe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qD,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({imports:[_oe]}),n})(),woe=(()=>{class n{constructor(t){this.auth=t}register({email:t,password:r}){return lee(this.auth,t,r)}login({email:t,password:r}){return hee(this.auth,t,r)}logout(){return fee(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(V(Nc))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),boe=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.formLogin=new Lp({email:new Fp,password:new Fp})}ngOnInit(){}onSubmit(){this.authService.login(this.formLogin.value).then(t=>{console.log(t),this.router.navigate([""])}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(E(woe),E(Gt))},n.\u0275cmp=Ii({type:n,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"flex-container"],[1,"content-container"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"subtitle"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Submit","id","play",1,"btn","bg-primary"]],template:function(t,r){1&t&&(P(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),nt("ngSubmit",function(){return r.onSubmit()}),P(4,"h1"),U(5," Login "),O(),re(6,"br")(7,"br"),P(8,"span",4),U(9,"USERNAME:"),O(),re(10,"br")(11,"input",5)(12,"br"),P(13,"span",4),U(14,"PASSWORD:"),O(),re(15,"br")(16,"input",6)(17,"br")(18,"br")(19,"input",7)(20,"br")(21,"br")(22,"br")(23,"br"),O()()()()),2&t&&(B(3),tt("formGroup",r.formLogin))},directives:[nU,B2,Vp,Tp,U2,KD],styles:["html[_ngcontent-%COMP%]{scroll-behavior:smooth}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#121212;overflow-x:hidden;height:100%;-webkit-user-select:none;-o-user-select:none;user-select:none}body[_ngcontent-%COMP%]:not(.user-is-tabbing)   button[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]:not(.user-is-tabbing)   input[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]:not(.user-is-tabbing)   select[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]:not(.user-is-tabbing)   textarea[_ngcontent-%COMP%]:focus{outline:none}h1[_ngcontent-%COMP%]{color:#fff;font-size:35px;font-weight:800}.flex-container[_ngcontent-%COMP%]{width:100vw;margin-top:60px;display:flex;justify-content:center;align-items:center}.content-container[_ngcontent-%COMP%]{width:500px;height:350px}.form-container[_ngcontent-%COMP%]{align-items:center;width:500px;height:350px;margin-top:5px;padding-top:20px;border-radius:12px;display:flex;justify-content:center;flex-direction:column;box-shadow:5px 5px 10px #0003;background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}.subtitle[_ngcontent-%COMP%]{font-size:11px;color:#b1b1b14d}input[_ngcontent-%COMP%]{border:none;border-bottom:solid rgb(143,143,143) 1px;margin-bottom:30px;background:none;color:#ffffff8e;height:35px;width:300px}#play[_ngcontent-%COMP%]{color:#fff;width:80px;border-radius:25px}"]}),n})(),Eoe=(()=>{class n{constructor(){}getStats(t){return g(function*(){return yield fetch("https://lol_stats.p.rapidapi.com/"+t,Br_options).then(function(){var i=g(function*(s){return yield s.json()});return function(s){return i.apply(this,arguments)}}())})()}summonerIdResponse(t){return g(function*(){return yield fetch(`https://euw1.api.riotgames.com/lol/summoner/v4/summoners/by-name/${encodeURI(t)}`,{headers:{"X-Riot-Token":"RGAPI-298f482c-980e-447c-92f3-30c101e74768","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}}).then(function(){var i=g(function*(s){return yield s.json()});return function(s){return i.apply(this,arguments)}}())})()}callApi(t){return g(function*(){return yield fetch(`https://euw1.api.riotgames.com/lol/league/v4/entries/by-summoner/${t}?api_key=RGAPI-711a8943-3390-4399-8e8c-c747aa547e9c`).then(function(){var i=g(function*(s){return yield s.json()});return function(s){return i.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ioe(n,e){if(1&n&&(P(0,"tr")(1,"td"),U(2),O(),re(3,"td"),P(4,"td",10),re(5,"img",11),U(6),O(),P(7,"td"),re(8,"img",12),U(9),O(),P(10,"td")(11,"b")(12,"a",13),U(13,"OP.GG"),O()()()()),2&n){const t=e.$implicit,r=Zr();B(2),ur(r.players.indexOf(t)+1),B(3),ps("src","../../assets/images/",t.name,".png",xi),B(1),Hn(" ",t.name," "),B(2),Lm("src",t.id,xi),B(1),Hn(" ",t.avatar," "),B(3),ps("href","https://www.op.gg/summoners/euw/",t.games,"",xi)}}const Coe=function(){return[""]};let Doe=(()=>{class n{constructor(t,r){this.playersService=t,this.statsService=r,this.players=[],this.dataList=[]}ngOnInit(){var t=this;return g(function*(){t.playersService.getPlayers().subscribe(r=>{t.players=r,t.players=t.orderBy(t.players),t.players.forEach(function(){var i=g(function*(s){if(s.avatar="Unranked",s.id="https://static.wikia.nocookie.net/leagueoflegends/images/1/14/Silver_icon.png/",null!=s.nickname){let o=yield t.statsService.callApi(s.nickname),a=`${o[1].tier} ${o[1].rank}`,c=`https://opgg-static.akamaized.net/images/medals_new/${a.split(" ")[0].toLowerCase()}.png`;s.avatar=a,s.id=c,s.games=o[0].summonerName}});return function(s){return i.apply(this,arguments)}}()),t.dataList=t.players}),t.onLoad()})()}onLoad(){return g(function*(){})()}getElo(t){return g(function*(){let r=t.soloQ.split(" ");return`${r[0]} ${r[1][0]} (${""!=r[1].substring(1)?r[1].substring(1):0} LP)`})()}getImage(t){return g(function*(){let r=t.soloQ.split(" ");return r=r[0].toLowerCase(),`https://opgg-static.akamaized.net/images/medals_new/${r}.png`})()}getChamp(t,r){return g(function*(){let i=t.mostPlayedChamps[r].champName;switch(i){case"Kha'Zix":return"Khazix";case"Wukong":return"MonkeyKing";case"Dr. Mundo":return"DrMundo";case"Rek'Sai":return"RekSai";case"Jarvan IV":return"JarvanIV";case"Kai'Sa":return"Kaisa";case"Kog'Maw":return"KogMaw";default:return i}})()}getOpgg(t){return null!=t.nickname?t.nickname.replace("1",""):null}compare(t,r){let o,u,i=t.avatar.split(" ")[0],s=r.avatar.split(" ")[0],a=0,c=0;switch("Unranked"!=i&&"Unranked"!=s&&(o=t.avatar.split(" ")[2].substring(1),u=r.avatar.split(" ")[2].substring(1),(t.avatar.split(" ")[1]||t.avatar.split(" ")[1])&&(a=t.avatar.split(" ")[1],c=r.avatar.split(" ")[1],console.log(`${t.name} ${i} ${a} ${o}`))),i){case"Iron":return"Iron"===s?this.getOrder(a,c,o,u):-1;case"Bronze":switch(s){case"Iron":return 1;case"Bronze":return this.getOrder(a,c,o,u);default:return-1}case"Silver":switch(s){case"Iron":case"Bronze":return 1;case"Silver":return this.getOrder(a,c,o,u);default:return-1}case"Gold":switch(s){case"Iron":case"Bronze":case"Silver":return 1;case"Gold":return this.getOrder(a,c,o,u);default:return-1}case"Platinum":switch(s){case"Iron":case"Bronze":case"Silver":case"Gold":return 1;case"Platinum":return this.getOrder(a,c,o,u);default:return-1}case"Diamond ":switch(s){case"Iron":case"Bronze":case"Silver":case"Gold":case"Platinum":return 1;case"Diamond ":return this.getOrder(a,c,o,u);default:return-1}case"Master ":switch(s){case"Iron":case"Bronze":case"Silver":case"Gold":case"Platinum":case"Diamond":return 1;case"Master ":return this.getOrder(a,c,o,u);default:return-1}case"Grandmaster ":switch(s){case"Iron":case"Bronze":case"Silver":case"Gold":case"Platinum":case"Diamond":case"Master":return 1;case"Grandmaster ":return this.getOrder(a,c,o,u);default:return-1}case"Challenger ":switch(s){case"Iron":case"Bronze":case"Silver":case"Gold":case"Platinum":case"Diamond":case"Master":case"Grandmaster":return 1;case"Challenger ":return this.getOrder(a,c,o,u);default:return-1}}return 1}getOrder(t,r,i,s){return t==r?i<s?1:-1:t<r?1:-1}orderBy(t){return t.sort((r,i)=>r.avatar<i.avatar?1:-1)}getIcon(t){var r;let i=null===(r=document.getElementById(t))||void 0===r?void 0:r.getAttribute("data-order");return"asc"===i?"fa-sort-down":"desc"===i?"fa-sort-up":""}}return n.\u0275fac=function(t){return new(t||n)(E(SD),E(Eoe))},n.\u0275cmp=Ii({type:n,selectors:[["app-elo"]],decls:29,vars:12,consts:[["id","main",1,"container"],[1,"row"],["id","photo",1,"col-sm-3"],["id","sm","src","../../../assets/logo.png","alt",""],["id","detail",1,"col-sm-8"],["id","shawn"],["id","play",1,"btn","bg-primary",3,"routerLink"],[1,"fas","fa-solid","fa-arrow-left"],[1,"table"],[4,"ngFor","ngForOf"],[1,""],["src-fallback","https://w7.pngwing.com/pngs/347/642/png-transparent-facebook-social-media-councillor-okehampton-anonymous-silhouette-anonymous-logos-thumbnail.png",2,"vertical-align","middle","height","30px","width","30px","border-radius","30px",3,"src"],[2,"vertical-align","middle","height","30px","width","30px","border-radius","30px",3,"src"],["target","_blank",2,"color","#5383e8",3,"href"]],template:function(t,r){1&t&&(P(0,"div",0)(1,"div",1)(2,"div",2),re(3,"img",3),O(),P(4,"div",4)(5,"h1",5)(6,"b"),U(7,"Ambush Stats [WIP]"),O()(),P(8,"button",6),re(9,"i",7),U(10," Back"),O()()(),P(11,"table",8)(12,"thead")(13,"tr")(14,"td"),U(15,"#"),O(),P(16,"td"),U(17,"\xa0"),O(),P(18,"td"),U(19,"Nickname "),re(20,"i"),O(),P(21,"td"),U(22,"Elo "),re(23,"i"),O(),P(24,"td"),U(25,"Stats "),re(26,"i"),O()()(),P(27,"tbody"),Pu(28,Ioe,14,6,"tr",9),O()()()),2&t&&(B(8),tt("routerLink",Xo(11,Coe)),B(12),Gn("fa-solid ",r.getIcon("name"),""),B(3),Gn("fa-solid ",r.getIcon("elo"),""),B(3),Gn("fa-solid ",r.getIcon("stats"),""),B(2),tt("ngForOf",r.dataList))},directives:[aa,oh,xD],styles:["table[_ngcontent-%COMP%]{z-index:2;width:97%;margin-left:2em}body[_ngcontent-%COMP%]{background-color:#f6f6f6;margin-top:20px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.bg-custom[_ngcontent-%COMP%]{background-color:#753bbc!important;color:#fff}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}.bg-success[_ngcontent-%COMP%]{background-color:#54ca68!important}.bg-purple[_ngcontent-%COMP%]{background-color:#9c27b0!important;color:#fff}.bg-cyan[_ngcontent-%COMP%]{background-color:#10cfbd!important;color:#fff}.bg-red[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}.progress[_ngcontent-%COMP%]{box-shadow:0 .4rem .6rem #00000026}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.container[_ngcontent-%COMP%]{margin-top:50px}#baf[_ngcontent-%COMP%]{position:absolute;left:0vw;font-size:2.5vw}#baf[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffff80}#upg[_ngcontent-%COMP%]{border-radius:25px;margin:1vh;background:inherit;color:#fff;border:1px solid white}#user[_ngcontent-%COMP%]{font-size:3vh;color:#fff;position:relative;bottom:.5vh}#user[_ngcontent-%COMP%]:hover{background:inherit}.input-group-addon[_ngcontent-%COMP%]{background-color:#000;color:#fff}.navbar[_ngcontent-%COMP%]{background-color:inherit}#sm[_ngcontent-%COMP%]{height:20vh;width:20vh;border-radius:5vw}#photo[_ngcontent-%COMP%]{padding:2vw 2vw 2vw 5vw;padding-bottom:2vh}#detail[_ngcontent-%COMP%]{padding:2vw;color:#fff;padding-bottom:2vh}#play[_ngcontent-%COMP%]{background-color:green;color:#fff;width:80px;border-radius:25px}#like[_ngcontent-%COMP%], #more[_ngcontent-%COMP%]{color:#fff;height:40px;width:40px;border-radius:25px;background:inherit;border:1px solid white}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:7vh}tbody[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]{color:#ffffff80}.table[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.5)}#dir[_ngcontent-%COMP%]{font-size:5vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;position:relative;bottom:1vh}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:inherit}#dir[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background:inherit}#play[_ngcontent-%COMP%]:hover{background-color:#a5d6a7}@media only screen and (max-width: 425px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:30vw;border-radius:10vh}}@media only screen and (min-width: 426px) and (max-width: 767px){#dir[_ngcontent-%COMP%]{display:none}#sm[_ngcontent-%COMP%]{position:relative;left:35vw;border-radius:10vh}}"]}),n})();const JD=_e(n=>!!n);let Toe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>JD);return cee(this.auth).pipe(fh(1),o(i,s),_e(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(V(Gt),V(Nc))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const wU=n=>({canActivate:[Toe],data:{authGuardPipe:n}}),Moe=[{path:"",component:_se},{path:"elo",component:Doe},Object.assign({path:"admin",component:bse},wU(()=>(n=>d0(JD,_e(e=>e||n)))([""]))),Object.assign({path:"login",component:boe},wU(()=>(n=>d0(JD,_e(e=>e&&n||!0)))([""]))),{path:"**",redirectTo:"",pathMatch:"full"}];let koe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Xt({imports:[[Zk.forRoot(Moe)],Zk]}),n})(),Roe=(()=>{class n{constructor(){this.title="Ambush_Rankings"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ii({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&re(0,"router-outlet")},directives:[a_],styles:[""]}),n})(),Noe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n,bootstrap:[Roe]}),n.\u0275inj=Xt({providers:[],imports:[[hse,S8,koe,voe,xY(()=>MY(Br_firebase)),uee(()=>dee()),sse(()=>cse())]]}),n})();T8().bootstrapModule(Noe).catch(n=>console.error(n))}},le=>{le(le.s=852)}]);